<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>不，禁用IPv6可能不会加快您的互联网连接速度</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>不，禁用IPv6可能不会加快您的互联网连接速度</h2></div><div class="content"><img class="content_img" src="/image/32/32f0d9cc159f748f2642751331c00c61.jpg" /><p>Windows、Linux和其他操作系统都内置了对IPv6的支持，并且在默认情况下处于启用状态。根据流传的谣言，这种IPv6支持会减慢您的连接速度，而禁用它会加快速度。</p><p>这个传言最初有一定的真实性-Firefox3在一些计算机上处理IPv6的能力很差，特别是在Linux系统上。然而，这个神话并不是真的-我们甚至做了一个基准测试来验证它。</p><p>神话</p><p>相关：您已经在使用IPv6了吗？你还在乎吗？</p><p>Windows、Linux和其他操作系统都集成了对IPv6的支持。默认情况下，所有系统上的IPv6支持都处于激活状态。然而，大多数人的连接仍然使用IPv4协议，而不是解决IPv4诸多问题的下一代IPv6协议。</p><p>因此，有一种说法是，启用IPv6会降低您的互联网连接速度。当您连接到网站时，您的计算机将首先搜索IPv6地址，然后发现该地址不可用并切换到IPv4。禁用IPv6，您的计算机将立即查找IPv4地址，从而消除这些小小的延迟。</p><img class="content_img" src="/image/d1/d1ea82e8fcf248701bbe14a4c5ac271f.png" /><p>神话从何而来</p><p>Firefox3在IPv6上有问题。启用IPv6时，Firefox尝试在切换到IPv4之前先使用IPv6解析DNS地址。这可能会在您每次导航到Firefox中的新域时增加明显的延迟。这在很多年前的一些带有Firefox3的Linux系统上是一个大问题，所以现在仍然有一些在Linux上禁用IPv6以加快Firefox速度的小贴士。在Firefox的About：Config页面上将“network.dns.disableIPv6”首选项设置为True将禁用此IPv6支持，因此您可以仅对Firefox禁用它，而不会在系统范围内禁用它。</p><p>Firefox 4解决了此问题。现在，如果您的连接上确实可以使用IPv6，Firefox将只使用IPv6 DNS查找。它足够聪明，可以自己处理这件事。这只是Firefox3中的一个错误，现在已经修复了。</p><img class="content_img" src="/image/47/4799812fb499b890d55c48008c2c9fb4.png" /><p>在具有错误配置的IPv6设置的网络上，计算机可能会在回退到IPv4之前尝试联系损坏的或不存在的IPv6 DNS服务器。如果您在这样的网络上，禁用IPv6可能会对您有所帮助-但此时您不太可能连接到配置如此糟糕的IPv6设置的网络或Internet服务提供商。</p><p>有关禁用IPv6的问题</p><p>相关：什么是IPv6，它为什么重要？</p><p>禁用IPv6可能会导致问题。如果您的Internet连接和路由器已经迁移到IPv6，您将失去正确使用它的能力。某些家庭网络功能可能还需要IPv6-例如，Windows 7中引入的易于使用的家庭组家庭网络功能需要在家庭网络上的计算机上启用IPv6才能使用它。</p><p>尽管进展太慢，但整个世界都在向IPv6迈进。IPv6是取代IPv4的必由之路--我们的IPv4地址快用完了，IPv6是解决方案。</p><img class="content_img" src="/image/53/53b72f5b699f503182b9fa95f79e74e7.png" /><p>基准</p><p>相关：什么是DNS，我是否应该使用其他DNS服务器？</p><p>根据神话，禁用IPv6将通过消除计算机在回退到IPv4之前检查IPv6地址时出现的延迟来加快DNS请求速度。为了对此进行基准测试，我们对DNS请求进行了基准测试。</p><p>首先，我们在正常配置的Windows8.1系统上使用默认设置运行namebench。此系统上启用了IPv6，因为这是默认设置，但该连接没有IPv6功能。根据神话，IPv6支持正在减慢我们的速度。</p><p>在启用IPv6的情况下，基准测试显示Google Public DNS服务器的平均DNS请求速度为43.22ms。</p><img class="content_img" src="/image/60/60d1af782dc6f524bf03701fa2cea328.png" /><p>接下来，我们通过转到注册表编辑器中的HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TCPIP6\Parameters，添加DisabledComponents值，并将其设置为FFFFFFF来禁用IPV6，正如微软关于禁用IPV6的说明所指定的那样。然后，我们重新启动计算机并验证IPv6是否已禁用-ipconfig/all中未显示任何IPv6接口。</p><p>在禁用IPv6的情况下，基准测试显示Google Public DNS服务器的平均速度为43.97ms。在禁用IPv6的情况下，DNS查找可能看起来实际上较慢，但这完全在误差范围之内。在启用IPv6的情况下没有明显的减速，只是正常的速度变化--在这种情况下，启用IPv6的速度实际上要快一点。</p><img class="content_img" src="/image/f4/f41eb019417732c477208dff79b4f3b3.png" /><p>您的网络很可能不需要IPv6-除非您依赖Windows Homegroup或类似功能-因此，如果您知道自己在做什么，删除它可能不会特别有害。但是，除非您的Internet服务提供商的网络或您的家庭网络出现严重问题，否则您不会看到使用IPv4带来的速度提升。</p><p>图片来源：蒂埃里·埃尔曼(Thierry Ehrmann)在Flickr上</p><div class="item_info"><span class="item_key"><a href="/tag/ipv6/">ipv6</a></span><span class="item_key"><a href="/tag/连接/">连接</a></span><span class="item_key"><a href="/tag/dns/">dns</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/6284.html">您已经在使用IPv6了吗？你还在乎吗？</a><li><a href="/story/4556.html">什么是IPv6？为什么它很重要？</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>