<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Windows中将碎片整理选项添加到驱动器的右键单击菜单</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Windows中将碎片整理选项添加到驱动器的右键单击菜单</h2></div><div class="content"><img class="content_img" src="/image/ff/ff29c0df56848aef9d82a4fddfe6a996.png" /><p>在定期维护计划期间，现代版本的Windows会对驱动器进行碎片整理。但是，如果您手动进行碎片整理-也许您在不使用PC时将其关闭-您可能会喜欢一种更快的访问命令的方式。</p><p>如果您使用的是Windows Vista直到Windows10，您可能不再需要手动整理驱动器碎片。如果您使用的是固态硬盘(SSD)，这一点尤其适用，因为固态硬盘不仅需要避免该过程带来的过度损耗，而且无论如何也不需要碎片整理。Windows每周自动对需要的驱动器进行一次碎片整理-默认情况下是在周三凌晨1：00。(而且它还足够聪明，根本不对固态硬盘进行碎片整理。)</p><p>然而，这种自动维护要求您的PC在那个时候打开，或者至少能够从睡眠中唤醒才能进行碎片整理。如果您在不使用PC时将其关闭，您可能需要偶尔自行整理驱动器碎片。与其钻研工具来做这件事，为什么不在右键单击文件资源管理器中的驱动器时得到的上下文菜单中添加一个碎片整理命令呢？</p><p>相关：我真的需要对我的电脑进行碎片整理吗？</p><p>通过手动编辑注册表，将碎片整理添加到上下文菜单中</p><p>要将碎片整理命令添加到上下文菜单中，您只需在Windows注册表中进行几个快速编辑。</p><p>标准警告：注册表编辑器是一个功能强大的工具，滥用它会使您的系统不稳定，甚至无法操作。这是一个非常简单的技巧，只要你遵守说明，应该不会有任何问题。也就是说，如果您以前从未使用过注册表编辑器，请考虑在开始之前阅读有关如何使用注册表编辑器的信息。而且一定要备份注册表(和您的计算机！)。在做出改变之前。</p><p>相关：学习像专业人士一样使用注册表编辑器</p><p>点击“开始”并键入“regedit”，打开注册表编辑器。按Enter键打开注册表编辑器，并授予其对您的PC进行更改的权限。</p><img class="content_img" src="/image/03/035eeb456d42ce6ac7f0704cfee93c86.png" /><p>在注册表编辑器中，使用左侧工具栏导航到以下项：</p><code>HKEY_CLASSES_ROOT\Drive\shell</code><img class="content_img" src="/image/fc/fc7932cc3c7f90b6ea0ca6a73d08eddd.png" /><p>接下来，您将在shell密钥中创建一个新密钥。右键单击外壳密钥，然后选择新建&gt;密钥。将新密钥命名为“runas”。</p><img class="content_img" src="/image/c3/c3077254bdea3ceae01f84ee34fc059c.png" /><p>现在，您将更改新runas键内的(默认值)值。在选择RunAs关键点的情况下，双击(默认值)值以打开其属性窗口。</p><img class="content_img" src="/image/92/922a0b4a2ec240ca436bc079d6e65a4e.png" /><p>在“属性”窗口中，将“值数据”框中的值设置为“碎片整理”，然后单击“确定”。这为该命令提供了将出现在上下文菜单上的名称。</p><img class="content_img" src="/image/2e/2e2780a1605213c29c73990d324b7266.png" /><p>或者，您也可以将该命令设置为只有在按住Shift键的同时右键单击驱动器时才会显示-这与隐藏“Open Command Prompt”命令的方式非常相似，除非您在按住Shift键的同时右键单击文件夹。为此，右键单击runas键并选择New&gt;String值。将新值命名为“Extended”。您不需要对其进行任何更改。仅将该字符串放在那里就会导致命令隐藏在Shift键访问之后。</p><img class="content_img" src="/image/9b/9b17621f51b9233954d7ec9864dddb88.png" /><p>无论您是否采取了创建扩展值的可选步骤，该过程的其余部分都是相同的。接下来，您需要在runas密钥中创建一个新密钥。右键单击RunAs关键点，然后选择“New”&gt;“Key”。将新密钥命名为“COMMAND”。</p><img class="content_img" src="/image/70/702c64c20c823f8908c66f8faad74394.png" /><p>现在，您将更改新命令键内的(默认值)值。选择命令键后，双击(默认值)值以打开其属性窗口。</p><img class="content_img" src="/image/a0/a081e6adb865a97b86e578d96c423a9b.png" /><p>(默认值)指定当您选择关联菜单上的选项时将运行的实际命令。对于我们的示例，我们将调用命令提示符碎片整理命令，并使用默认选项运行它，但要打开详细开关，以便您可以看到该命令的输出。为此，请在“值数据”框中键入以下文本，然后单击“确定”。</p><code>defrag %1 -v</code><img class="content_img" src="/image/aa/aa1908a1c27d66786d506e8d610aa257.png" /><p>相关：通过命令提示符更深入地研究Windows碎片整理</p><p>由于我们调用的是命令提示符碎片整理命令，如果愿意，您还可以使用命令支持的任何开关。我们有一个很棒的指南，它更深入地研究了碎片整理命令，并涵盖了这些额外的选项。</p><p>更改应该立即生效，这样您就可以退出注册表编辑器。要测试它，只需右键单击(或者如果您设置了该选项，则在按住Shift键的同时单击鼠标右键)任何驱动器，并确保“碎片整理”命令在那里。</p><img class="content_img" src="/image/56/56976645e36fe16fdd2f7c174203ec8c.png" /><p>当您运行该命令时(这可能需要一些时间)，您应该会看到一个包含结果的命令提示符窗口。</p><img class="content_img" src="/image/04/04435902fd9a19ca23a3c61e47da56a4.png" /><p>如果您想随时撤销更改，只需返回注册表并删除您创建的runas项。这将自动删除您在RunAs关键点内创建的任何值和其他关键点，并从上下文菜单中删除该命令。</p><p>下载我们的一键式注册表技巧</p><img class="content_img" src="/image/98/98c168f1b811169ce3a956c75b341eb7.png" /><p>如果您不想自己潜入注册表，我们已经创建了一些您可以使用的注册表黑客。“将碎片整理添加到上下文菜单”黑客将碎片整理命令添加到常规上下文菜单。“将碎片整理添加到Shift上下文菜单”会将碎片整理命令添加到按住Shift键并单击鼠标右键时获得的上下文菜单中。“从上下文菜单中删除碎片整理”会删除该命令，无论您使用哪种方式添加它。以下ZIP文件中包含了所有这三种黑客攻击。双击要使用的选项，然后在提示符间单击。</p><p>碎片整理上下文菜单黑客</p><p>相关：如何进行您自己的Windows注册表黑客攻击</p><p>这些hack实际上只是runas密钥，剥离成我们在上一节中谈到的其他密钥和值，然后导出到.reg文件。运行黑客只会修改该值。如果您喜欢摆弄注册表，那么花时间学习如何编写您自己的注册表是值得的。</p><div class="item_info"><span class="item_key"><a href="/tag/注册表/">注册表</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/碎片/">碎片</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14559.html">如何在Windows 10上禁用首次登录动画</a><li><a href="/story/13902.html">如何在Word中重置用户选项和注册表设置</a><li><a href="/story/13881.html">如何在Microsoft Office中禁用“从您停止的地方重新开始”</a><li><a href="/story/13652.html">如何从Windows文件资源管理器的“新建”菜单中删除项目</a><li><a href="/story/13634.html">如何在Windows 10上禁用登录屏幕的背景模糊</a><li><a href="/story/13594.html">如何在Windows 10上禁用“保留存储”</a><li><a href="/story/12943.html">如何在Windows 10中启用剩余电池时间</a><li><a href="/story/12775.html">如何禁用Windows 10启动延迟</a><li><a href="/story/12421.html">如何防止Microsoft Edge在Windows 10上预加载</a><li><a href="/story/12307.html">如何在Windows 10上禁用您的电话链接功能</a><li><a href="/story/12082.html">10-22-18</a><li><a href="/story/12080.html">什么是REG文件(以及如何打开)？</a><li><a href="/story/12049.html">如何从Windows 10设置中清除最近使用的桌面背景图像</a><li><a href="/story/12022.html">揭开Windows注册表的神秘面纱：你能用它做些什么</a><li><a href="/story/11789.html">如何让Windows10的Alt+Tab应用切换器更加透明</a><li><a href="/story/11594.html">如何将其他文件类型添加到Windows10文件资源管理器中的“新建项目”菜单</a><li><a href="/story/11253.html">如何禁用内置的“Windows键”快捷键</a><li><a href="/story/11251.html">如何让Windows在关机时清除页面文件(以及应该在何时清除)</a><li><a href="/story/11199.html">如何在退出Windows时清除最近使用的文档列表</a><li><a href="/story/11136.html">如何更改Windows中的默认控制面板视图</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>