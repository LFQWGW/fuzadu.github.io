<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何将树莓PI变成一台永远在线的Usenet机器</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何将树莓PI变成一台永远在线的Usenet机器</h2></div><div class="content"><img class="content_img" src="/image/e9/e9694626b257210224b18891f295a903.jpg" /><p>我们最近向你展示了如何将你的树莓PI变成一个全天候的BitTorrent盒子，以节省你的电费，并保持你的跟踪器比率的黄金。现在，我们回来向您展示如何添加Usenet access，使构建更加完整，成为一个全面的下载框。</p><p>我为什么要这么做？</p><p>正如我们在如何将Raspberry PI转变为始终在线的BitTorrent Box中所强调的那样，将您的下载活动转移到Raspberry PI单元的主要原因是巨大的电力节约。与将传统计算机作为家庭服务器/下载盒运行相比，在其位置运行Raspberry PI将为您节省一大笔现金。</p><p>如果你遵循“如何测量能源使用的极客指南”，你可能还记得我们的普通办公服务器每年要消耗大约200美元的电量。相比之下，树莓派每年的消费约为3美元。即使在系统中添加了外置硬盘，每年的能耗也很难突破10美元。</p><p>虽然Usenet下载是单向的(没有像BitTorrent这样的点对点服务那样的播种、跟踪器或比率监控)，但你仍然可以从24/7全天候运营中受益。例如，如果你使用Usenet抓取你最喜欢的电视节目，一个始终在线的Raspberry Pi下载框会在它们一有可用的时候就抢购一空。</p><p>最后一个好处是，拥有一个始终在线的下载盒可以减轻您台式机的负担。你永远不会让你的台式机通宵开机来完成文件，或者跳过玩你想玩的游戏，因为你的机器正在解包和验证一个巨大的下载。</p><p>请继续阅读，我们将向您展示如何将您的PI变成一台精干、刻薄、死寂的Usenet下载机。</p><p>我需要什么？</p><img class="content_img" src="/image/1d/1dd43d1c9464874789959c584f37a7e2.jpg" /><p>对于本教程，我们假设您安装了一台装有Raspbian的Raspberry PI设备，可以通过连接的显示器和键盘直接访问该设备，也可以通过SSH和VNC远程访问该设备，并且您还连接了一个(或多个)USB驱动器。如果您需要了解这些领域的最新情况，我们强烈建议您按此处列出的顺序阅读以下指南：</p><p>
HTG Raspberry Pi入门指南。
如何为远程外壳、桌面和文件传输配置Raspberry PI。
如何将树莓PI改造成低功耗的网络存储设备</p><p>第一个教程中的所有内容都是必需的，第二个教程是可选的(但是远程访问对于这个项目来说是非常方便的，因为下载盒是无头构建的完美候选者)，第三个教程最重要的部分是简单地设置硬盘并将其配置为在引导时自动挂载。</p><p>除了前面的阅读列表之外，如果您不太熟悉Usenet的细节，我们强烈建议您阅读以下教程：</p><p>
Usenet入门指南</p><p>TL；DR版本：使用Newshosting，它们是业界最好的。</p><p>如果你已经熟悉了Usenet，并且有一个可靠的Usenet提供商的帐户，那就太棒了。如果您没有Usenet帐户，您绝对需要阅读我们的指南来了解最新情况。与Torrent不同的是，你可以通过从一个公共跟踪器跳到另一个公共跟踪器来获得，没有可靠和免费的公共Usenet服务器这样的东西。您需要从可靠的提供商那里获得帐户-有关Usenet的一般信息和要考虑哪些提供商的提示，请参阅我们的指南。</p><p>一旦您检查了所有材料并配置了PI，就可以开始着手将您的PI转换为静默和超低功耗的下载野兽了。</p><p>更新apt-get并安装SABnzbd</p><p>首要任务是更新和升级您的apt-get安装程序。如果您按照最近的指南，如何将Raspberry PI转换为始终在线的BitTorrent Box，您可以跳过此步骤，因为您在该教程中刚刚进行了更新和升级。</p><p>在终端输入以下命令：</p><p>如果您已经有一段时间没有更新/升级了，那么请准备好在等待过程结束时喝杯咖啡。</p><p>更新后，就可以安装SABnzbd了。在此之前，请注意我们选择SABnzbd的原因。如果您希望运行一个绝对不占用系统资源的基本安装程序，那么使用一些仅限命令行的工具(如NZBGet)将是有意义的。然而，代价是您无法访问SABnzbd这样成熟且开发良好的工具附带的大量第三方应用程序、插件和集成。我们在这个平台上进行了测试，虽然像NZBget这样的超轻量级工具消耗的系统资源更少是没有争议的，但我们不愿意放弃SABnzbd附带的精致界面和好东西。</p><p>要开始安装SABnzbd，请打开终端并输入以下命令：</p><p>这将安装SABnzbd的核心依赖项，包括几个Python工具(如RSS Feed Parser和Cheetah模板库)以及基本的SABnzbd主题，如Classic和Plush。在相当长的软件包安装过程中，您会在某些时候看到以下错误：</p><p>不要担心，安装过程中的这个奇怪的小错误只是意味着SABnzbd还没有配置(我们正在安装它时，它自然不会配置)。安装过程完成后，请转到下一节。</p><p>运行SABnzbd配置向导</p><img class="content_img" src="/image/20/20380dbbdd225652d5e6bcbc37c03779.jpg" /><p>sabnzbdplus安装完成后，您将返回到命令提示符。输入以下命令以首次启动SABnzbd：</p><p>该命令启动SABnzbd守护进程并打开WebUI。相当多的文本会飞驰而过，然后它会挂起，给人一种应用程序崩溃的错觉。它没有，它刚刚控制了航站楼，当它执行新的功能时，它们会出现在这里。打开一个新的终端窗口或SSH连接；如果按Ctrl+C组合键中断并返回到命令提示符，将导致守护进程关闭。</p><p>现在，您可以从Raspberry PI上的浏览器或桌面上的远程浏览器启动配置向导。我们强烈建议您使用远程Web浏览器，以便于使用和提高性能。</p><p>在您选择的Web浏览器中，导航到：</p><p>选择您的首选语言，然后单击“开始向导”。第一步是输入您的Usenet提供商的信息-我们推荐Newshosting，但您可以使用任何您喜欢的提供商。</p><img class="content_img" src="/image/19/19cc2b45e99d3c4585b0ee2770c5fee1.jpg" /><p>输入主机、端口、用户名/密码，并设置连接数。虽然您可以轻松地在台式机或服务器安装上使用20+个连接，但我们建议从PI上的5个连接开始，如果您发现需要更多并发连接，则逐步递增这一数字。单击测试服务器以查看您的登录名/用户名是否与您的提供商进行了核对。</p><p>向导的第二步设置访问控制：</p><img class="content_img" src="/image/38/388ce8db638a088d5e339aed0baaf17f.jpg" /><p>重要的是，您要选择“我希望我的SABnzbd可以被我网络上的任何PC查看”，并取消选中“在程序启动时使用SABnzbd页面启动我的互联网浏览器”。一旦我们完成了SABnzbd的配置，这将是一个没有头的盒子，没有理由在PI上启动默认浏览器并消耗系统资源。设置用户名/密码是可选的。</p><p>您可以完全跳过快速入门向导的第三步，因为他们建议您插入用户数据的两项补充服务现在都已失效。单击Next(下一步)跳到第四步。第四步是自动执行的，SABnzbd守护程序将重新启动，向导将显示您可以访问WebUI的网址，如下所示：</p><p>继续，单击“Go to SABnzbd”退出向导，并被转储到主SABnzbd用户界面。</p><p>安装UNRAR以实现自动拆包</p><p>当您在新界面上扫描时，您可能会注意到大门外有一条警告：“找不到UNRAR程序，无法解压RAR文件”。</p><p>SABnzbd的核心安装包没有安装RAR程序，这是有问题的。我们可以从Usenet下载文件，但它们不会自动解压。你知道什么听起来不好玩吗？必须手动解压所有下载的内容。</p><p>为了自动解压文件，我们将不得不创建一个免费但不直观地命名为unrar-non free的应用程序的副本。幸运的是，RaspberryPi.StackExchange的一位乐于助人的灵魂概述了如何为Raspian做到这一点。</p><p>在终端，输入以下命令以允许您编辑您的源。list并添加包含unrar-non free的存储库：</p><p>在Nano中，将以下行添加到.list文件中：</p><p>按CTRL+X退出NANO，按Y保存/覆盖旧的.list文件。回到命令提示符处，您需要更新您的源列表才能使更改生效：</p><p>更新完成后(如果您在本教程前面进行了更新，应该会很快)，现在可以创建一个工作目录，然后移到该目录：</p><p>下载unrar-non free依赖项的时间：</p><p>当该过程完成并且您返回到提示符时，输入以下命令以下载源代码并构建安装包：</p><p>现在是安装软件包的时候了。如果您在发布新版本的unrar-non free之后遵循本教程，则需要更新文件名。您可以通过在命令提示符下键入“ls”来检查版本号，以列出我们在前面步骤中下载的文件：</p><p>安装完成后，只需在命令提示符下键入“unrar”，即可快速测试系统是否可以使用命令“unrar”。如果安装正确，Unrar应用程序将返回所有可用开关及其说明的列表。如果软件包安装无误，您可以使用以下命令自行清理：</p><p>现在是时候清除SABnzbd中的错误了。单击Options-&gt;Restart，从WebUI中重新启动SABnzbd。当您重新启动时，错误消息应该从WebUI的左上角区域消失。您可以通过单击左上角的状态链接再次检查错误日志是否为空：</p><img class="content_img" src="/image/1b/1bfee00a9e65f5b6992fdfb02a06f00c.jpg" /><p>安全了！我们已经安装了unrar-non free，所以它可以自动解压我们的下载，但是现在默认的下载目录指向Raspberry PI上的小SD卡。让我们把他们指向我们的外置硬盘。</p><p>配置SABnzbd目录</p><p>默认情况下，您下载的任何文件都将转储到/home/pi/downloads目录。即使是适度的宽带连接半小时也会完全填满SD卡，到那时，当SABnzbd自动暂停您的下载并使整个操作停止时，您在Usenet Download上的冒险将会结束。</p><p>为了避免这种情况，我们将把所有重要的目录从SD卡移到外部硬盘驱动器上。如果您还没有将USB硬盘连接到Raspberry PI并设置为在引导时自动挂载，我们建议查看我们的教程“如何将Raspberry PI转换为低功耗网络存储设备”，以了解如何做到这一点。我们将使用与该教程中使用的相同的硬盘命名约定和目录结构，因此请调整本节中的命令以匹配硬盘的位置。</p><p>首先，让我们创建SABnzbd所需的目录：</p><p>创建目录后，返回SABnzbd的WebUI更改默认目录。在WebUI中，导航到Config-&gt;Folders。有两个部分，用户文件夹和系统文件夹。在这两个部分中，使用我们刚刚创建的文件夹更改以下条目。您必须使用绝对路径强制SABnzbd使用默认/home/pi/之外的文件夹。</p><p>除了这些更改之外，您还可以通过使用900M表示900MB或20G表示20G等标识来设置“临时下载文件夹的最小可用空间”(Minimum Free Space For Temporary Download Folder)。我们通常在磁盘上留出10-20 GB的空闲空间，作为一个很好的缓冲区。</p><p>完成所有更改后，单击菜单底部的保存。我们所做的更改需要重新启动，因此单击Downloads(下载)返回主WebUI，然后单击右上角的Options(选项)-&gt;Restart(重新启动)。</p><p>测试您的SABnzbd安装</p><img class="content_img" src="/image/1c/1c5f69c828f98f4bf7f36f8c1cad8199.jpg" /><p>在SABnzbd重新启动之后，是时候让它转一转了。在我们的测试中，我们前往Binsearch.info，找到了一份Linux Mint的副本以供下载。要开始下载，我们将.NZB文件转储到SABnzbd/watch/文件夹中，SABnzbd在那里获取它。它将出现在队列中，然后在从下载转移到验证并解压缩时转移到WebUI的History部分，如上面的屏幕截图所示。</p><p>对于那些好奇PI上的SABnzbd如何与普通计算机上的SABnzbd相比较的人，我们运行了几个测试，在这些测试中，我们在我们的服务器和Raspberry PI上下载了完全相同的文件，并比较了结果。</p><p>PI的表现比我们预期的要好，通常只比一台完整的台式机慢15%左右。在现实世界中，这意味着1 GB的下载在台式机上下载、验证和解包需要大约14分钟，而在Raspberry PI上大约需要16分钟。还不错!</p><p>将SABnzbd设置为在引导时启动</p><img class="content_img" src="/image/58/5816cb2d844a54d9474db4ad2e3fae4e.jpg" /><p>与我们最近的一些其他项目相比，为SABnzbd plus设置启动启动是小菜一碟。安装包已经为您创建了/init.d/脚本。您唯一需要做的就是编辑SABnzbd/etc/default/文件，以指示您希望守护程序在哪个用户下运行。</p><p>为此，在终端中键入以下命令，打开Nano和SABnzbd配置文件：</p><p>您需要编辑的唯一变量是user=；插入您希望在其下运行守护进程的帐户的用户名。我们使用默认的用户帐户(也是我们安装SABnzbd的帐户)“pi”。按CTRL+X退出并保存您的编辑。您可以通过重新启动PI单元或简单地检查是否可以使用以下命令将SABnzbd作为服务启动，来测试更改是否生效：</p><p>如果更改生效，则上述命令应返回以下顺序：</p><p>注意：如果您在SABnzbd正在运行时运行服务启动命令，您将得到上面的序列，但是它将显示“失败”而不是“确定”；这意味着它仍然试图运行守护进程，但是失败了，因为它已经启动了。</p><p>提速配置增强功能</p><img class="content_img" src="/image/87/877e5f51751af0e9b5bbfb0f699e657f.jpg" /><p>虽然我们在SABnzbd测试部分中注意到，我们发现PI的性能与台式机相当，但是如果您希望挤出更快的速度，您可以对配置文件进行一些调整，这些调整将显著提高您的性能。导航到主WebUI，然后单击Config。我们将逐一检查每个相关的部分和内部的调整。配置调整按您的努力从最大回报到最低回报排序：</p><p>在Config-&gt;Servers部分中：</p><p>禁用SSL。除非你对你的ISP在监视你感到极度疑虑，否则就从你的供应商的SSL服务器切换到他们的常规服务器。在我们的测试中，我们发现SSL加密的开销降低了我们的下载速度大约50%，并在下载过程中减慢了解包过程，因为SSL占用了PI的大量处理能力。</p><p>在Config-&gt;Switches部分中：</p><p>启用检测重复下载。您不想浪费时间、带宽和处理能力来下载以前下载的文件。这里的选项是丢弃和暂停。使用Pause非常方便，这样您就可以定期查看队列，并决定是否确实要重新下载该文件。</p><p>在后处理期间打开暂停下载：虽然PI在下载和解包单个项目时确实会嗡嗡作响，但当它正在撕开大量积压的项目时，串联下载和后处理确实会给它带来压力。启用此选项会告诉PI在处理最近完成的下载时暂停下载。</p><p>在Config-&gt;General部分中：</p><p>设置文章缓存限制：虽然我们没有管理此选项，但SABnzbd论坛上的许多用户通过将此选项设置为32M或64M来报告PI上的积极结果。</p><p>安装移动界面和移动应用程序</p><img class="content_img" src="/image/7a/7ab6d5843a7b79d335c0aaafaf8287ef.jpg" /><p>如果您想从移动设备轻松控制SABnzbd安装，您需要安装一个移动WebUI模板，或者从App Store或Google Play下载一个可用的控制应用程序。</p><p>当我们在教程开始时安装主包时，我们收到了经典主题和毛绒主题。让我们花点时间来安装一个移动主题。如果您想要通用的移动主题，如上面的截图所示，请在终端输入以下命令：</p><p>如果您希望使用类似iOS的iPhone主题，请改为输入以下命令：</p><p>一旦您安装了一个移动主题，就进入WebUI并导航到Config-&gt;General-&gt;SABnzbd Web Server。在“辅助Web界面”子部分下，您可以选择您安装的移动外观，如下所示：</p><img class="content_img" src="/image/05/059ac39c60e75cda909a1114161c8735.jpg" /><p>向下滚动并保存更改，然后单击重新启动SABnzbd(保存按钮旁边)。重启完成后，您将能够通过以下URL访问辅助/移动界面：</p><p>如果您想要进一步增强您的Usenet体验，移动应用程序超越了简单的移动界面的基础。拥有iPhone或iPad的苹果粉丝肯定想看看以下应用程序：</p><p>
SABMobile。
MyNZB。
SABCommand</p><p>Android用户也有很好的选择范围，包括：</p><p>
NZB Unity。
SAB控件。
SABMobile。
NZBAir</p><p>许多移动应用程序都提供了增强的功能，如RSS到NZB的传输、高级队列管理等。</p><p>在这一点上，您已经安装了SABnzbd，为其依赖项争论不休，对其进行了优化，获得了一个移动皮肤/控制应用程序，您已经准备好用甜蜜、甜蜜、Usenet的美好事物浸透您的管道了。请密切关注首页，我们将继续为您提供详细的指南，帮助您更好地利用树莓PI。</p><div class="item_info"><span class="item_key"><a href="/tag/sabnzbd/">sabnzbd</a></span><span class="item_key"><a href="/tag/下载/">下载</a></span><span class="item_key"><a href="/tag/pi/">pi</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/3284.html">如何通过调整、加载项和移动应用增强您的SABnzbd体验</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>