<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Ubuntu上使用LVM轻松调整分区大小和快照</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Ubuntu上使用LVM轻松调整分区大小和快照</h2></div><div class="content"><img class="content_img" src="/image/1b/1bb51ba6fe7219dfe56d7e54712c1a85.png" /><p>Ubuntu的安装程序提供了一个简单的“使用LVM”复选框。说明书说它启用了逻辑卷管理，这样你就可以拍摄快照，更容易地调整硬盘分区的大小-这里是如何做到这一点的。</p><p>LVM是一种技术，在某些方面类似于Windows上的RAID阵列或存储空间。虽然这项技术在服务器上特别有用，但它也可以在台式PC上使用。</p><p>您应该在新的Ubuntu安装中使用LVM吗？</p><p>第一个问题是，您是否希望在安装Ubuntu时使用LVM。Ubuntu只需快速点击即可轻松启用此功能，但默认情况下并未启用此选项。正如安装程序所说，这允许您在系统运行时调整分区大小、创建快照、将多个磁盘合并到单个逻辑卷等。与典型的分区不同，您不必关闭系统，从live CD或USB驱动器引导，并在分区不使用时调整其大小。</p><p>老实说，普通的Ubuntu桌面用户可能不会意识到他们是否在使用LVM。但是，如果您稍后还想做更高级的事情，LVM可以提供帮助。LVM可能更复杂，如果您稍后需要恢复数据，这可能会带来问题-特别是如果您没有使用它的经验。这里不应该有明显的性能损失-LVM直接在Linux内核中实现。</p><img class="content_img" src="/image/88/8849b197efe5b9e4c61786106583cba5.png" /><p>解释逻辑卷管理</p><p>相关：如何在Ubuntu中管理和使用LVM(逻辑卷管理</p><p>我们之前已经解释过什么是LVM。简而言之，它在物理磁盘和呈现给操作系统的分区之间提供了一层抽象层。例如，您的计算机中可能有两个硬盘，每个硬盘大小为1 TB。您必须在这些磁盘上至少有两个分区，每个分区的大小为1TB。</p><p>LVM在此基础上提供了一层抽象层。与磁盘上的传统分区不同，在初始化磁盘之后，LVM会将磁盘视为两个独立的“物理卷”。然后，您可以基于这些物理卷创建“逻辑卷”。例如，您可以将这两个1TB磁盘合并为单个2TB分区。您的操作系统将只看到2TB的卷，而LVM将在后台处理所有事务。一组物理卷和逻辑卷称为“卷组”。典型的存储系统将只有一个卷组。</p><p>这一抽象层使得可以轻松地调整分区大小、将多个磁盘合并到单个卷中，甚至可以在分区文件系统运行时拍摄其“快照”，所有这些都无需卸载。</p><p>请注意，如果不创建备份，将多个磁盘合并到单个卷中可能不是一个好主意。这就像使用RAID 0一样-如果您将两个1 TB的卷合并为一个2 TB的卷，如果只有一个硬盘出现故障，则该卷上的重要数据可能会丢失。如果您走这条路，备份是至关重要的。</p><p>用于管理LVM卷的图形实用程序</p><p>相关：如何在Ubuntu中管理和使用LVM(逻辑卷管理</p><p>传统上，LVM卷是通过Linux终端命令来管理的，这些命令在Ubuntu上可以为您工作，但是有一种更简单的图形化方法，任何人都可以利用。如果您是习惯使用GParted或类似分区管理器的Linux用户，请不要费心-GParted不支持LVM磁盘。</p><p>相反，您可以使用Ubuntu附带的磁盘实用程序来实现这一点。此实用程序也称为GNOME磁盘实用程序或Palimpsest。单击虚线上的图标，搜索磁盘，然后按Enter键启动它。与GParted不同，Disks实用程序将在“Other Devices”下显示您的LVM分区，因此您可以格式化它们并根据需要调整其他选项。此实用程序也可以从Live CD或USB驱动器工作。</p><img class="content_img" src="/image/f6/f68d712fad965b675584c9da61cf5bb0.png" /><p>不幸的是，磁盘实用程序不包括对利用LVM最强大特性的支持。没有用于管理卷组、扩展分区或拍摄快照的选项。你可以在机场航站楼做到这一点，但你不必这样做。相反，您可以打开Ubuntu软件中心，搜索LVM，然后安装逻辑卷管理工具。您也可以只在终端窗口中运行sudo apt-get install system-config-lvm命令。安装后，您可以从仪表盘打开逻辑卷管理实用程序。</p><p>此图形配置工具是由Red Hat制作的。它有点过时了，但这是唯一一种不用求助于终端命令就能做到这一点的图形化方法。</p><p>假设您想要向卷组添加一个新的物理卷。您可以打开该工具，在Uninitialized Entries下选择新磁盘，然后单击“Initialize Entry”按钮。然后，您将在未分配卷下找到新的物理卷，您可以使用“添加到现有卷组”按钮将其添加到Ubuntu在安装过程中创建的“ubuntu-vg”卷组。</p><img class="content_img" src="/image/b2/b2a77c811c65ca1ad462d1d3d563a40d.png" /><p>卷组视图向您显示物理卷和逻辑卷的可视概览。在这里，我们在两个独立的硬盘上有两个物理分区。我们有一个交换分区和一个根分区，就像Ubuntu默认设置的分区方案一样。因为我们从另一个驱动器添加了第二个物理分区，所以现在有大量未使用的空间。</p><img class="content_img" src="/image/a3/a3d3b274dd929db5ab7b7e449d96ae9b.png" /><p>要将逻辑分区扩展到物理空间，可以在“逻辑视图”下选择它，单击“编辑属性”，然后修改大小以增大分区。你也可以把它从这里缩小。</p><img class="content_img" src="/image/41/4144967849992c0a91d93a2ec03288a2.png" /><p>system-config-lvm中的其他选项允许您设置快照和镜像。您可能不需要在典型的桌面上使用这些功能，但您可以在此处以图形方式使用它们。请记住，您也可以使用终端命令完成所有这些操作。</p><div class="item_info"><span class="item_key"><a href="/tag/lvm/">lvm</a></span><span class="item_key"><a href="/tag/分区/">分区</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>