<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何从rsync中排除文件</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何从rsync中排除文件</h2></div><div class="content"><img class="content_img" src="/image/39/39736bab33544db87efd74d51f3e875b.png" /><p>rsync对于服务器管理员来说是最有用的实用程序之一，但默认情况下它会同步所有内容，如果您的应用程序创建了很多临时文件，这可能会很烦人。下面介绍在使用rsync时如何排除文件。</p><p>从文件列表中排除</p><p>这是排除文件和文件夹的理想方法，因为如果需要，您始终可以编辑列表并进行调整。以下是语法：</p><p>rsync的棘手之处在于，当您尝试排除事物时，需要使用相对路径，因为当它尝试匹配排除项时，它不会使用匹配…的路径的第一部分。这很奇怪。</p><p>例如，假设您正在尝试备份/DATA/WEB/并将其发送到另一台服务器，因此您使用类似rsync-a/DATA/WEB/USER@SERVER：/BACKUPS/DATA/WEB/的命令来实现…。但是您确实想跳过同步/data/web/cache/文件夹。当rsync检查它同步的每个项目的排除列表时，它不会检查/data/web/cache/，因为您最初的rsync命令基于/data/web/文件夹。它只会根据列表检查“cache/”。因此，您需要将“cache”放入列表，而不是完整路径。示例：</p><p>现在，要使用此命令从rsync中排除/data/web/cache和/data/web/temp，我们将删除路径的/data/web/部分，而/data/exclusions文件将只包含以下内容：</p><p>您会注意到，我在路径中添加了*，以确保它与开头以“cache”开头的任何内容相匹配。如果您愿意，您可以出于更有用的原因使用此星形模式-比方说您想要从同步中排除所有的.txt文件。您可以从星号开始图案，以确保始终匹配，并添加以下内容：</p><p>这将确保在同步期间跳过这些类型的文件。除此之外就很简单了。</p><p>不包括单个项目</p><p>这项技术用处要小得多，但如果需要，您可以随时使用它。如果您正在设置一个脚本来使用rsync(通常是这样)，那么您应该花额外的时间将其从文件列表中排除，以便于将来的维护。*语法非常相似：</p><p>此处应应用与上面相同的相对路径。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/排除/">排除</a></span><span class="item_key"><a href="/tag/列表/">列表</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>