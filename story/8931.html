<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为什么Chrome(和Firefox)中的YouTube会耗尽笔记本电脑的电池，以及如何修复</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>为什么Chrome(和Firefox)中的YouTube会耗尽笔记本电脑的电池，以及如何修复</h2></div><div class="content"><img class="content_img" src="/image/ca/caff583c27a4c53b4f430f80df6ad4cd.jpg" /><p>YouTube是结结巴巴的，还是给你的笔记本电脑加温，还是让你的风扇开足马力，或者只是占用了大量的CPU？即使你从来没有注意到，Chrome中的YouTube几乎可以肯定正在使用比需要的更多的电池电量。与Chrome的其他性能问题一样，这在Mac上可能是最糟糕的。</p><p>这是转向HTML5视频的结果，也是YouTube在Chrome中使用的视频编解码器与其他浏览器相比的怪癖。请容忍我们，我们将首先解释为什么谷歌让YouTube播放效率如此之低。火狐可能也有同样的问题。</p><p>HTML5、H.264、VP8和VP9</p><p>相关：你还不知道你的网络浏览器可以做的10件事</p><p>YouTube现在很大程度上抛弃了用于HTML5视频播放的Flash视频插件，但HTML5视频播放并没有标准化，所有浏览器都可以选择想要使用的视频编解码器，而且没有一个所有浏览器都喜欢的编解码器。</p><p>当YouTube使用Flash时，它使用H.264编解码器来播放视频。使用此编解码器的视频通常具有.mp4文件扩展名，通常称为MP4视频。这实际上是一个行业范围的标准，而不仅仅是Web浏览器。</p><p>Safari、Internet Explorer、Microsoft Edge、Chrome和Firefox都支持播放H.264编码的视频，尽管Firefox坚定不移，并尽可能长时间地避免包括这一功能。</p><p>虽然苹果和微软只支持H.264在他们的浏览器中播放视频，但谷歌也一直在推动自己的编解码器。谷歌收购了VP8编解码器，并将其内置到Chrome中，火狐也效仿了这一做法。谷歌现在正在推动下一代VP9编解码器，该编解码器现在也内置于Chrome和Firefox中。使用此编解码器的文件通常具有.webm文件扩展名，有时也称为WebM文件。</p><img class="content_img" src="/image/3f/3f1125f324fc444fa997db2d374a07de.png" /><p>谷歌为什么要创造VP8和VP9？</p><p>虽然H.264是事实上的全行业标准，但它存在一个严重的安全问题。各种专利涵盖了基础技术。要使用这些技术-例如，如果你要将它们构建成产品-你需要向H.264专利组合支付费用。</p><p>这就是Mozilla对H.264坚持这么久的原因--它希望网络基于一个不需要任何费用的开放标准。谷歌发布了VP8和VP9，并做出了不可撤销的专利承诺，允许人们随心所欲地使用它-谷歌不会试图提取专利费。思科实际上是在支付许可费，并为Firefox用户提供免费插件。Firefox会自动下载此插件，并使用它来启用H.264支持。</p><p>VP8尚未获得牵引力</p><p>但谷歌在VP8上并不是特别成功。2011年初，谷歌宣布将取消Chrome对H.264的支持，只支持VP8和Theora等开放编解码器。四年多过去了，谷歌再也没有做过这件事，从那以后我们也再也没有听到过任何关于这一承诺的消息。</p><p>Mozilla很可能会等待Google兑现它的承诺，但Google从来没有这样做过-相反，Mozilla在几年后让步了，并添加了对H.264的支持。H.264是目前事实上的标准编解码器，不管你喜不喜欢-而且，当使用苹果或微软浏览器时，它是唯一可用的。这也是移动浏览器唯一真正的选择。很多网站已经实现了只支持H.264的HTML5视频，如果Chrome和Firefox不支持H.264，它们就会被拒之门外。</p><img class="content_img" src="/image/4a/4a5a5a2f5b284ef622101dda71e3350e.png" /><p>真正的问题：硬件加速</p><p>这里有一个简单的核心问题。H.264解码(回放)是硬件加速的。这意味着播放H.264视频文件的“工作”由图形处理器(GPU)以更高效的方式完成。如果没有硬件解码，中央处理器将不得不以一种效率较低的方式完成所有工作。这意味着播放占用的CPU时间更少，这意味着浪费的电池电量更少，产生的热量也更少。如果CPU跟不上播放视频的速度，这也可能意味着播放更流畅。</p><p>真的，所有现代硬件都支持H.264硬件加速解码。这包括所有类型的智能手机、平板电脑、个人电脑、Mac电脑，甚至Chromebook。当网络浏览器--是的，甚至是Chrome--播放H.264视频时，它会被卸载到GPU上。甚至Adobe Flash也支持H.264视频的硬件加速。</p><p>但目前还没有硬件可以加速VP8和VP9视频的播放。当谷歌在2010年年中宣布推出VP8时，包括Nvidia、AMD和高通等大牌公司在内的多家公司宣布，他们将在自己的产品中支持VP8。但是，五年多过去了，没有一款设备能够实现硬件加速的VP8解码。</p><p>谷歌在最近发布的VP9声明中指出，“整个行业有超过20家设备合作伙伴在2015年及以后推出使用VP9的产品。”这篇文章还提到了VP9的其他优点，比如相同质量的较小文件大小。英特尔、NVIDIA、AMD和其他公司已经承诺支持VP9的硬件加速解码。</p><p>我们搜索了支持硬件加速的VP9解码的硬件，所有的发现都是英特尔在2015年初发布了新的适用于Windows的Haswell和Broadwell驱动程序，支持对VP9的“部分硬件硬件(SIC)加速支持”。显然，还有很多工作要做。</p><p>与Chrome的其他性能问题一样，这一问题在Mac上可能更糟糕，Chrome工程师关闭了一个关于MacBook上CPU使用率和发热量过高的漏洞，并评论道“Mac上VP9播放期间的CPU使用率不是一个漏洞。”这可能是真的，但如果高CPU使用率是正常的，谷歌可能不应该向Mac上的Chrome用户提供所有这些VP9视频。这只会鼓励Mac用户转而使用Safari。</p><img class="content_img" src="/image/7b/7b35ac0b3fc610950d79ccaf79e9074d.png" /><p>如何让YouTube更高效地播放视频</p><p>这是一个鸡和蛋的问题，真的-制造商不会实施硬件加速的VP9，直到它真正用于真正的现实世界。谷歌在Chrome上添加了VP8和VP9，并告诉YouTube在Chrome上提供VP9和VP8视频，从而解决了这个问题。YouTube还可能向火狐提供VP8和VP9视频。</p><p>这可能会节省一些下载时间，但这意味着YouTube在Chrome中会耗尽更多电池电量和CPU周期。在CPU特别慢的设备上，视频甚至可能出现卡顿，而不是流畅地播放。</p><p>要获得更高效的播放，您可以直接切换到Safari、Microsoft Edge或Internet Explorer。但你没必要这么做。您可以安装用于Chrome的h264ify浏览器扩展，这将强制Chrome从YouTube请求H.264视频。它们看起来是一样的，但Chrome会播放得更流畅。</p><p>下载h264ify for Chrome，获取h264ify for Firefox，或参考GitHub的项目页面了解更多详细信息</p><img class="content_img" src="/image/3b/3b595f9eead3a58c3f4619f60e34ec07.png" /><p>如何查看YouTube使用的是H.264、VP8还是VP9</p><p>要检查YouTube正在为您的浏览器提供哪种编解码器，请在回放过程中右键单击YouTube视频，然后选择“书呆子的统计信息”。在“Mime Type”的右边，你会看到“video/MP4”和H.264/MP4视频的“AVC”编解码器。</p><img class="content_img" src="/image/d7/d7a0d014732ac21e8f0483630617154b.png" /><p>对于VP8和VP9视频，您将看到“video/webm”和“VP9”或“VP8”。</p><img class="content_img" src="/image/46/4683749cc7c241d62103a4c1cf3600fb.png" /><p>从长远来看，谷歌对VP9的推动可能对网络更有利，并带来能够加速解码这一新编解码器的硬件。但是，在目前，你可能想节省一些电池寿命，让你的笔记本电脑运行得更有效率，选择退出谷歌的实验，转而使用H.264视频。</p><p>图片来源：Flickr上的Esther Vargas</p><div class="item_info"><span class="item_key"><a href="/tag/chrome/">chrome</a></span><span class="item_key"><a href="/tag/vp9/">vp9</a></span><span class="item_key"><a href="/tag/视频/">视频</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14621.html">如何在Google Chrome中启用和使用剪贴板共享</a><li><a href="/story/14518.html">如何在Chrome OS上启用虚拟桌面手势</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14431.html">如何将Chrome中的内容投射到您的Google主页</a><li><a href="/story/14350.html">如何查看Chromebook上安装了哪个版本的Chrome OS</a><li><a href="/story/14316.html">如何在Google Chrome中重新打开已关闭的选项卡</a><li><a href="/story/14314.html">如何禁用Google Chrome的Tab悬停卡</a><li><a href="/story/14308.html">如何在Google Chrome的每个网站上强制使用黑暗模式</a><li><a href="/story/14283.html">支持更好浏览的最佳Chrome标志</a><li><a href="/story/14247.html">Chrome的“Tab冻结”将如何节省CPU和电池</a><li><a href="/story/14100.html">如何从Android向桌面Chrome浏览器添加扩展</a><li><a href="/story/14095.html">如何将Chrome设为默认浏览器</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a><li><a href="/story/14035.html">如何快速创建您自己的Chrome浏览器主题</a><li><a href="/story/14034.html">如何启用Chrome工具栏上的播放/暂停按钮</a><li><a href="/story/14027.html">Chrome 77的新特性，现已推出</a><li><a href="/story/13998.html">如何在Chrome中删除URL的尾部下划线</a><li><a href="/story/13984.html">如何使用Chrome的画中画模式播放本地视频</a><li><a href="/story/13951.html">如何使用Chrome的内置任务管理器</a><li><a href="/story/13946.html">如何启用Google Chrome的新扩展菜单</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>