<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上使用Echo命令</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上使用Echo命令</h2></div><div class="content"><p>ECHO命令非常适合将格式化文本写入终端窗口。而且它不一定是静态文本。它可以包括shell变量、文件名和目录。您还可以重定向ECHO以创建文本文件和日志文件。按照这个简单的指南来了解如何做到这一点。</p><p>Echo重复您告诉它重复的内容</p><p>宙斯喜欢离开奥林匹斯山去结交美丽的仙女。在一次旅行中，他告诉一位名叫Echo的山区仙女，如果他的妻子赫拉(Hera)跟着他，就把她拦住。赫拉确实是来找宙斯的，埃科尽其所能与赫拉交谈。最后，赫拉大发脾气，咒骂可怜的埃科，只重复别人说的最后一句话。赫拉追上宙斯后对他做了什么，谁也说不准。</p><p>而这，很大程度上，就是Echo生活中的命运。它重复着它被告知要重复的事情。这是一个简单的函数，但却是一个至关重要的函数。例如，如果没有ECHO，我们就无法从shell脚本获得可见的输出。</p><p>虽然没有太多的花言巧语，但是Echo很可能有一些您不知道或忘记的功能。</p><p>艾科？艾柯！</p><p>大多数Linux系统提供两个版本的ECHO。Bash shell中内置了自己的ECHO，也有ECHO的二进制可执行版本。</p><p>我们可以使用以下命令查看两个不同的版本：</p><code>type echo</code><code>whereis echo</code><img class="content_img" src="/image/95/95ea6bac3a0265e6c4ff6ba9a89795ba.png" /><p>type命令告诉我们作为其参数传递给它的命令是shell内置命令、二进制可执行文件、别名还是函数。它向我们报告说Echo是一个贝壳结构。</p><p>一旦找到答案，TYPE就会停止查找更多的匹配项。因此，它不会告诉我们系统中是否存在同名的其他命令。但它确实告诉我们它最先找到的是哪一个。这就是我们发出该命令时默认使用的命令。</p><p>Where is命令查找我们作为其命令行参数传递给它的命令的二进制可执行文件、源代码和手册页。它不查找shell内置，因为它们没有单独的二进制可执行文件。它们是Bash可执行文件不可分割的一部分。</p><p>Where is命令报告echo是位于/bin目录中的二进制可执行文件。</p><p>要使用该版本的ECHO，您需要通过在命令行上提供可执行文件的路径来显式调用它：</p><code>/bin/echo --version</code><img class="content_img" src="/image/00/002681f4daf1350302e124d1e6ccdff0.png" /><p>shell内置不知道--version命令行参数是什么，它只是在终端窗口中重复该参数：</p><code>echo --version</code><img class="content_img" src="/image/23/239e7f0fa9b5d765d8c58b379a701d75.png" /><p>这里显示的示例都使用Bash shell中的默认版本ECHO。</p><p>将文本写入终端</p><p>要将简单的文本字符串写入终端窗口，请键入echo和您希望它显示的字符串：</p><code>echo My name is Dave.</code><img class="content_img" src="/image/31/311baa6d66cafde844cd975309386d62.png" /><p>课文为我们重复了一遍。但是随着您的实验，您很快就会发现事情可能会变得稍微复杂一些。请看此示例：</p><code>echo My name is Dave and I'm a geek.</code><img class="content_img" src="/image/68/68e278640e057e9c026216a49d46046f.png" /><p>终端窗口显示了一个“”&gt;“”标志，并坐在那里等待。Ctrl+C将使您返回到命令提示符。那里发生了什么事？</p><p>单词“I‘m”中的单引号或撇号令人困惑。它将该单引号解释为引号文本部分的开始。因为没有检测到结束的单引号，Echo正在等待更多的输入。它预计进一步的输入将包括它正在等待的缺失的单引号。</p><p>要在字符串中包含单引号，最简单的解决方案是将整个字符串用双引号括起来：</p><code>echo "My name is Dave and I'm a geek."</code><img class="content_img" src="/image/2c/2c8181cd875146b04bd2d53cbb171c39.png" /><p>用双引号将文本括起来是很好的一般性建议。在脚本中，它清楚地分隔您传递给ECHO的参数。这使得读取和调试脚本变得容易得多。</p><p>如果要在文本字符串中包含双引号字符，该怎么办？这很简单，只需在双引号前面加一个反斜杠(中间没有空格)。</p><code>echo "My name is Dave and I'm a \"geek.\""</code><img class="content_img" src="/image/07/07250583061610a118c1c56673ba0771.png" /><p>这为我们用双引号将单词“geek”括起来。“我们很快就会看到更多这样的反斜杠转义字符。</p><p>将变量与ECHO一起使用</p><p>到目前为止，我们一直在向终端窗口写入预定义文本。我们可以使用带有ECHO的变量来生成更具动态性的输出，并且可以通过shell为我们插入值。我们可以使用以下命令定义一个简单的变量：</p><code>my_name="Dave"</code><p>已经创建了一个名为MY_NAME的变量。它已被赋予文本“Dave”的值。我们可以在传递给ECHO的字符串中使用变量名，变量的值将写入终端窗口。您必须在变量名前面放一个美元符号$，以让echo知道它是一个变量。</p><p>有一个警告。如果您用单引号将字符串括起来，ECHO将按字面意思对待所有内容。要显示变量值，而不是变量名称，请使用双引号。</p><code>echo 'My name is $my_name'</code><code>echo "My name is $my_name"</code><img class="content_img" src="/image/ee/ee405566c60c51c9e61bb9280aebeb90.png" /><p>在某种程度上说得恰如其分，这是值得重复的：</p><p>
使用单引号会导致文本以文字方式写入终端窗口。
使用双引号会导致解释变量-也称为变量展开-并将值写入终端窗口。</p><p>相关：如何在Bash中使用变量</p><p>将命令与ECHO配合使用</p><p>我们可以使用带有ECHO的命令，并将其输出合并到写入终端窗口的字符串中。我们必须将美元符号$当作命令是一个变量来使用，并将整个命令括在圆括号中。</p><p>我们将使用DATE命令。一个技巧是在开始将该命令与ECHO一起使用之前单独使用该命令。这样，如果命令的语法有问题，您可以在将其包含在echo命令中之前识别并更正它。然后，如果ECHO命令没有执行预期的操作，您就会知道问题一定出在ECHO语法上，因为您已经验证了该命令的语法。</p><p>因此，在终端窗口中尝试执行以下操作：</p><code>date +%D</code><img class="content_img" src="/image/cd/cd6c63af7ecc4123f193adc131242e90.png" /><p>而且，由于我们从date命令获得了预期的结果，因此我们将把它集成到一个echo命令中：</p><code>echo "Today's date is: $(date +%D)"</code><img class="content_img" src="/image/70/70eae1f1fc709dc864e9aee91f4828fd.png" /><p>注意，命令在括号内，美元符号$1紧接在第一个括号之前。</p><p>使用回显设置文本格式</p><p>e(启用反斜杠转义)选项允许我们使用一些反斜杠转义字符来更改文本布局。以下是我们可以使用的反斜杠转义字符：</p><p>
\a：警报(历史上称为BEL)。这将生成默认的警报声。
\B：写入退格字符。
\c：放弃任何进一步的输出。
\e：写入转义字符。
\f：写入换页符。
\n：写新行。
\r：写入回车。
\t：写入水平制表符。
\v：写入垂直制表符。
\\：写入反斜杠字符。</p><p>让我们使用其中的一些，看看它们会做什么。</p><code>echo -e "This is a long line of text\nsplit across three lines\nwith\ttabs\ton\tthe\tthird\tline"</code><img class="content_img" src="/image/e4/e470da66d9e39e56edbe3fa823a89a57.png" /><p>文本被拆分为一个新行，我们在该行中使用了\n字符，并在我们使用了\t字符的位置插入了制表符。</p><code>echo -e "Here\vare\vvertical\vtabs"</code><img class="content_img" src="/image/cf/cfe6542a00e5f423d65ac901c6ce1660.png" /><p>与\n换行符一样，垂直制表符将文本移至下一行。但是，与第n个换行符不同，\v垂直制表符不会从第0列开始新行。它使用当前列。</p><p>\b退格字符将光标向后移动一个字符。如果有更多的文本要写入终端，则该文本将覆盖前一个字符。</p><code>echo -e "123\b4"</code><img class="content_img" src="/image/f6/f6397dc116e7907e864e1e15eacb7df6.png" /><p>“3”被“4”覆盖。</p><p>回车字符\r会使回显返回到当前行的开头，并从第0列写入任何进一步的文本。</p><code>echo -e "123\r456"</code><img class="content_img" src="/image/d9/d9c55fd3ff14c4c6981d99ba548622ba.png" /><p>“123”字符被“456”字符覆盖。</p><p>\a警报字符将发出可听到的“哔哔”声。它使用当前主题的默认警报声。</p><code>echo -e "Make a bleep\a"</code><img class="content_img" src="/image/e2/e20fff080f3069d411351cc799d49a2a.png" /><p>n(没有换行符)选项不是反斜杠转义序列，但它确实会影响文本布局的美观，因此我们将在这里讨论它。它可以防止Echo在文本末尾添加换行符。命令提示符紧跟在写入终端窗口的文本之后。</p><code>echo -n "no final newline"</code><img class="content_img" src="/image/96/96a55ebcd8e83857e6c8d7beb88e2c05.png" /><p>对文件和目录使用ECHO</p><p>您可以使用echo作为穷人版本的ls。当您像这样使用ECHO时，您的选择很少。如果您需要任何形式的保真度或精细控制，最好使用ls及其众多选项。</p><p>此命令列出当前目录中的所有文件和目录：</p><code>echo *</code><p>此命令列出当前目录中名称以“D”开头的所有文件和目录：</p><code>echo D*</code><p>此命令列出当前目录中的所有“.ktop”文件：</p><code>echo *.desktop</code><img class="content_img" src="/image/c7/c7c0155b3efcc831229e2045b496b47f.png" /><p>嗯。这不是在发挥埃科的长处。使用ls。</p><p>使用ECHO写入文件</p><p>我们可以重定向来自ECHO的输出，并创建文本文件或写入现有文本文件。</p><p>如果我们使用&gt;重定向操作符，则在文件不存在时创建该文件。如果该文件确实存在，来自ECHO的输出将添加到该文件的开头，覆盖以前的任何内容。</p><p>如果我们使用&gt;&gt;重定向操作符，则在文件不存在时创建该文件。ECHO的输出将添加到文件的末尾，并且不会覆盖文件的任何现有内容。</p><code>echo "Creating a new file." > sample.txt</code><code>echo "Adding to the file." >> sample.txt</code><code>cat sample.txt</code><img class="content_img" src="/image/db/dbc1b85aba9ebc963250475f26edebcb.png" /><p>第一个命令将创建一个新文件，并将文本插入其中。第二个命令向文件底部添加一行文本。cat命令将文件内容显示到终端窗口。</p><p>当然，我们可以包括变量以将一些有用的信息添加到我们的文件中。如果文件是日志文件，我们可能需要向其添加时间戳。我们可以使用下一个命令做到这一点。</p><p>请注意DATE命令的参数两边的单引号。它们防止参数之间的空格被解释为参数列表的末尾。它们确保参数正确传递到日期。</p><code>echo "Logfile started: $(date +'%D %T')" > logfile.txt</code><code>cat logfile.txt</code><img class="content_img" src="/image/df/df4a179b1612c8f7c9a8692b6af13b07.png" /><p>我们的日志文件是为我们创建的，CAT向我们显示日期戳和时间戳都已添加到其中。</p><p>相关：Linux上的stdin、stdout和stderr是什么？</p><p>那是Echo的曲目</p><p>一条简单的命令，但却是不可或缺的。如果它不存在，我们就得发明它。</p><p>毕竟，宙斯的恶作剧做了一些好事。</p><div class="item_info"><span class="item_key"><a href="/tag/echo/">echo</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/文本/">文本</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/13687.html">Alexa是如何倾听唤醒词的</a><li><a href="/story/12988.html">如何将您现有的Amazon Echo转换为儿童版</a><li><a href="/story/12541.html">如何设置和配置您的Amazon Echo</a><li><a href="/story/11853.html">跳过亚马逊回声：亚马逊水龙头更便宜、更好</a><li><a href="/story/11279.html">亚马逊回声VS谷歌主页：你应该买哪一个？</a><li><a href="/story/10666.html">如何让Echo Dot电池通电(并将其放置在您想要的任何位置)</a><li><a href="/story/10497.html">您可以(和不能)使用多个Amazon Echos做什么</a><li><a href="/story/10203.html">使用插座计时器在特定时间自动将Amazon Echo静音</a><li><a href="/story/9906.html">如何改变亚马逊回声报的“唤醒词”</a><li><a href="/story/9877.html">亚马逊Echo和Echo Dot有什么不同？</a><li><a href="/story/9683.html">如何从网络控制亚马逊回声(而不是狭小的智能手机应用程序)</a><li><a href="/story/9437.html">如何将Amazon Echo用作蓝牙扬声器</a><li><a href="/story/9430.html">如何邀请家庭成员分享您的亚马逊回声</a><li><a href="/story/9402.html">如何使用语音遥控器扩展Amazon Echo的覆盖范围</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>