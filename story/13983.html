<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上使用chown命令</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上使用chown命令</h2></div><div class="content"><p>Linux系统中的文件和目录都属于某个人。您可以使用chown命令更改它们的所有权。我们教你怎么做。</p><p>每个文件都属于一个用户和一个组</p><p>Linux是一个多用户系统。操作系统允许定义多个用户帐户，并允许任何有效用户登录到计算机。此外，多个用户可以同时使用一台计算机。</p><p>为了维护哪些文件属于哪个用户的记录并加强某些安全性，Linux使用所有权的概念。每个文件都属于一个所有者(用户)和一个组。</p><p>创建文件时，其所有者是创建该文件的用户。文件所属的组-“拥有”组-是用户的当前组。用户和组有名称，也有数字标识，称为用户(或唯一)标识符(UID)和组标识符(GID)。</p><p>创建文件时，该文件归您所有，并且属于您当前的组。通常，这是您已登录的组。默认情况下，这是一个与您的用户名同名的组，并且是在您作为系统上的用户创建时创建的。</p><p>您可以使用chown命令将所有权值更改为其他值。您可以同时设置新所有者、新组或新所有者和新组。文件的所有者可以更改组所有权，但只有root才能更改用户所有权，因为这涉及到另一个用户。如果没有root权限，您就不能让系统上的另一个用户在不知不觉中“采用”一个文件。</p><p>你为什么要改变所有权呢？</p><p>以下是您可能需要执行此操作的一些情况示例：</p><p>
如果在不同的Linux或类Unix操作系统之间传输文件，则需要将用户和组所有者更改为新Linux计算机上要使用文件的帐户的新用户和组所有者。
用户可能会离开您的组织，他的所有文件都将由另一名员工负责。您需要将所有者和组所有者更改为现在负责这些文件的工作人员。
您可以编写将由特定用户使用的脚本。
您可以创建以root身份登录的文件或目录，但您希望特定用户可以访问该文件或目录。</p><p>查看您的组、UID和GID</p><p>要列出您所在的组，可以使用GROUPS命令。</p><code>groups</code><img class="content_img" src="/image/5e/5e69c44b57cf13066d5c86a0da874004.png" /><p>要获取组的列表、它们的数字ID、以及您的UID和GID，请使用id命令：</p><code>id</code><img class="content_img" src="/image/a1/a10028cd06401caad4270abed4904802.png" /><p>您可以对ID使用一些选项来优化输出。</p><p>
-u：列出您的UID。
-g：列出您的有效(当前)GID。
-nu：列出您的用户名。
-ng：列出您当前的组名。</p><code>id -u</code><code>id -g</code><code>id -nu</code><code>id -ng</code><img class="content_img" src="/image/ea/ea4ee97a5013d94d1d9c44686a0b5b3b.png" /><p>查看文件的用户和组所有权</p><p>要查看文件或目录的所有者，请使用带有ls的-l(长列表)选项。</p><code>ls -l</code><p>我们可以看到，Dave这个名字在列表中出现了两次。最左边的外观告诉我们文件所有者是一个名为Dave的用户。最右边的Dave告诉我们，该文件属于一个也称为Dave的组。</p><p>默认情况下，创建Linux用户时，会将其添加到以其用户名命名的私有组。他们是那个小组中唯一的成员。</p><p>该可执行文件属于用户Mary，并且该文件所属的组是Mary的私有组。</p><code>ls -l</code><img class="content_img" src="/image/08/08a2f13324f9dd4f165e1777e41ca53d.png" /><p>该文件归用户oscar所有，但该文件所属的组名为researchlab。这意味着，根据为研究组成员设置的文件权限，研究室组的其他成员可以访问此文件。</p><p>更改用户所有权</p><p>让我们来做一些例子。此命令将把文件的用户所有权While.c更改为用户Mary。</p><code>sudo chown mary while.c</code><img class="content_img" src="/image/6d/6d57035263ea50276f9d84c27eb305d7.png" /><p>我们可以使用ls查看文件属性的更改。</p><code>ls -l while.c</code><img class="content_img" src="/image/77/7718d96384dc53643541594f8733346f.png" /><p>您可以使用chown一次更改多个文件的所有权。</p><code>sudo chown mary getval.c global.c goto.c</code><img class="content_img" src="/image/e6/e66f5a25daf0bae5b4f56809a3c6f921.png" /><p>这会更改所有三个文件的用户所有权。</p><code>ls -l getval.c global.c goto.c</code><img class="content_img" src="/image/29/292d37d114558cdcd72280ff87027447.png" /><p>您可以使用通配符选择文件组。此命令将更改所有以字母“c”开头的文件的用户所有权。</p><code>sudo chown mary c*.*</code><img class="content_img" src="/image/d8/d80524bb292805771f5571a6d9895e0c.png" /><p>所有文件现在都将拥有玛丽作为它们的所有者。请注意，没有更改任何组所有权。</p><code>ls -l mary c*.*</code><img class="content_img" src="/image/6d/6df7bbe381a8a819682d73086c6c75ea.png" /><p>让我们更改目录的所有权。我们只需将目录名传递给chown，而不是文件名。</p><code>sudo chown mary ./archive/</code><img class="content_img" src="/image/e1/e1c3510ff25aab592e78114d74b2d9f1.png" /><p>要检查目录的所有权属性，我们使用ls，但也对其使用-d(目录)选项。这将列出目录的属性，而不是其中的文件。</p><code>ls -l -d ./archive/</code><img class="content_img" src="/image/77/77b838378454f9a67a9ec7d96a3fa72d.png" /><p>要更改目录中所有文件的所有权，可以使用-R(递归)选项。此选项将更改存档文件夹内所有文件的用户所有权。</p><code>sudo chown -R mary ./archive/</code><img class="content_img" src="/image/64/64be38d11d1f2898736281bc0ea95b29.png" /><p>现在让我们看一下存档目录中的文件。</p><code>ls -l ./archive/</code><img class="content_img" src="/image/6a/6a0f1038693f128eb56d4951c687eae8.png" /><p>不出所料，所有文件现在都属于Mary。</p><p>更改组所有权</p><p>有不同的方式可以更改组所有权。</p><p>要在更改用户所有权的同时更改组所有权，请传递新的所有者名称和新的组名，并用冒号“：”分隔它们。该组必须已存在。</p><code>sudo chown mary:researchlab charm.c</code><img class="content_img" src="/image/f8/f8318b2117dbc874f8fd3e722611cd18.png" /><p>文件所属的用户所有者和组都已更改。</p><code>ls -l charm.c</code><img class="content_img" src="/image/c4/c4f5b684f8b559aef564f0358e90c31b.png" /><p>一种将组所有权更改为新所有者的当前组的快捷方法，只需提供冒号并省略组名。</p><code>sudo chown mary: caps.c</code><img class="content_img" src="/image/bc/bc7181fff8dafb135c24605857ed8759.png" /><code>ls -l caps.c</code><img class="content_img" src="/image/f3/f3ac32f8b32d404c120d4569341dd792.png" /><p>用户所有权和组所有权都已更改为Mary。</p><p>要仅更改组所有权，请在其前面加冒号并省略用户名。不会更改用户所有者。</p><code>sudo chown :researchlab at.c</code><img class="content_img" src="/image/43/43539ad6d936cea6f4ed8b371c2f271a.png" /><code>ls -l at.c</code><img class="content_img" src="/image/95/954fce73bce94c1eebe858a77305b1b1.png" /><p>组所有权已更改，但用户所有权保持不变。</p><p>对UID和GID值使用CHOWN</p><p>您可以将数字UID和GID值与CHOWN命令一起使用。此命令将用户和组所有权设置为Mary。</p><code>sudo chown 1001:1001 at.c</code><img class="content_img" src="/image/dc/dc68f007ad5d1761e12120ac711867d1.png" /><code>ls -l at.c</code><img class="content_img" src="/image/51/515fa2f90c7cf2b2319b8cba0cd130aa.png" /><p>占有是法律的十分之九</p><p>或者他们是这么说的。但在Linux中，所有权是文件安全的重要组成部分，文件权限提供了其余部分。使用chown和chmod命令保护系统上的文件访问。</p><p></p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/用户/">用户</a></span><span class="item_key"><a href="/tag/所有权/">所有权</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>