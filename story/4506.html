<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Ubuntu上创建AppArmor配置文件锁定程序</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Ubuntu上创建AppArmor配置文件锁定程序</h2></div><div class="content"><img class="content_img" src="/image/37/37bdab3bf773a26a08f07b87fef11f35.png" /><p>AppArmor锁定Ubuntu系统上的程序，仅允许它们拥有正常使用时所需的权限-对于可能受到攻击的服务器软件尤其有用。AppArmor包含可用于锁定其他应用程序的简单工具。</p><p>默认情况下，Ubuntu和其他一些Linux发行版中包含AppArmor。Ubuntu附带了几个AppArmor配置文件，但您也可以创建自己的AppArmor配置文件。AppArmor的实用程序可以监视程序的执行，并帮助您创建配置文件。</p><p>在为应用程序创建您自己的配置文件之前，您可能想要检查Ubuntu存储库中的apapmor-profile包，看看您想要限制的应用程序的配置文件是否已经存在。</p><p>创建并运行测试计划</p><p>您需要在AppArmor观看该程序的同时运行该程序，并浏览其所有正常功能。基本上，您应该像在正常使用中一样使用该程序：启动程序、停止程序、重新加载程序并使用其所有功能。您应该设计一个通过程序需要执行的功能的测试计划。</p><p>在运行测试计划之前，启动一个终端并运行以下命令来安装和运行aa-genprof：</p><p>让aa-genprof在终端上运行，启动程序，然后运行上面设计的测试计划。测试计划越全面，以后遇到的问题就越少。</p><img class="content_img" src="/image/75/758f32f55a6edb5fc30988225d675465.png" /><p>执行完测试计划后，返回终端并按S键扫描系统日志中的AppArmor事件。</p><p>对于每个事件，系统将提示您选择一项操作。例如，下面我们可以看到，我们分析过的/usr/bin/man执行了/usr/bin/tbl。我们可以选择/usr/bin/tbl是否应该继承/usr/bin/man的安全设置，是否应该使用自己的AppArmor配置文件运行，或者是否应该在无限制模式下运行。</p><img class="content_img" src="/image/15/154c3e2878243fe81983e8f687a7f6cc.png" /><p>对于其他一些操作，您将看到不同的提示-这里我们允许访问/dev/tty，这是一个表示终端的设备</p><img class="content_img" src="/image/c0/c01d92109433c6958f8bb4fea69201f9.png" /><p>在该过程结束时，系统将提示您保存新的AppArmor配置文件。</p><img class="content_img" src="/image/2e/2e3b09e7268fdcc6d7a2d2dd7bb3e3a8.png" /><p>启用投诉模式并调整配置文件</p><p>创建配置文件后，将其置于“投诉模式”，在这种模式下，AppArmor不会限制它可以采取的操作，而是记录否则会发生的任何限制：</p><p>正常使用程序一段时间。在投诉模式下正常使用后，运行以下命令扫描系统日志以查找错误并更新配置文件：</p><img class="content_img" src="/image/49/49c28fccc39553437e601707ea7a55df.png" /><p>使用强制模式锁定应用程序</p><p>在完成AppArmor配置文件的微调后，启用“强制模式”以锁定应用程序：</p><p>您可能希望在将来运行sudo aa-logprof命令来调整您的配置文件。</p><img class="content_img" src="/image/b6/b61fadd22cdf9f29da9d968a91bc4433.png" /><p>AppArmor配置文件是纯文本文件，因此您可以在文本编辑器中打开它们并手动调整它们。但是，上面的实用程序会指导您完成此过程。</p><div class="item_info"><span class="item_key"><a href="/tag/程序/">程序</a></span><span class="item_key"><a href="/tag/运行/">运行</a></span><span class="item_key"><a href="/tag/apparmor/">apparmor</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14448.html">如何在Linux上使用Which命令</a><li><a href="/story/13476.html">如何在Linux上使用超时命令</a><li><a href="/story/11954.html">如何在Windows 10中卸载或修复程序</a><li><a href="/story/11115.html">Windows中的ProgramData文件夹是什么？</a><li><a href="/story/11103.html">什么是ASLR，它如何保护您的计算机安全？</a><li><a href="/story/10510.html">如何在Mac上启用和配置屏幕保护程序</a><li><a href="/story/10139.html">如何添加指示器以查看您在Windows 10中使用的虚拟桌面</a><li><a href="/story/9690.html">Windows 10可能会在未询问的情况下删除您的程序</a><li><a href="/story/9190.html">帕普斯解释道：什么是“可能有害的程序”？</a><li><a href="/story/8536.html">如何让您的Windows 10 PC启动更快</a><li><a href="/story/8128.html">如何使用WinPatrol监视Windows PC的更改</a><li><a href="/story/7988.html">通过命令提示符运行.exe文件</a><li><a href="/story/7888.html">如何删除可怕的BoBrowser广告软件/恶意软件</a><li><a href="/story/7521.html">如何在Windows中查看最近打开的文件列表</a><li><a href="/story/7421.html">如何在Ubuntu 14.04中轻松添加和删除程序</a><li><a href="/story/7219.html">如何将Windows程序重置为其默认设置</a><li><a href="/story/6981.html">如何在Ubuntu 14.04中管理启动应用程序</a><li><a href="/story/6934.html">Windows之前的PC：使用MS-DOS实际上是什么样子</a><li><a href="/story/6888.html">如何查看您在Ubuntu 14.10中还剩下多少磁盘空间</a><li><a href="/story/6536.html">如何在Windows中禁用启动程序</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>