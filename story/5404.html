<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何用BerryBoot多重引导你的树莓PI</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何用BerryBoot多重引导你的树莓PI</h2></div><div class="content"><img class="content_img" src="/image/19/1907fea21ff2518b160ad31678725a35.jpg" /><p>如果你想花更少的时间交换卡片，而花更多的时间玩你的Raspberry PI，安装BerryBoot多引导管理器可以让从一张SD卡引导多个操作系统变得非常简单。请继续阅读，我们将带您完成此过程。</p><p>我为什么要这么做？</p><p>BerryBoot是Raspberry PI的引导管理工具，它为Raspberry PI体验增加了相当多的功能。最大的好处是它允许您从SD卡引导多个操作系统。您可以将操作系统存储在卡上，或者，如果您想要更大的空间，可以将BerryBoot配置为仅将SD卡用作启动程序，并在连接的硬盘上运行操作系统。</p><p>此外，BerryBoot配置工具使下载额外的Raspberry PI优化发行版变得非常简单。BerryBoot包含的当前PI优化发行版包括：</p><p>
BerryWebserver(Webserver捆绑包：Lighttpd+PHP+SQLITE)。
浆果终端(LTSP/Edubuntu Thinclient)。
Raspbian(Debian Wheezy)。
记忆测试仪。
OpenELEC(媒体中心软件)。
小狗Linux。
RaspRazor(非官方的Rasbian分支，很多编程工具)。
糖业(每名儿童一台笔记本电脑操作系统)</p><p>除了包含的发行版之外，您还可以通过下载优化的映像或将其转换为SquashFS格式并将其导入BerryBoot来添加您自己的Linux发行版-稍后将对此进行详细介绍。</p><p>简而言之，如果您希望在PI上使用不同的工具和操作系统，而不需要购买一堆SD卡、标记它们、跟踪它们，并一直将它们交换出去，那么BerryBoot是一种非常好的方式，只需很少的额外工作就可以从您的PI中获得更多。</p><p>我需要什么？</p><p>你需要一台覆盆子PI，合适的外围设备，以及互联网接入。我们建议您仔细阅读我们的教程“HTG Raspberry PI入门指南”，以确保您已经掌握了基本知识(例如，确保您有足够的电源和配置Raspbian的基础知识)。</p><p>除了教程中概述的硬件要求外，您还需要从BerryBoot存储库中下载以下文件：</p><p>
BerryBoot安装程序</p><p>首先，将BerryBoot安装程序.ZIP文件的内容解压缩到您想要用作多重引导平台的FAT格式SD卡。</p><p>配置BerryBoot</p><p>下载安装程序并将其内容解压到SD卡后，就可以开始使用了。将SD卡插入您的Raspberry PI单元，然后插入电源线以启动它。您将看到一个简短的引导过程，然后您将进入配置向导的GUI，如下所示：</p><img class="content_img" src="/image/9f/9fd628c69025b4aa4cbee370638ba7a5.jpg" /><p>花点时间调整视频输出(根据您是否在屏幕顶部和底部看到绿色校准条来选择或取消选择过扫描)。将您的网络连接设置为有线或Wi-Fi。最后，设置您的区域设置和键盘首选项。</p><p>如果您选择Wi-Fi作为网络连接，系统将提示您选择Wi-Fi网络并输入该网络的密码。</p><p>注意：此Wi-Fi设置仅适用于BerryBoot安装程序；一旦您安装了发行版-如Rasbian-您将需要在该发行版中重新配置Wi-Fi。</p><p>配置Wi-Fi或使用有线连接后，系统将提示您选择磁盘：</p><img class="content_img" src="/image/b2/b221fb3c24938e1edb23084f7e7837e1.jpg" /><p>默认值为SD卡。如果您想要将发行版安装到连接的闪存或USB硬盘上，现在就是连接它的时候了。看到要使用的磁盘(在本例中为SD卡)后，选择该磁盘并按Format(格式化)按钮。</p><p>大约一分钟后，您将进入添加操作系统菜单，在该菜单中，您可以选择要安装到BerryBoot卡上的第一个操作系统(众多操作系统中的第一个)。首先，我们将安装Raspbian。选择后，按OK开始安装过程。</p><img class="content_img" src="/image/7b/7b719d92d1684ad642166631b051f790.jpg" /><p>映像下载和安装完成后，您将看到BerryBoot菜单编辑器：</p><img class="content_img" src="/image/75/751d432964bda725607f815ab4f127a7.jpg" /><p>在菜单编辑器中，您可以执行各种功能。您可以添加其他操作系统或删除现有操作系统，也可以设置默认操作系统。您可以编辑各个图像的属性以更改名称和内存分配。您可以克隆操作系统(例如，如果您希望使用Raspbian执行两个不同的项目，则非常方便)。您可以将整个SD卡或单个操作系统安装备份到外部存储设备。</p><p>除此之外，您还可以点击位于最右侧的小双箭头访问高级配置(允许您编辑BerryBoot使用的配置和系统文件)，在BerryBoot上设置密码，修复损坏的文件系统，以及从GUI菜单编辑器切换到终端。</p><p>虽然所有这些功能和选项都很棒，但我们现在最感兴趣的是增加一个额外的操作系统。单击添加操作系统。这将返回到我们刚才所在的添加操作系统菜单-我们现在要将OpenELEC添加到我们的BerryBoot系统中。进行选择，然后单击“确定”。</p><p>第二个操作系统映像安装完成后，您可以选择要作为默认映像的映像，然后单击Make Default(设为默认值)按钮。我们选择让Raspbian成为我们的默认操作系统：</p><img class="content_img" src="/image/de/de02f56c84a3e5531e96961c7c655956.jpg" /><p>此时，我们已经准备好退出编辑器并尝试多重引导过程。点击菜单栏上的退出按钮。片刻之后，您将返回到BerryBoot主菜单，如下所示：</p><img class="content_img" src="/image/6a/6a5ea32d8f3e6ba96714b1b0bcd57d68.jpg" /><p>如果您在上一步中设置了默认操作系统，它将自动倒计时引导它。如果没有，它将处于空闲状态，等待您选择要引导到哪个操作系统。启动菜单选择的默认超时为10秒。</p><p>如果您希望更改该值，可以单击右下角的Edit Menu按钮，这将使您返回到BerryBoot菜单编辑器。在那里，您可以单击Advanced Configuration选项卡(它是隐藏的，点击菜单栏右侧的双箭头)，然后将uEnv.txt中的值“bootmenutimeout”编辑为10以外的值。</p><p>无论您是否编辑该值，在从关机状态启动或从任何已安装的操作系统(如Raspbian)中重新启动时，BerryBoot菜单将始终是您首先看到的。您可以使用键盘、鼠标选择操作系统，或者如果您使用的是带有HDMI视频电缆和支持CEC(消费电子控制)的家庭影院系统/HDTV的Raspberry PI设备，您可以使用遥控器上的向上和向下选择箭头进行选择。</p><p>手动将分发添加到BerryBoot系统</p><img class="content_img" src="/image/24/24b1fd1d7dc691f0bdd9e25363b1fdb0.jpg" /><p>当您只使用附带的BerryBoot映像(如Raspbian和Puppy Linux)时，只需点击鼠标即可安装。当你冒险走出老路时，事情就变得有点棘手了。</p><p>为了将Linux发行版导入BerryBoot，您首先需要针对SquashFS优化该发行版。该过程的第一步是获取该分布的图像。你可以用三种方法中的一种来做这件事。</p><p>首先，要做到这一点，最简单的方法是从BerryBoot存储库中获取尚未正式添加到安装程序中的优化映像；您可以在此处执行此操作。您可以按原样使用这些映像，不需要对SquashFS进行优化。</p><p>其次，如果Raspberry PI优化的图像可供一般下载，但还不能在BerryBoot中进行/优化，您只需抓取该图像即可。</p><p>最后，如果像RaspBMC这样的发行版需要您使用安装程序工具将所有内容直接下载到PI并从那里开始，您将需要创建您安装它的SD卡的镜像-有关使用DD创建磁盘镜像的帮助，请查看我们的便捷教程。</p><p>除了.img文件(下载的或创建的)之外，您还需要访问Linux计算机(可以是专用的Linux台式机、带有Linux Live CD的计算机，甚至是Raspberry PI上的Rasbian副本)，才能使用SquashFS工具。只是还没有一个可靠的端口，所以我们将通过在它的本机平台上使用SquashFS来保持事情的稳定和简单。</p><p>如果您的发行版尚未安装SquashFS(默认情况下，Raspbian不附带SquashFS)，请在终端输入以下命令以获取副本：</p><p>要转换.img，请将包含该文件的SD卡或USB设备插入Linux计算机。我们将在命令中将图像文件称为NewBerryBoot.img。打开终端，在.img上运行以下命令：</p><p>kpartx命令从分区表创建设备映射，并且使用-av开关，它将添加映射并详细操作，以便我们可以读取输出。输出应如下所示：</p><p>第二个更大的分区loop0p2是我们感兴趣的分区。在您的图像中，循环可能不同(即loop3p2)，因此请记下下一个命令的名称。输入以下命令：</p><p>这一系列命令挂载分区，编辑出原始分区中的文件系统表，使用SquashFS优化映像(省略了在BerryBoot中的发行版之间共享的lib/module)，然后卸载并删除分区映射。</p><p>在所有这些命令行魔术之后，我们现在可以回到舒适的BerryBoot GUI。无论您是下载了一个已经优化的.img，还是您自己创建了一个.img，是时候将它添加到BerryBoot中了。</p><p>将存放.img文件的外部介质(如SD卡读卡器中的SD卡)插入您的Raspberry PI设备或连接的USB集线器。使用原始的BerryBoot SD卡引导进入Raspberry PI。在引导选择菜单中，按下编辑菜单按钮以弹出BerryBoot菜单编辑器。</p><p>要添加.img文件，只需单击并按住Add OS按钮，如下所示：</p><img class="content_img" src="/image/ba/ba562b7f083dc847606efe47c747af52.jpg" /><p>选择从U盘复制操作系统，您将看到一个文件选择对话框：</p><img class="content_img" src="/image/a2/a23a71e6019a9d99925424d4c80b650b.jpg" /><p>您可能会注意到“文件类型”框(.img128、.img192)底部下面有奇怪的.img名称扩展名。在为BerryBoot创建映像时，您可以在.img扩展名后面附加128/192/224/240，以向BerryBoot指示您希望如何为该分发分配内存。如果您不这样做，请不要担心；您总是可以在BerryBoot菜单编辑器的Edit部分设置它。</p><img class="content_img" src="/image/60/60bcc95418c0b39d6ec3445a3fd265b2.jpg" /><p>成功！为了在离开本节之前快速回顾一下，以下是您可以下载或创建.img文件加载到BerryBoot中的方法(按从最稳定到最不稳定的顺序)：从官方但不包括的BerryBoot存储库列表下载，使用SquashFS修改现有的.img，或者从现有的SD卡安装创建您自己的.img，然后使用SquashFS进行修改。你越不走寻常路，修改不起作用或产生看不见的副作用的风险就越大。例如，可以创建.img的RaspBMC安装文件，但是根据该项目的开发人员Sam Nazarko的说法，将其转换为SquashFS会破坏升级系统。考虑到这一点，您可以自由地进行实验(并在此处报告结果，以帮助您的读者添加他们的BerryBoot设置！)</p><p>有一个树莓派项目你想看我们铲球吗？在评论中发表意见，或者给我们发一封电子邮件，我们会尽最大努力将您的项目想法付诸实践。</p><div class="item_info"><span class="item_key"><a href="/tag/berryboot/">berryboot</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/操作系统/">操作系统</a></span></div></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>