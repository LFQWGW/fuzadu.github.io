<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>轻松查看数据库中各个SQL表的磁盘空间使用情况</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>轻松查看数据库中各个SQL表的磁盘空间使用情况</h2></div><div class="content"><p>对于任何活动数据库，磁盘存储需求都会随着时间的推移而增长。虽然您可以通过在SQL Management Studio中查看数据库属性的“文件”页或在Windows资源管理器中简单地查看底层文件来轻松查看整个数据库使用的磁盘空间，但如果您想要更深入地挖掘并查看构成整体的各个部分，该怎么办呢？</p><p>要查看此信息，您需要查看各个表的大小。值得庆幸的是，SQL Server有一个内置的存储过程sp_SpaceUsed，它可以显示各个表的存储统计信息。利用此存储过程，我们创建了一个批处理脚本，它允许您轻松地生成数据库中每个表的列表并查看其存储统计信息。</p><p>运行该脚本时，将以表格格式列出数据库中每个表的以下信息：</p><p>
数据库表名。
表中的行数。
SQL分配给此表的总磁盘空间。
用于数据存储的磁盘空间量。
用于内部SQL索引的磁盘空间量。
当前未使用的磁盘空间量</p><p>使用脚本</p><p>DBSize批处理脚本与SQL 2005及更高版本兼容，必须在安装了SQLCMD工具(作为SQL Server安装的一部分安装)的计算机上运行。建议您将此脚本放到Windows PATH变量(即C：Windows)中设置的位置，以便可以像从命令行调用任何其他应用程序一样轻松地调用它。</p><p>要查看帮助信息，只需输入：</p><img class="content_img" src="/image/a1/a129f3df92593fcf2e5dd96770991a40.png" /><p>实例</p><p>在默认实例上运行MyDB报表，并将输出定向到桌面上的MyDB Table Size.txt：</p><p>要使用密码为“123456”的“sa”用户在命名实例“Special”上运行有关“mydb”的报告，请执行以下操作：</p><p></p><p>从SysadminGeek.com下载数据库表大小批处理脚本</p><div class="item_info"><span class="item_key"><a href="/tag/数据库/">数据库</a></span><span class="item_key"><a href="/tag/查看/">查看</a></span><span class="item_key"><a href="/tag/存储/">存储</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/5365.html">如何显示MySQL Server的系统变量</a><li><a href="/story/3754.html">黑客如何通过SQL注入和DDoS攻击网站</a><li><a href="/story/3436.html">在Access 2007中首先要禁用的是</a><li><a href="/story/2859.html">用于简化SQL Server数据库维护的批处理脚本</a><li><a href="/story/2851.html">用BGInfo建立网络计算机系统信息数据库</a><li><a href="/story/2811.html">使用SQL Server Management Studio恢复SQL数据库备份</a><li><a href="/story/2809.html">用于备份所有SQL Server数据库的批处理脚本</a><li><a href="/story/2079.html">在Access 2010中使用通配符条目</a><li><a href="/story/1765.html">如何在Excel中使用VLOOKUP</a><li><a href="/story/302.html">快速提示：自动压缩Access数据库</a><li><a href="/story/6.html">从备份文件还原MySQL数据库</a><li><a href="/story/5.html">将MySQL数据库备份到文件</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>