<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何定制Ubuntu的每日消息</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何定制Ubuntu的每日消息</h2></div><div class="content"><img class="content_img" src="/image/11/116342ecf0d8c260215e111e8f55f6e5.png" /><p>当用户在终端登录时，Ubuntu会显示一条信息性消息，称为当日消息。MOTD是完全可自定义的-您可以添加自己的文本和其他动态数据。</p><p>当用户登录时，pam_motd进程执行/etc/update-motd.d目录中的脚本，并动态创建当天的消息。您可以通过修改、删除脚本或编写自己的脚本来自定义MOTD。</p><p>当天的默认消息</p><p>只有当你以文本模式而不是图形模式登录Ubuntu时，才会显示当天的消息。如果您使用的是图形桌面，则可以使用Ctrl-Alt-F1快捷键访问虚拟终端-使用Ctrl-Alt-F7快捷键返回图形桌面(也称为X服务器)。按Ctrl-Alt-F2到Ctrl-Alt-F6会将您带到其他虚拟终端。</p><img class="content_img" src="/image/01/01014fb1eb3849a76b473c243a264821.png" /><p>以下是Ubuntu的标准MOTD。它显示了如果您是长期Linux用户，您会熟悉的典型系统版本号。它还显示可用更新的动态生成信息和Ubuntu许可证的静态消息。</p><img class="content_img" src="/image/0f/0f701a04a36b2400bc7ebf1108a12a3a.png" /><p>添加自定义消息</p><p>假设您想要添加一条自定义消息，用户在登录到您的Ubuntu系统时会看到该消息。Ubuntu的MOTD是在您登录时由脚本生成的，因此您不能只将其添加到/etc/motd文件中。放置您自己的静态消息的位置是/etc/motd.ail-该文件的内容在生成时被添加到MOTD的末尾。</p><p>让我们使用Nano文本编辑器通过以下命令打开/etc/motd.ail文件：(Linux终端向导可以使用Vi或Emacs，但是Nano对于新手来说更容易)</p><img class="content_img" src="/image/bc/bcce1c704a626056f0523d2e229219b0.png" /><p>默认情况下，此文件完全为空。只需输入您喜欢的任何信息-请随意在此疯狂欣赏黑白ASCII艺术。完成后，按Ctrl+O保存文件并按Enter，然后按Ctrl+X退出Nano。</p><img class="content_img" src="/image/33/33fbfe925b6c2b42d87aa8bcd0b854ef.png" /><p>下次任何用户登录时，他们都将看到您的自定义消息。如果您希望立即将其签出，请使用EXIT命令注销终端，然后重新登录。</p><img class="content_img" src="/image/02/026f02c65706e38a14986c1f035baafe.png" /><p>删除信息</p><p>现在假设我们要删除一些默认信息。这不仅仅是编辑单个文件的问题-每个部分都是从/etc/update-motd.d目录中的脚本自动生成的。</p><p>您可以通过在终端键入/etc/update-motd.d并按Tab键来获取此目录中文件的完整列表。</p><img class="content_img" src="/image/f8/f8be1e340b894d366857e3bc9fe0bc71.png" /><p>这些脚本按数字顺序运行，这就是它们以数字为前缀的原因。如果愿意，您可以重命名脚本文件并更改编号，以重新排列MOTD中不同部分的顺序。</p><p>要从MOTD中删除脚本信息，我们只需阻止它运行。我们可以通过使用chmod-x命令删除其执行权限来做到这一点。</p><p>如果要删除MOTD中的文档文本，可以运行以下命令：</p><img class="content_img" src="/image/ff/ffb26621546ae35b7a1bd1211c191048.png" /><img class="content_img" src="/image/5e/5e8818a0ed98336c922319bf77d66d3b.png" /><p>添加动态信息</p><p>我们可以编写自己的脚本来向MOTD添加任何我们喜欢的动态信息。例如，让我们尝试使用weet-util包创建一个脚本，将当前当地天气添加到MOTD。</p><p>默认情况下不安装，所以让我们使用以下命令进行安装：</p><img class="content_img" src="/image/43/4313eff205775fade147ce3a1154ffc5.png" /><p>您需要您当地的国际民用航空组织代码，您可以从本网站获得。以下是如何将weet-util与您的代码一起使用：</p><img class="content_img" src="/image/f5/f5af392a4d30f3c5f8b03b9d69c71a35.png" /><p>现在，让我们使用以下命令在适当位置创建脚本，并使用Nano将其打开：</p><p>Nano打开后，输入以下代码，用您当地的天气代码替换代码：</p><p>按Ctrl-O和Enter保存，然后按Ctrl-X退出。</p><img class="content_img" src="/image/4a/4ad799765356ce770849519b7268ab26.png" /><p>使用chmod+x使脚本可执行，否则它将无法运行：</p><p>现在，用户登录后将看到当地天气预报。weet-util没有什么特别之处，您可以使用任何将文本打印到终端的命令。</p><img class="content_img" src="/image/ad/ad076f47a7e21c99434db51de7e5c280.png" /><p>MOTD不仅仅在用户本地登录时显示。任何使用SSH或Telnet远程登录的用户也将看到您自定义的MOTD。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/脚本/">脚本</a></span><span class="item_key"><a href="/tag/motd/">motd</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>