<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>从Ubuntu Live CD恢复NTFS硬盘上已删除的文件</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>从Ubuntu Live CD恢复NTFS硬盘上已删除的文件</h2></div><div class="content"><p>不小心删除文件是一种可怕的感觉。无法引导到Windows并恢复删除该文件会使情况变得更糟。幸运的是，您可以从Ubuntu Live CD恢复NTFS硬盘上删除的文件。</p><p>为了演示此过程，我们在Windows XP计算机的桌面上创建了四个文件，然后将其删除。然后，我们用上周创建的可引导Ubuntu9.10USB闪存驱动器启动了同一台机器。</p><p>Ubuntu 9.10启动后，单击屏幕左上角的Applications，然后选择Accessories&gt;Terminal打开终端。</p><img class="content_img" src="/image/ce/ce9fe6d53f02dd23bd77d725c6fa7734.png" /><p>然后按Enter键。</p><img class="content_img" src="/image/01/0133a95adbde6e9b3a6bed3e34ae46b4.png" /><p>您要查找的是以HPSF/NTFS结尾的行(在标题System下)。在我们的示例中，设备是“/dev/sda1”。对于您来说，这可能略有不同，但仍将以/dev/开头。请注意此设备名称。</p><p>如果您有多个格式化为NTFS的硬盘分区，则可以根据大小识别正确的分区。如果您查看上面屏幕截图中的第二行文本，它显示为“Disk/dev/sda：136.4 GB，…”这意味着Ubuntu命名为/dev/sda的硬盘大小为136.4 GB。如果您的硬盘大小不同，则此信息可以帮助您找到要使用的正确设备名称。或者，您也可以全部尝试，不过对于大容量硬盘来说，这可能会很耗时。</p><p>现在您知道了Ubuntu为您的硬盘指定的名称，我们将对其进行扫描，看看我们可以发现哪些文件。</p><p>在终端窗口中，键入：</p><p>然后按Enter键。在我们的示例中，命令是：</p><img class="content_img" src="/image/e6/e6f8ed86c67e56e128d813cc8be11a34.png" /><p>可以恢复的文件的名称显示在最右侧的列中。第三列中的百分比告诉我们可以恢复多少文件。我们最初删除的四个文件中有三个显示在此列表中，尽管我们在删除这四个文件后立即关闭了计算机-因此，即使在理想情况下，您的文件也可能无法恢复。</p><p>不过，我们有三个文件可以恢复-两个JPG和一个MPG。</p><p>注意：Ubuntu 9.10Live CD中立即提供了ntfsundelete。如果您使用的是不同版本的Ubuntu，或者由于某些其他原因在尝试使用ntfsundelete时出错，您可以通过在终端窗口中输入“sudo apt-get install ntfsprogs”来安装它。</p><p>为了快速恢复这两个JPG，我们将使用*通配符恢复所有以.jpg结尾的文件。</p><p>在终端窗口中，输入</p><p>也就是说，在我们的案例中，</p><img class="content_img" src="/image/b5/b5ef36378adc0a1d84240b60c7ebfe11.png" /><p>这两个文件从NTFS硬盘中恢复并保存在终端的当前工作目录中。默认情况下，这是当前用户的主目录，尽管我们使用的是Desktop文件夹。</p><p>请注意，ntfsundelete程序不会对原始NTFS硬盘驱动器进行任何更改。如果要获取这些文件并将其放回NTFS硬盘，则必须在使用ntfsundelete恢复删除后将它们移回NTFS硬盘。当然，你也可以把它们放到你的闪存盘上，或者打开Firefox并通过电子邮件发送给你自己--这是无穷无尽的！</p><p>我们还有一个要删除的文件-我们的MPG。</p><img class="content_img" src="/image/cb/cb86f741c1e6c3c552f635ae8a41bce7.png" /><p>请注意最左边的第一列。它包含一个数字，即其索引节点。可以将其视为文件的唯一标识符。请注意这个数字。</p><p>要按索引节点取消删除文件，请在终端中输入以下内容：</p><p>在我们的示例中，这是：</p><img class="content_img" src="/image/5d/5d1814ac1ecdc67e86ef231e1230ba47.png" /><p>这将恢复文件，以及我们并不真正关心的标识符。我们的所有三个可恢复文件现在都已恢复。</p><img class="content_img" src="/image/70/705785fd051631a03c8d549b05bf9cb3.png" /><p>然而，Ubuntu让我们直观地知道我们还不能使用这些文件。这是因为ntfsundelete程序将文件保存为“root”用户，而不是“ubuntu”用户。</p><p>我们可以通过在终端窗口中键入以下命令来验证这一点：</p><img class="content_img" src="/image/1d/1d9fd7d60be6aef2bf4256cf00a57004.png" /><p>我们希望这三个文件属于ubuntu，而不是root。为此，请在终端窗口中输入以下内容：</p><p>如果当前文件夹中有其他文件，您可能不想将其所有者更改为ubuntu。但是，在我们的示例中，此文件夹中只有这三个文件，因此我们将使用*通配符更改所有这三个文件的所有者。</p><img class="content_img" src="/image/07/077ea0847bf4a72266b593aa205fb529.png" /><p>文件现在看起来很正常，我们可以随心所欲地处理它们。</p><img class="content_img" src="/image/2f/2ff60ee5689035fe3ca42b5fec9a5b5c.png" /><p>希望您不需要使用本技巧，但是如果您需要，ntfsundelete是一个很好的命令行实用程序。它不像许多类似的Windows程序那样有花哨的GUI，但它是一个强大的工具，可以快速恢复您的文件。</p><p>有关更详细的用法信息，请参见ntfsundelete的手册页</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/ubuntu/">ubuntu</a></span><span class="item_key"><a href="/tag/ntfs/">ntfs</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14797.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14627.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14024.html">如何快速搜索Google Drive</a><li><a href="/story/13983.html">如何在Linux上使用chown命令</a><li><a href="/story/13968.html">如何将音乐复制到Android手机</a><li><a href="/story/13912.html">你能在Windows PC或Android手机上使用AirDrop吗？</a><li><a href="/story/13883.html">如何在PowerPoint演示文稿中使用iTunes音乐</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>