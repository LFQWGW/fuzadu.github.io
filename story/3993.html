<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何接入您的网络，第2部分：保护您的VPN(DD-WRT)</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何接入您的网络，第2部分：保护您的VPN(DD-WRT)</h2></div><div class="content"><img class="content_img" src="/image/28/2805f0d52ded0f6c13c633d391687fe9.png" /><p>我们已经向您展示了如何通过路由器上的“端口敲击”来远程触发WOL。在本文中，我们将介绍如何使用它来保护VPN服务。</p><p>图片由Aviad Raviv和Aviad Raviv&Abfick提供。</p><p>前言 / 开场白 / 序幕 / 引语</p><p>如果您使用过DD-WRT的VPN内置功能，或者在您的网络中安装了另一台VPN服务器，您可能会喜欢它通过将其隐藏在敲门序列后面来保护其免受暴力攻击的能力。通过这样做，您将过滤掉试图访问您的网络的脚本小子。话虽如此，正如前一篇文章中所述，端口敲门不能取代好的密码和/或安全策略。别忘了，只要有足够的耐心，攻击者就可以发现新的序列，并执行重播攻击。
还要记住，实施这种方式的不利之处是，当任何VPN客户端想要连接时，他们必须事先触发敲门序列，如果他们由于任何原因无法完成序列，他们将根本无法VPN。</p><p>为了保护*VPN服务，我们将首先通过阻塞1723的实例化端口来禁用与它的所有可能的通信。为了更好地实现这一目标，我们将使用iptables。这是因为，在大多数现代Linux/GNU发行版上，通常情况下，这就是如何过滤通信的，特别是在DD-WRT上。如果你想了解更多关于iptables的信息，请查看它的wiki条目，并看看我们之前关于这个主题的最新文章。一旦服务受到保护，我们将创建敲门攻击序列，该序列将暂时打开VPN实例化端口，并在配置的一段时间后自动关闭它，同时保持已建立的VPN会话连接。</p><p>注意：在本指南中，我们使用PPTP VPN服务作为示例。也就是说，同样的方法也可以用于其他VPN类型，您只需更改阻塞的端口和/或通信类型。</p><p>前提条件、假设和建议</p><p>
假设/要求您具有启用了OPTG的DD-WRT路由器。
假设/要求您已经执行了“如何进入您的网络(DD-WRT)”指南中的步骤。
假设有一些网络和知识基础。</p><p>让我们开始行动吧。</p><p>DD-WRT上的默认“阻止新VPN”规则</p><p>虽然下面这段“代码”可能无法在每一个使用Linux/GNU发行版的自尊的iptables上工作，因为有这么多不同的版本，我们只会展示如何在DD-WRT上使用它。如果您愿意，没有什么可以阻止您直接在VPN盒上实施它。然而，如何做到这一点，显然超出了本指南的范围。</p><p>因为我们想要增强路由器的防火墙，所以添加到“防火墙”脚本是合乎逻辑的。这样做会导致每次刷新防火墙时都会执行iptables命令，从而保持我们的扩展功能不变。</p><p>从DD-WRT的Web-GUI：</p><p>
进入“管理”-&gt;“命令”。

在文本框中输入以下“代码”：
inline=“$(iptables-L input-n|grep-n”状态相关，已建立“|awk-F：{‘print$1’})”；inline=$(($inline-2+1))；iptables-i input“$inline”-p tcp--dport 1723-j drop。

单击“保存防火墙”。
好了。</p><p>谁打扰了我的睡意？</p><div class="item_info"><span class="item_key"><a href="/tag/vpn/">vpn</a></span><span class="item_key"><a href="/tag/端口/">端口</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/13513.html">如何流式传输UFC 238 Cejuo vs Moraes Online</a><li><a href="/story/12813.html">为什么有些网站会屏蔽VPN？</a><li><a href="/story/12355.html">为什么您不应该信任免费VPN</a><li><a href="/story/11426.html">如何在Amazon Fire平板电脑上使用VPN</a><li><a href="/story/10630.html">如何在Windows中连接到VPN</a><li><a href="/story/10078.html">如何查看您的VPN是否泄露了您的个人信息</a><li><a href="/story/9832.html">VPN和代理有什么不同？</a><li><a href="/story/9530.html">如何在不被屏蔽的情况下通过VPN观看Netflix或Hulu</a><li><a href="/story/8729.html">绕过互联网审查和过滤的5种方法</a><li><a href="/story/8643.html">如何选择最适合您需求的VPN服务</a><li><a href="/story/8604.html">如何设置您自己的家庭VPN服务器</a><li><a href="/story/8535.html">如何在Android上连接VPN</a><li><a href="/story/8461.html">如何在iPhone或iPad上启用始终在线VPN</a><li><a href="/story/8331.html">如何将您的Mac连接到任何VPN(并自动重新连接)</a><li><a href="/story/8306.html">如何从iPhone或iPad连接到VPN</a><li><a href="/story/6117.html">如何在互联网上玩旧局域网游戏</a><li><a href="/story/5862.html">绕过互联网审查和过滤的5种方法</a><li><a href="/story/5151.html">如何在Android上连接VPN</a><li><a href="/story/5120.html">如何在Windows中连接到VPN</a><li><a href="/story/5108.html">什么是VPN，我为什么需要VPN？</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>