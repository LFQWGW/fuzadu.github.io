<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在安装Ubuntu后创建单独的Home分区</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在安装Ubuntu后创建单独的Home分区</h2></div><div class="content"><img class="content_img" src="/image/48/4808eed4f11eee69a7e471b7db8acfbd.png" /><p>默认情况下，Ubuntu不使用单独的/home分区，尽管许多Linux用户更喜欢这样的分区。使用单独的主分区可以让您在不丢失个人文件和设置的情况下重新安装Ubuntu。</p><p>虽然在安装过程中通常会选择单独的主分区，但您也可以在安装Ubuntu之后迁移到单独的主分区-尽管这需要一些工作。</p><p>在安装Ubuntu时</p><p>在安装Ubuntu的同时创建一个单独的主分区很容易，您可以选择“Something Other”安装选项来使用自定义分区布局并创建多个分区。将其中一个分区的挂载点设置为/(它将包含根文件系统)，将另一个分区的挂载点设置为/home。当您将来安装Ubuntu时，您可以再次将旧的主分区设置为/home-但请确保取消选中Format复选框，否则您的文件将被删除。</p><img class="content_img" src="/image/2b/2b0f47d8ecfbaf6218937c40da2e5c25.png" /><p>安装Ubuntu后</p><p>如果您在安装Ubuntu时没有创建单独的主分区，则不必从头开始重新安装Ubuntu。要在安装后迁移到单独的主分区，您必须创建一个新分区(这可能需要调整现有分区的大小)，将文件从现有主目录复制到该分区，并告诉Ubuntu将新分区挂载到/home。</p><p>步骤1：创建新分区</p><p>如果您有一些空闲空间，这一步很容易。如果不这样做，您将不得不调整系统分区的大小，并在空闲空间中创建一个新分区。按照我们的指导调整Ubuntu分区的大小来完成此步骤。如果您有空闲空间或者不需要调整系统分区的大小，您可以只安装GParted并创建分区，而不需要从live CD重新启动-您会想要创建一个ext4分区。</p><img class="content_img" src="/image/2d/2d98207fa7c4cfa556060f1365f92573.png" /><p>步骤2：将主目录文件复制到新分区</p><p>Ubuntu使挂载新分区变得很容易-只需在文件管理器中的Devices下单击它即可。完成后，单击Go菜单并选择Location以查看其挂载点。</p><img class="content_img" src="/image/d6/d62bee4384b7736de823d90933465e1c.png" /><p>启动终端并运行以下命令，在新分区上创建当前/home目录的副本，其中/mount/location是已挂载分区的位置：</p><p>您将看到有关.gvfs目录的错误-这是正常的；您可以忽略它。</p><img class="content_img" src="/image/ee/ee23bbc6b09df72097f8652d44931e5a.png" /><p>您应该检查新的主目录，以验证它是否包含您的文件。但是，我们现在还不会删除旧的主目录。</p><img class="content_img" src="/image/84/848d8cc9ec5d41f84370068d990669d2.png" /><p>步骤3：找到新分区的UUID</p><p>上面的长的随机字符串实际上是分区的UUID，我们需要它来将分区添加到我们的fstab文件中，该文件告诉Linux在引导时将分区挂载到哪里。您还可以通过在终端中运行以下命令来定位分区的UUID：</p><img class="content_img" src="/image/64/64e62f565756b00e85c0a06920efd63d.png" /><p>步骤4：修改fstab文件</p><p>在修改我们的fstab文件之前，我们应该创建一个可以恢复的备份副本，以防万一：</p><p>接下来，运行以下命令在Gedit中打开fstab文件。如果您愿意，也可以使用其他文本编辑器。</p><p>将以下文本添加到fstab文件的新行中，并将_部分替换为来自上面的sudo blkID命令的新主分区的完整UUID：</p><img class="content_img" src="/image/46/463edfa45f8d78a7cf2d9158016e8576.png" /><p>添加行后保存文件。</p><p>步骤5：移动主目录并重新启动</p><p>在终端上，运行以下命令离开您的主目录，将当前主目录移动到占位符位置，并创建一个新的空主目录，您的新分区将装载在该目录中：</p><img class="content_img" src="/image/ec/ecf417aec5b7bce8cae54f0a3b036f40.png" /><p>运行此命令后重新启动计算机。您可以使用以下命令重新启动：</p><p>清除 / 清理整顿 / 使⋯变得纯洁</p><p>重新启动计算机后，您应该可以正常登录。Ubuntu现在使用单独的主分区。在确保一切正常并且您仍将所有文件放在/HOME目录中(以防万一)之后，您可以删除/HOME_OLD目录以释放空间：</p><div class="item_info"><span class="item_key"><a href="/tag/分区/">分区</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/ubuntu/">ubuntu</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14139.html">如何将Linux主目录移动到另一个驱动器</a><li><a href="/story/11098.html">如何对OneNote笔记本和分区进行密码保护</a><li><a href="/story/10801.html">如何通过重新对齐固态硬盘分区来加快其速度</a><li><a href="/story/10779.html">Android Nougat的“无缝更新”，解释</a><li><a href="/story/9775.html">如何检查磁盘使用的是GPT还是MBR，并在两者之间进行转换</a><li><a href="/story/9335.html">如何将多个分区合并为单个分区</a><li><a href="/story/8290.html">如何在Windows中从驱动器中删除EFI系统分区或GPT保护分区</a><li><a href="/story/8144.html">如何使用Mac的磁盘实用程序对驱动器进行分区、擦除、修复、恢复和复制</a><li><a href="/story/8096.html">如何在Ubuntu上使用LVM轻松调整分区大小和快照</a><li><a href="/story/7128.html">什么是系统保留分区，您能将其删除吗？</a><li><a href="/story/7126.html">Windows 8是否必须安装在NTFS分区上？</a><li><a href="/story/6944.html">如何通过Boot Camp在Mac OS X和Windows之间共享文件</a><li><a href="/story/6879.html">了解使用磁盘管理进行硬盘分区</a><li><a href="/story/6719.html">初学者极客：硬盘分区讲解</a><li><a href="/story/6483.html">如何双引导Windows和SteamOS</a><li><a href="/story/6113.html">如何为Windows创建单独的数据分区</a><li><a href="/story/6025.html">如何在Windows下回收Raspberg PI的SD卡的全部容量</a><li><a href="/story/5902.html">如何修复Linux上的“警告：重新读取分区表失败，错误22：无效参数”错误</a><li><a href="/story/5341.html">删除PC的恢复分区并控制硬盘</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>