<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>什么是Linux fstab文件，它是如何工作的？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>什么是Linux fstab文件，它是如何工作的？</h2></div><div class="content"><img class="content_img" src="/image/f6/f6a41aec760e422c0f3d60d1d4bea6f4.jpg" /><p>如果您运行的是Linux，那么您很可能需要更改文件系统的一些选项。熟悉fstab可以使整个过程变得容易得多，而且比您想象的要容易得多。</p><p>什么是Fstab？</p><p>Fstab是您的操作系统的文件系统表。如果您想回顾一下文件系统，请务必查看我们的另一篇文章，HTG解释道：您应该选择哪种Linux文件系统？在过去，这是系统自动挂载文件的主要方式。现在，你可以插入任何类型的USB驱动器，它就会像在Windows和Mac OS中那样在Nautilus中弹出，但很久以前，你必须使用“mount”命令手动将这些磁盘挂载到特定的文件夹。DVD、CD甚至软盘(还记得那些吗？)也是如此。</p><p>那时候，你唯一的选择就是告诉计算机，只要插入特定的设备，它就应该自动挂载到特定的地方。“这就是fstab的用武之地，它很棒。”假设你交换了IDE或SCSI控制器上的硬盘。计算机可能会以不同的顺序加载文件系统，这可能会把事情搞得一团糟。Fstab被配置为每次都会寻找特定的文件系统，并以所需的方式自动挂载它们，从而防止了无数灾难的发生。</p><p>您的Fstab文件</p><p>fstab文件位于：</p><p>让我们看看我的fstab文件，好吗？</p><img class="content_img" src="/image/87/875943e4b3dd2ead84b2dc943722b17c.png" /><p>您肯定会看到不同之处，但是如果您想使用您自己的fstab，只需将此命令弹出到终端即可：</p><img class="content_img" src="/image/88/88c399ecfe0f6b6cc1f7f6cb91841661.png" /><p>如果您不习惯使用Nano，也可以使用Gedit。</p><p>显而易见的选择</p><img class="content_img" src="/image/54/5423182e5bf82bb6b4a8b31af4779f7f.png" /><p>您会注意到所有条目都以UUID开头。您可能还记得我们以前的一篇文章《如何为您的Linux PC选择分区方案》中见过这一点，但我们还是会再解释一遍。每个文件系统在格式化过程中都会被分配一个通用的唯一标识符，这个标识符会一直带到坟墓中。*因为它不能更改，所以这是选择要挂载的文件系统的理想方式，特别是对于重要的文件系统。假设您的/主分区在第二个硬盘上，您最终会将其移动到一个外部硬盘上。*假设您的/home分区位于第二个硬盘上，您最终会将其移动到外部硬盘上。*因为它不能更改，所以这是选择要挂载的文件系统的理想方式，尤其是对于重要的文件系统。fstab仍将找到该分区并正确装入，从而避免启动失败。*如果您切换到(或使用)使用设备标识符选择分区的旧方法(即/dev/sda1)，此优势将消失，因为硬盘驱动器和分区由其控制器计数，因此可能会发生变化。</p><p>编辑：在您的fstab文件中使用UUID，虽然对大多数家庭用户来说很方便，但也有一些重要的注意事项。“当使用像”组装的“或”基于网络的“设备时，这是行不通的。*如果你是一个更高级的用户，或者计划在未来使用像软件RAID这样的东西，你最好不要使用UUID。</p><img class="content_img" src="/image/3f/3f87901f6b26f486e780770e1cb7ea5d.png" /><p>与所有后续部分一样，fstab的下一部分由空格或制表符或它们的组合分隔。在这里，您将找到挂载点。*如您所见，我有一个根(/)挂载点、一个交换和两个我为共享网络存储驱动器手动添加的挂载点。*如果您要向fstab添加一个条目，则必须在重新启动计算机之前手动创建挂载点(更改将会生效)。*如果要将条目添加到fstab，则必须在重新启动计算机之前手动创建挂载点。*如您所见，我为我的共享网络存储驱动器手动添加了一个根(/)挂载点、一个交换点和两个挂载点。</p><img class="content_img" src="/image/ae/aefe2b3ad6ce2c12d853079f9a3e374f.png" /><p>接下来是标识分区上文件系统类型的部分。许多分区是由Linux本地读取的，例如ext2/3/4、ReiserFS、JFS等。您的特定系统可能仍然需要安装特定的软件包才能对它们进行读写。最好的例子是我的NTFS分区；您可以看到我正在使用NTFS-3G驱动程序来访问它们。</p><p>更可怕的东西</p><p>接下来的几个部分通常会吓跑新人，但它们真的没有那么复杂。*可用的选项很多，但有几个非常常见的选项。*让我们来看看它们。(默认选项是先选择，然后选择，但由于Linux发行版可能非常不同，因此您的使用里程可能会有所不同。)</p><p>
AUTO/NOAUTO：指定分区是否应该在启动时自动挂载。*您可以使用“NOAUTO”阻止特定分区在启动时挂载。
exec/noexec：*指定分区是否可以执行二进制文件。*如果您有在其上编译的临时分区，则这将很有用，或者如果您在单独的文件系统上有/home。*如果您担心安全性，请将其更改为“noexec”。
ro/rw：“ro”是只读的，“rw”是读写的。*如果您希望能够以用户身份而不是以root身份写入文件系统，则需要指定“rw”。
sync/async：这个很有趣。“sync”强制在命令执行时立即写入，这对于软盘来说是理想的(你有多极客？)。和USB驱动器，但对于内部硬盘来说并不是完全必要的。“异步”所做的就是允许命令在一段时间内执行，也许是在用户活动减少之类的时候。是否会收到一条消息，询问您“正在将更改写入驱动器时等待？”，这通常就是原因所在。
nouser/user：*这允许用户拥有挂载和卸载权限。重要的一点是，“user”会自动暗示“noexec”，因此如果您需要执行二进制文件并仍然以用户身份挂载，请确保显式使用“exec”作为选项。</p><p>这些选项用逗号分隔，没有空格，可以按任何顺序放置。如果您不确定默认设置，可以明确说明您的选项。从临时位置(如USB)挂载的内容不会遵循此基本模式，除非您在fstab中为它们创建了条目(通过UUID)。*当您希望外部硬盘驱动器始终以特定方式挂载时，这很方便，因为正常的拇指驱动器等不会受到影响。</p><img class="content_img" src="/image/2f/2fb7da708972710027022a313733401f.png" /><p>您可以看到，我的两个存储驱动器启用了用户挂载权限，启用了读写访问权限，并且打开了自动挂载。“我不会编译太多软件，但当我编译时，我会在列表末尾添加”exec“选项。</p><p>倾倒和翻船</p><img class="content_img" src="/image/74/74fe1d22678e9fa793e2ca6ccf04b60a.png" /><p>下一个选项是一个二进制值(“0”代表False，“1”代表“True”)，表示“转储”。这是一种相当过时的备份系统崩溃情况的方法。*您应该将其保留为“0”。</p><img class="content_img" src="/image/26/268857e323baff8dbdf32ea2d4c2ea24.png" /><p>最后一个选项是“PASSING”的数字值。这会告诉系统fsck的顺序(可以随意发音)，或者执行文件系统检查。*如果磁盘有选项“0”，它将被跳过，就像我的NTFS格式的存储驱动器一样。根文件系统应该始终是“1”，其他文件系统可以在以后继续。*这最适用于像ext3/4和ReiserFS这样的日志文件系统。或者像FAT16/32和FAT16/32和FAT16/32这样的较旧的文件系统。以及较旧的文件系统，如FAT16/32和ReiserFS。</p><p>现在你知道自己在做什么了，你可以疯狂地使用自动挂载之类的东西了。当你有一大堆分区需要管理时，这是非常方便的。我总是记得备份，以防出现问题，但要玩得开心，一定要在评论中留下你的经历！</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/文件系统/">文件系统</a></span><span class="item_key"><a href="/tag/挂载/">挂载</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>