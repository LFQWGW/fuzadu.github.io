<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何访问Hyper-V虚拟机中的本地和USB硬盘</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何访问Hyper-V虚拟机中的本地和USB硬盘</h2></div><div class="content"><img class="content_img" src="/image/5e/5eccda3a0946304731a23f7022e72875.png" /><p>从运行Hyper-V的虚拟机中访问连接到Windows计算机的本地硬盘(无论是内置硬盘还是外置硬盘)非常方便。不过，要准确地弄清楚如何实现这一目标并不是那么方便。请继续阅读，我们将带您浏览它。</p><p>我为什么要这么做？</p><p>您需要从Hyper-V虚拟机内部访问物理硬盘的情况有几十种，包括访问和导入数据、将数据从虚拟机转储到外部驱动器以及导入或导出磁盘映像。</p><p>相关：如何使用Hyper-V创建和运行虚拟机</p><p>无论您出于什么原因想要访问Hyper-V机器中现有的本地硬盘驱动器，不幸的是，要让驱动器访问虚拟机有点复杂。与其他虚拟化解决方案不同，不存在仅在主机和Hyper-V虚拟机之间共享资源的简单方法。</p><p>要在Hyper-V计算机中使用驱动器，您需要在物理连接和装载到主机时使该驱动器离线，然后将离线到主机的磁盘重新路由到虚拟机。现在让我们来看看如何做到这一点。</p><p>在我们继续之前快速说明一下：此技巧仅适用于硬盘驱动器(磁性硬盘驱动器、固态硬盘驱动器和可移动USB硬盘驱动器)，但不适用于可移动介质(如闪存驱动器)。</p><p>Hyper-V中的驱动器准备和安装</p><p>该过程有两个主要步骤。首先，我们需要从主机上的Windows中管理磁盘以使其脱机(但仍通电并连接到主机)，然后我们需要通知Hyper-V控制现已脱机的磁盘。</p><p>准备驱动器</p><p>第一步是使磁盘脱机。为此，请通过搜索应用程序名称或在搜索框中键入“diskmgmt.msc”并运行该应用程序来打开磁盘管理应用程序。在磁盘管理中，查找要传递到虚拟机的驱动器。</p><p>虽然可以安全地假设，既然您正在使用Hyper-V并关心物理磁盘直通之类的问题，那么您已经熟悉了磁盘管理，如果我们不发出标准警告，那就是玩忽职守：磁盘管理是一个强大的工具，您可以通过在管理系统中胡乱操作来对您的系统做可怕的事情。仔细检查每个步骤，并确保您使用的是正确的磁盘。</p><img class="content_img" src="/image/20/20193c0c52989617abcddd5ccdf4b722.png" /><p>在我们的示例中，我们希望将磁盘10(一个USB备份硬盘)传递给虚拟机，这样我们就可以将一些备份文件从虚拟机转储到磁盘上。要准备磁盘，我们必须首先在“磁盘管理”中的驱动器列表中找到它，右键单击它，然后从右击上下文菜单中选择“脱机”，如上面的屏幕截图所示。</p><img class="content_img" src="/image/73/73692fd90344700da6b3fc7ea151b9b0.png" /><p>确认磁盘已脱机。如果您希望在虚拟机内使用完磁盘后将其重新联机，只需返回到此菜单，右键单击该磁盘，然后选择“联机”即可使该磁盘重新联机以供主机操作系统使用。</p><p>将驱动器添加到虚拟机</p><p>一旦磁盘对主机操作系统离线，就可以将磁盘添加到Hyper-V中的虚拟机。启动Hyper-V，并从您的虚拟机列表中选择要将硬盘传递到的计算机。</p><img class="content_img" src="/image/62/62624ad7717264d427e5628df0f27fc9.png" /><p>右键单击机器并选择“设置…”</p><img class="content_img" src="/image/24/248fc3550f81ff96c539f5cb1ba4334a.png" /><p>从该特定虚拟机的设置菜单中，从左侧导航窗格中选择“SCSI控制器”。选择“Hard Drive”(硬盘)，然后单击“Add”(添加)按钮。</p><p>注：我们假定您希望将硬盘传送到虚拟化操作系统，这意味着您已经拥有用于操作系统的SCSI控制器和虚拟磁盘。如果您还没有SCSI控制器，您需要首先选择导航窗格顶部的“添加硬件”，然后将“SCSI控制器”添加到您的虚拟机。</p><img class="content_img" src="/image/29/294b515aec2a6e21ff441b65e8723581.jpg" /><p>选择“物理硬盘”，然后从下拉菜单中选择您在本教程的上一节中使其脱机的磁盘。不要担心，您不可能意外地从主机中选择了您不打算使用的磁盘。您可以在物理硬盘菜单中选择的唯一磁盘是已通电并连接到主机，但处于脱机状态的磁盘。如果您没有将其设为离线，这甚至都不是一个选择。</p><p>确认所选的磁盘是您需要的磁盘。按“应用”按钮，然后按“确定”。启动您的虚拟机。</p><p>访问您的直通硬盘</p><p>在绝大多数情况下，主机操作系统应该自动检测磁盘，就好像它只是连接到虚拟机正在模拟的真实机器的物理磁盘一样。</p><p>您可以看到，在下面的屏幕截图中，我们启动到虚拟机以测试使用Windows PE和Macrium Reflect的映像恢复过程。Windows PE自动检测并顺利挂载磁盘。</p><img class="content_img" src="/image/88/88ea288c60d8d89d0fa4a1544d4a8a25.png" /><p>如果虚拟机操作系统无法立即访问该磁盘，您可能需要打开(对于Windows)“磁盘管理”，然后将该磁盘联机。当使用其他操作系统时，您需要执行相同的操作才能通过虚拟操作系统访问磁盘。</p><p>这里有一个非常重要的警告。虚拟机中的操作系统并不知道该磁盘实际上属于您的主机，它会按照您告诉它对磁盘进行操作的方式对其进行操作。如果磁盘未自动挂载到虚拟机操作系统中，则需要使用挂载过程(请参阅相关特定操作系统的文档)以非破坏性方式挂载磁盘，以便稍后可以将其返回到主机操作系统。</p><p>当您不再需要虚拟机中的磁盘时，只需引导虚拟机即可。在关闭驱动器所连接的虚拟机之前，请勿尝试通过主机更改驱动器状态。</p><p>如果您不打算再次使用硬盘，您可以将硬盘从虚拟机的虚拟SCSI控制器中完全移除，也可以留下条目。无论何时将物理驱动器与主机断开连接，或者您已将其设置为主机操作系统的在线状态，该驱动器对虚拟机都将显示为不可用。</p><div class="item_info"><span class="item_key"><a href="/tag/磁盘/">磁盘</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/硬盘/">硬盘</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/13397.html">如何在VirtualBox中实现固定磁盘和动态磁盘之间的转换</a><li><a href="/story/10744.html">为什么您的新硬盘没有显示在Windows中(以及如何修复)</a><li><a href="/story/9775.html">如何检查磁盘使用的是GPT还是MBR，并在两者之间进行转换</a><li><a href="/story/9427.html">如何修复Mac上的磁盘和文件系统问题</a><li><a href="/story/9361.html">如何“清洁”闪存驱动器、SD卡或内部驱动器以修复分区和容量问题</a><li><a href="/story/8290.html">如何在Windows中从驱动器中删除EFI系统分区或GPT保护分区</a><li><a href="/story/7477.html">如何在一小时内升级您现有的硬盘</a><li><a href="/story/7275.html">如何将Mac格式的驱动器转换为Windows驱动器</a><li><a href="/story/6508.html">如何在Mac OS X桌面上隐藏图标</a><li><a href="/story/6049.html">公羊很便宜，为什么我们不用它来经营一切呢？</a><li><a href="/story/5610.html">如何智能使用多个磁盘：RAID简介</a><li><a href="/story/5290.html">还会有更快的DVD和CD驱动器吗？</a><li><a href="/story/5104.html">极客学校：学习Windows7-管理磁盘</a><li><a href="/story/3850.html">如何在不下载任何其他软件的情况下管理Windows上的分区</a><li><a href="/story/3650.html">移动Photoshop暂存盘以提高性能</a><li><a href="/story/2858.html">如何在Ubuntu上设置简单文件服务器的软件RAID</a><li><a href="/story/2845.html">在Windows资源管理器中通过右键单击装载和卸载VHD文件</a><li><a href="/story/2670.html">什么是逻辑卷管理？如何在Ubuntu中启用它？</a><li><a href="/story/2580.html">如何在Windows 7中创建软件RAID阵列</a><li><a href="/story/2557.html">如何通过自由选择获得尼禄的最佳特性</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>