<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>分析和管理您的文件、文件夹和驱动器</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>分析和管理您的文件、文件夹和驱动器</h2></div><div class="content"><img class="content_img" src="/image/ca/caaadf15ed6440ab4cbdec44fa9b7a89.jpg" /><p>我们即将完成极客学校关于Sysinterals工具的系列文章，今天我们将讨论帮助您处理文件和文件夹的所有实用程序-无论您是查找隐藏数据还是安全删除文件。</p><p>工具包中有相当多的实用程序，它们处理与文件或文件夹相关的各种事情，或者查找您不知道的数据，还有一些有点愚蠢。不管怎样，我们都会覆盖他们。</p><p>工具包中需要了解的最重要的文件相关工具可能是Sigcheck和STREAMS实用程序，但最好仔细阅读所有这些工具。</p><p>STREAMS查找并显示隐藏的NTFS流</p><p>大多数人不知道这项功能，但Windows将允许您将数据存储在文件系统中称为备用数据流的隐藏隔间中。这基本上是通过在与文件名交互时在文件名末尾附加冒号和唯一键来实现的。</p><p>相关：如何在秘密文本文件室中隐藏数据</p><p>例如，如果你想在一个文件中隐藏一些数据，你可以做一些类似于ECHO Secret&gt;filename.txt：HiddenStuff的事情，即使你在记事本中打开那个文本文件，你也不会看到你添加的“Secret”文本，而且也没有其他方法知道它在那里。事实上，使用这种技术你几乎可以做任何你想做的事情。(请务必阅读我们关于这个主题的文章，以获得完整的解释)。</p><p>这也是一种技术，通过将数据隐藏在Zone.Identifier字段中，Windows可以神奇地知道文件已从Internet下载。实际上，您可以使用STREAMS实用程序删除此备用数据流。</p><p>语法很简单-要查看流，请在提示符下键入以下命令：</p><p>您还可以使用“STREAMS*.EXE”或类似的命令来查看具有隐藏流数据的所有文件(如果有的话)。查看内容的最快方法是进入下载目录并在那里运行。</p><img class="content_img" src="/image/46/4638d355b930c9d41f229e803ff9762c.png" /><p>要删除一个或多个流，可以使用-d选项：</p><p>您还可以使用-s选项递归地进入子目录。</p><p>SigCheck分析未数字签名的文件(如恶意软件)</p><p>这个非常有用的实用程序分析系统上文件的数字签名，并告诉您它们是有效的还是缺少证书。您还可以使用它从命令行检查文件是否符合VirusTotal，这很方便，因为这才是此工具的真正意义所在，即查找恶意软件。</p><p>正常且最有用的语法是添加-u开关和-e开关，前者只报告问题，后者只检查可执行文件。因此，您可以运行类似这样的命令来检查system32目录，并确保那里的所有文件都经过了数字签名。任何其他的东西都应该非常仔细地检查。</p><p>您还可以使用-v选项对VirusTotal进行附加检查，但您需要在第一次使用-vt选项才能接受其条款和条件。</p><img class="content_img" src="/image/ee/ee6c5240b32e8b1e2c200561268d96dc.png" /><p>SDelee安全地删除文件</p><p>如果您是偏执狂类型，您会很高兴地知道，您可以随时从命令行安全地擦除文件。只需使用sdelete实用程序使用符合DoD的删除协议来删除文件即可。(当然，国安局可能还有你的文件的副本)。语法很简单：</p><p>您也可以使用sdelete-c-c选项清理驱动器上的可用空间，这将需要更长的时间，但如果您一开始就忘记使用sdelete删除文件，那么这是一个很好的选择。</p><img class="content_img" src="/image/df/df26c8611155b6fca0d2ecb25b6c1af9.png" /><p>Contig对一个或多个单个文件进行碎片整理</p><p>如果您只想对单个文件或文件列表进行碎片整理，则可以使用contig实用程序来执行此操作。当然，在自动进行碎片整理的现代Windows版本中，您并不真的需要对文件进行碎片整理。是的，如果您使用的是固态硬盘，您永远不应该也不需要进行碎片整理。但是，如果您绝对、肯定地必须对单个文件进行碎片整理，那么这个实用程序就可以做到这一点。*语法很简单：</p><p>如果您想要分析文件的碎片而不实际执行任何操作，可以使用-a开关，如下所示：</p><img class="content_img" src="/image/13/13059dfe1244c87d83c1e5ada01c6a14.png" /><p>值得注意的是，即使文件是碎片文件，如果文件非常大，并且只被拆分成几个大的碎片，您基本上不会从碎片整理中获得任何好处，而且浪费的时间会比节省的时间更多。</p><p>DU显示磁盘使用情况</p><p>您总是可以右键单击Windows资源管理器中的任何文件或文件夹，然后选择“属性”，或者使用Alt+Enter键盘快捷键来查看文件或文件夹的大小。但是，如果您想从命令提示符下查看这些数据，该怎么办？这就是du实用程序的用武之地，它也更精确一些，因为它不计算符号链接文件，而且它还检查备用数据流。</p><img class="content_img" src="/image/6c/6cb31f989e1d95e0468cb3e4bbec635c.png" /><p>-n选项只检查单个文件夹，不会递归到子目录，而-v选项会递归，还会在列表中显示每个目录，而-l(N)选项只检查“n”个级别。如在中，-l 2将检查2级深度。</p><p>PendMoves显示下次重新启动时移动的文件</p><p>您有没有想过为什么安装应用程序会让您重新启动计算机？答案通常是，他们想要移动一些在Windows运行时不能移动的文件，所以他们使用内置的Windows功能来处理重启时移动或删除文件。</p><p>您唯一需要做的就是运行该命令，它将输出数据。为什么计划在下次重新启动时将Process Explorer的副本移到Windows文件夹中？继续读下去。</p><img class="content_img" src="/image/f3/f3cee23532af0fef55b00402b5660684.png" /><p>重新引导时MoveFiles移动系统文件</p><p>此实用程序使用内置的Windows功能来计划文件或目录的移动、删除或重命名，以便在Windows完全加载之前的下一个重新启动周期中执行。语法非常简单：</p><p>如果要删除文件，可以使用引号使用空目标，如movefile&lt;source&gt;“”。*正如您在下面的屏幕截图中看到的那样，我们使用Movefile命令将进程资源管理器的副本移到Windows目录中，以说明它是如何工作的。</p><img class="content_img" src="/image/6e/6edd7cc981b424ce6e50048775777f52.png" /><p>交汇点创建符号链接</p><p>相关：在Windows上创建符号链接(也称为Symlink)的完整指南</p><p>Windows支持文件和文件夹的符号链接，因此您可以有多个指向同一文件的路径，以节省空间，而不是拥有文件的多个副本。其思想类似于快捷方式，不同之处在于这是在文件系统级别，并且内置于NTFS中。</p><p>Junction实用程序允许您轻松创建和删除这些链接。您也可以使用Junction-d&lt;ShortcutName&gt;删除它们。</p><p>然而，实际情况是，从Vista开始，Windows已经能够使用mklink命令创建符号链接，您也可以使用该命令。</p><p>FindLinks查找指向文件的硬链接</p><p>这个小实用程序查找指向文件的所有硬链接。硬链接与符号链接的不同之处在于，如果有更多指向该文件的硬链接，则删除一个硬链接实际上并不会删除该文件，它只是看起来像是删除了该文件，直到您删除了所有硬链接。一旦删除了最后一个硬链接，该文件也将被删除。</p><p>注意：这实际上可能是一种有趣的方式，可以确保某个特定文件不会被有删除文件习惯的人真正删除。只需创建指向您不希望它们丢失的所有文件的硬链接即可。</p><p>在任何情况下，您都可以非常轻松地使用此命令：</p><p>唯一的问题是，Windows7和Windows8都有一个内置命令来做同样的事情。请改用此选项：</p><p>注意：在可能的情况下，学习使用内置的东西总是更好的，因为当你没有工具包的时候，你永远不知道什么时候你会需要在别人的电脑上做一些事情。</p><p>DiskView显示磁盘结构</p><p>此实用程序使您可以非常详细地查看硬盘的结构，您甚至可以全程放大并选择要在列表中突出显示的文件，这样您就可以看到特定文件在驱动器上的位置，还可以查看它是否为碎片文件。它对大多数人来说不是特别有用，但希望您有一个可能需要使用它的场景。</p><img class="content_img" src="/image/46/46271638ed000557eca73ba34a1eb0e9.png" /><p>Disk2vhd将PC变成虚拟硬盘</p><p>该实用程序在计算机运行时创建硬盘的克隆，并将其捆绑到可在虚拟机中使用的虚拟硬盘文件中。它会在PC运行时执行此操作。</p><p>没错，您可以在计算机运行时创建硬盘的虚拟机。如果您希望在自己的计算机上对计算机进行取证分析，这也可能非常有帮助-您可以只创建一个克隆，然后将其作为虚拟机启动。</p><p>Vhdx的选项告诉Disk2vhd使用较新的VHDX文件格式，而不是VHD文件格式，后者有许多限制。默认情况下，Disk2vhd将为每个实体驱动器创建单独的文件，但会将分区放入同一文件中。如果您只是计划将此VHD文件附加到另一个虚拟机，或者甚至只是将其挂载到常规Windows计算机上，您可以取消选中列表中不需要的分区。如果您计划用它创建一个虚拟机，您可能应该将所有内容都选中。</p><img class="content_img" src="/image/59/5970dd1a50b532068520929ab509ce2a.png" /><p>VHD输出文件实际上可以放在您要复制的同一驱动器上，但我们建议如果可能的话，使用第二个驱动器，这样做会更快。</p><p>页面碎片整理已过时</p><p>此实用程序允许您在引导期间对系统文件进行碎片整理，但由于它在最新版本的Windows上不起作用，您应该跳过它。</p><p>同步将缓存数据写入磁盘</p><p>此实用程序只需将所有缓存数据同步到磁盘，以确保所有文件更改都写入驱动器，而不是存储在某个缓冲区中。当然，如果您想确保在拔出闪存驱动器时不会丢失数据，则每次都应该使用安全删除选项。</p><img class="content_img" src="/image/9c/9cfe80125a0243e9896b6f3f3a4befd1.png" /><p>磁盘监视器为您显示实时硬盘活动</p><p>此实用程序实时显示发生的实际硬盘活动-扇区、读取、写入、数据长度，它们都在那里。唯一的问题是，它对大多数人来说并不是特别有用。</p><img class="content_img" src="/image/20/200a1168db283a1439362ccabd21e65e.png" /><p>也许更有用的是可以从选项菜单中选择的磁盘监控“Tray Disk Light”。一旦启用该模式，它将移到系统托盘中，并在写入时闪烁红色，读取时闪烁绿色，或在未发生任何情况时保持灰色。</p><img class="content_img" src="/image/c3/c3f9c20ac43313cccc2235d28232b192.png" /><p>如果这个图标和Windows8的搭配稍微好一点就好了。</p><p>VolumeID更改驱动器的序列号</p><p>你有没有注意到每个驱动器都有一个序列号，看起来像064B-1E81或其他同样乏味的东西？如果要将序列号更改为更有趣的内容，可以使用以下语法的volumeID实用程序进行更改：</p><p>请注意，语法要求使用十六进制字符，因此您不能像我们那样键入GEEK-1337，因为它不起作用。</p><img class="content_img" src="/image/1c/1c384039dd8c6bc0f6e0ec06f8898b88.png" /><p>下一课</p><p>明天，我们将以一些我们遗漏的小实用程序来结束本系列，并提供一些关于一起使用所有工具以及何时应该取出每个工具的指导。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/实用程序/">实用程序</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14706.html">如何在Linux上使用uniq命令</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14585.html">如何在Microsoft Excel中兑换货币</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14570.html">如何在Linux上使用grep命令</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14542.html">如何从MacOS Catalina向iPhone添加自定义铃声</a><li><a href="/story/14508.html">如何使用键盘快捷键简化流媒体Netflix</a><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14499.html">如何在Linux上使用免费命令</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14461.html">如何设置您的新Mac</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14424.html">如何向Outlook会议请求添加默认签名</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>