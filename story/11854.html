<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Windows命令提示符下使用命令历史记录</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Windows命令提示符下使用命令历史记录</h2></div><div class="content"><img class="content_img" src="/image/ef/efe46b626a50b5021605438e8f4bb85a.png" /><p>Windows命令提示符具有内置的历史记录功能，使您可以快速查看在当前会话中运行过的命令。更棒的是，命令提示符提供了相当多的键盘快捷键和其他处理命令历史记录的技巧。</p><p>如何查看命令历史记录</p><p>要滚动查看命令历史记录，可以使用以下键盘快捷键：</p><p>
向上箭头：重新调用您之前键入的命令。然后重复按键以浏览您的命令历史记录。
向下箭头：回想一下您键入的下一个命令。重复按键可浏览您的命令历史记录。
向上翻页：重新调用您在当前命令提示符会话中运行的第一个命令。
向下翻页：重新调用您在当前命令提示会话中运行的最新命令。
Esc：清除命令行。</p><p>使用这些F键可以与您的命令历史记录进行交互：</p><p>
F7：以覆盖形式查看命令历史记录。使用向上和向下箭头键选择命令并运行它。按Esc键关闭覆盖，而不运行命令。</p><img class="content_img" src="/image/0f/0ff89f99e5b61acc3d67c1319ba40ad5.png" /><p>
F8：在命令历史记录中搜索与当前命令行上的文本匹配的命令。因此，如果要搜索以“p”开头的命令，可以在命令行中键入“p”，然后重复按F8在历史记录中循环使用以“p”开头的命令。
F9：通过在历史记录缓冲区中指定命令编号，从命令历史记录中召回命令。这些数字显示在F7叠加窗口中，从0开始。因此，如果您想要快速重新运行您在当前会话中运行的第一个命令，您可以按“F9”，键入“0”，然后按“Enter”。该命令将在提示符处显示为已填写，您可以再次按“Enter”键运行该命令。</p><img class="content_img" src="/image/5d/5d02ee8e82e10721da891bcca45d4ee3.png" /><p>要在终端中打印命令历史记录列表，请运行以下命令：</p><code>doskey /history</code><p>您将看到在当前会话中键入的命令。如果您按F7，您将看到相同的列表。</p><img class="content_img" src="/image/41/41d6b574f4a641a599c3b94933b55891.png" /><p>如何复制以前的命令</p><p>您之前键入的命令称为“模板”。有多种快捷方式可以快速复制您之前运行的命令的一部分。</p><p>
F1：从您键入的上一个命令中一次复制一个字符。重复按F1键，逐个字符键入您以前键入的命令。
F2：复制您之前键入的命令的一部分。系统将提示您输入字符。系统将在您键入的前一个命令中向前搜索，并自动将文本复制到(但不包括)该字符。例如，如果您最后运行的命令是“ping google.com”，您可以按“F2”，键入“o”，然后按“Enter”，提示符处会出现“ping g”。
F3：复制您之前键入的命令的一部分。系统将从当前字符位置开始，并自动从上一行的该位置复制文本的其余部分。例如，假设您键入的最后一个命令是“ping-4google.com”。您可以输入“ping-6”，按“F3”，系统会自动填写“google.com”，当前行为“ping-6google.com”。</p><img class="content_img" src="/image/00/00d02673013975c9be2f4ee25b1d3a8e.png" /><p>如何清除命令历史记录</p><p>与Linux的bash shell不同，命令提示符不会在会话之间记住命令。要擦除您键入的任何命令的历史记录，只需关闭命令提示符窗口。</p><p>通过使用dockey命令将历史记录大小设置为0，可以告诉命令提示符不要记住在当前会话中键入的任何命令：</p><code>doskey /listsize=0</code><p>在将列表大小设置为0之后，您将无法使用箭头键、F7键或DOSCEY/HISTORY命令来查看您键入的任何命令。此更改也仅对当前的命令提示窗口生效，因此下次关闭并重新打开时，命令提示窗口将照常记住历史记录。</p><img class="content_img" src="/image/16/165113f57e7f6eff703ff3980d7403a4.png" /><p>您可以使用CLS(Clear Screen)命令清除命令提示符窗口，在不关闭窗口的情况下擦除您键入的命令的所有历史记录：</p><code>cls</code><img class="content_img" src="/image/2a/2a1b0ccfb5676a57df424db1157981bd.png" /><p>如何保存命令历史记录</p><p>如果您需要保存在命令提示符窗口中键入的命令的历史记录，可以通过运行doskey/History命令并将其输出发送到文本文件来实现。(当然，您也可以只运行dockey/History命令并将文本复制/粘贴到另一个应用程序。)</p><p>例如，以下命令会将当前命令提示符窗口的命令历史记录的副本保存到系统上的C：\Users\Name\Desktop\Commands.txt文件中。</p><code>doskey /history > C:\Users\name\Desktop\commands.txt</code><p>&gt;字符将命令的输出重定向到您指定的文件。</p><img class="content_img" src="/image/b7/b71f1ccb95811b6e721f684b07d3ded3.png" /><p>在文本编辑器中打开该文件，以查看在该命令提示符会话中键入的命令的历史记录。</p><img class="content_img" src="/image/bf/bf1c991b300f200f19c73bdaf7b21a9c.png" /><p>相关：Windows命令提示符的34个有用键盘快捷键</p><p>这些只是命令提示符中可用的一些有用的键盘快捷键，请查看我们的列表以了解更多信息。</p><div class="item_info"><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/历史记录/">历史记录</a></span><span class="item_key"><a href="/tag/键入/">键入</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14448.html">如何在Linux上使用Which命令</a><li><a href="/story/14302.html">如何在Linux上使用Echo命令</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14091.html">如何在Linux上运行和控制后台进程</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14013.html">Bash你需要知道的15个特殊字符</a><li><a href="/story/14001.html">如何在Linux上使用管道</a><li><a href="/story/13823.html">如何在Linux上使用xargs命令</a><li><a href="/story/13779.html">如何在Linux上使用rev命令</a><li><a href="/story/13739.html">如何监控Linux命令的进度(使用pv和Progress)</a><li><a href="/story/13621.html">如何从Linux终端列出您的计算机设备</a><li><a href="/story/13610.html">如何使用Linux type命令</a><li><a href="/story/13585.html">如何使用Linux的所有搜索命令</a><li><a href="/story/13474.html">如何在Linux上使用重命名命令</a><li><a href="/story/13312.html">如何从Linux终端杀死进程</a><li><a href="/story/13258.html">37个您应该知道的重要Linux命令</a><li><a href="/story/13253.html">如何使用命令行重新启动或关闭Linux</a><li><a href="/story/13218.html">如何在Linux上使用“Install”命令复制文件</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>