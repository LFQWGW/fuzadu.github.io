<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用MySQL查询缓存加快您的网站速度</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>使用MySQL查询缓存加快您的网站速度</h2></div><div class="content"><p>提高Web应用程序速度的最佳方法之一是在数据库中启用查询缓存，这会将常用的SQL查询缓存到内存中，以便发出相同请求的下一个页面几乎可以即时访问。</p><p>此方法如此强大的原因是您不需要对Web应用程序进行任何更改，只需牺牲一点内存即可。这不会解决你所有的问题，但绝对不会有什么坏处。</p><p>注意：如果您的应用程序频繁更新表，那么查询缓存将不断被清除，您不会从中获得太多或任何好处。对于主要针对数据库进行读取的应用程序(如WordPress博客)来说，这是非常理想的。如果您在共享主机上运行，这也不会起作用。</p><p>在服务器运行时启用缓存</p><p>您需要做的第一件事是确保您的MySQL安装确实具有可用的查询缓存支持。大多数发行版都是这样做的，但无论如何您都应该检查一下。</p><p>您需要从MySQL控制台运行此命令，它将告诉您查询缓存是否可用。</p><p>不要误以为这意味着查询缓存实际上是启用的，因为大多数宿主提供程序在默认情况下不会启用这一功能。奇怪的是，我的Ubuntu活跃安装已经启用了…</p><p>接下来，我们需要检查并查看是否启用了查询缓存。我们将需要检查多个变量，因此我们也可以通过检查变量查询%来一次完成所有操作</p><p>以下是清单中的重要项目及其含义：</p><p>
QUERY_CACHE_SIZE-这是以字节为单位的缓存大小。将此值设置为0将有效禁用缓存。
QUERY_CACHE_TYPE-此值必须为ON或1，才能在默认情况下启用查询缓存。
QUERY_CACHE_LIMIT-这是将缓存的最大查询大小(以字节为单位)。</p><p>如果QUERY_CACHE_SIZE值设置为0，或者您只想更改它，则需要运行以下命令，记住该值以字节为单位。例如，如果您希望将8MB分配给缓存，我们将使用1024x1024x8=8388608作为值。</p><p>同样，可以使用相同的语法设置其他选项：</p><p>现在我们怎么知道它是否真的起作用了呢？您可以使用show status命令提取所有以“qc”开头的变量，以查看幕后的情况。</p><p>您将在统计数据中注意到，我还有足够的空闲内存。如果您的服务器显示大量低MEM修剪，您可能需要考虑增加此值，但我不会在Web服务器…的查询缓存上花费太多内存。您需要为Apache、php、ruby或您正在使用的任何东西留出可用的内存。</p><p>在配置文件中启用</p><p>如果希望这些更改在重新启动或重新启动MySQL服务器后仍然有效，则需要将它们添加到MySQL的/etc/mysql/my.cnf配置文件中。请注意，它可能位于您安装的不同位置。</p><p>在sudo或root模式下使用文本编辑器打开文件，如果文件中不存在这些值，则添加它们。如果它们确实存在，只需取消对它们的注释。</p><p>查询缓存可以显著提高Web应用程序的速度，特别是在您的应用程序主要读取内容的情况下。使用上面的方法监视状态，并查看随着时间的推移它是如何工作的。</p><div class="item_info"><span class="item_key"><a href="/tag/缓存/">缓存</a></span><span class="item_key"><a href="/tag/需要/">需要</a></span><span class="item_key"><a href="/tag/不会/">不会</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/13367.html">您应该清除Android手机上的系统缓存吗？</a><li><a href="/story/11846.html">如何在Android和iOS上清除Dropbox缓存</a><li><a href="/story/10543.html">如何在Chrome中启用脱机浏览</a><li><a href="/story/9189.html">如何在Windows 10中重建损坏的图标缓存</a><li><a href="/story/6702.html">想要更快地浏览吗？停止清除浏览器缓存</a><li><a href="/story/5795.html">误区：删除缓存真的能提高你的电脑速度吗？</a><li><a href="/story/4866.html">如何在Internet Explorer 10中修改缓存行为</a><li><a href="/story/1777.html">快速访问Firefox中的缓存</a><li><a href="/story/1750.html">向Firefox添加缓存清除按钮</a><li><a href="/story/690.html">在Vista中将SuperFetch更改为仅缓存系统引导文件</a><li><a href="/story/235.html">在Windows 7或Vista中加速SATA硬盘</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>