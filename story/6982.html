<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>TCP和UDP有什么不同？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>TCP和UDP有什么不同？</h2></div><div class="content"><img class="content_img" src="/image/31/312ac4f38c933f6f6315e40e583dfd71.jpg" /><p>在路由器上设置端口转发或配置防火墙软件时，您可能已经看到过对TCP和UDP的引用。这两个协议用于不同类型的数据。</p><p>TCP/IP是设备用于在Internet和大多数本地网络上通信的一套协议。它是以它的两个原始协议命名的-传输控制协议(TCP)和互联网协议(IP)。TCP为应用程序提供了一种在网络上传送(和接收)有序且经过错误检查的信息包的方法。用户数据报协议(UDP)是应用程序使用的，通过取消错误检查来提供更快的信息流。当配置某些网络硬件或软件时，您可能需要了解其中的区别。</p><p>他们的共同点是什么</p><p>相关：如何查找您的私有和公共IP地址</p><p>TCP和UDP都是用于通过Internet发送比特数据(称为数据包)的协议。这两种协议都构建在IP协议之上。换句话说，无论您是通过TCP还是UDP发送数据包，该数据包都会发送到IP地址。这些数据包的处理方式类似，因为它们从您的计算机转发到中间路由器，然后再转发到目的地。</p><img class="content_img" src="/image/c3/c301e151f262b713e2150d03e9097f64.png" /><p>TCP和UDP并不是工作在IP之上的唯一协议。然而，它们是使用最广泛的。</p><p>TCP的工作原理</p><p>TCP仍然是互联网上最常用的协议。</p><p>当您在浏览器中请求网页时，您的计算机会将TCP数据包发送到Web服务器的地址，要求它将网页发回给您。Web服务器通过发送TCP数据包流进行响应，您的Web浏览器将这些数据包缝合在一起形成网页。当您单击链接、登录、发布评论或执行任何其他操作时，您的Web浏览器会将TCP数据包发送到服务器，而服务器会将TCP数据包发回。</p><p>TCP事关可靠性-跟踪与TCP一起发送的数据包，因此数据在传输过程中不会丢失或损坏。这就是文件下载即使出现网络故障也不会损坏的原因。当然，如果收件人完全脱机，您的计算机将放弃，并且您将看到一条错误消息，指出无法与远程主机通信。</p><p>TCP通过两种方式实现这一点。首先，它通过对数据包进行编号来对其进行排序。其次，它通过让接收方向发送方发回响应，说明它已收到消息来进行错误检查。如果发送者没有得到正确的响应，它可以重新发送数据包，以确保接收者正确接收它们。</p><p>相关：了解Process Explorer</p><p>Process Explorer和其他系统实用程序可以显示进程建立的连接类型-在这里，我们可以看到Chrome浏览器与各种Web服务器建立了打开的TCP连接。</p><img class="content_img" src="/image/ee/ee59db9db49cb7be2a3c70caa8437898.png" /><p>UDP的工作原理</p><p>相关：延迟如何使快速互联网连接感觉缓慢</p><p>UDP协议的工作原理类似于TCP，但它丢弃了所有的错误检查功能。所有来回通信都会引入延迟，从而减慢速度。</p><p>当应用程序使用UDP时，数据包会直接发送到接收方。发送方不会等待确保接收方收到数据包-它只会继续发送下一个数据包。如果接收方在这里和那里丢失了几个UDP数据包，它们就会丢失-发送方不会重新发送它们。失去所有这些开销意味着设备可以更快地通信。</p><p>当需要速度并且不需要纠错时，使用UDP。例如，UDP经常用于直播和在线游戏。</p><p>例如，假设您正在观看实况视频流，该视频流通常使用UDP而不是TCP进行广播。服务器只是将持续不断的UDP数据包流发送到正在监视的计算机。如果您断开连接几秒钟，视频可能会冻结或跳转片刻，然后跳到广播的当前位置。如果您遇到轻微的数据包丢失，视频或音频可能会暂时失真，因为视频可以继续播放，而不会丢失数据。</p><p>这在网络游戏中也是一样的。如果你错过了一些UDP数据包，当你收到较新的UDP数据包时，玩家角色可能会看起来在地图上传送。如果您错过了旧的数据包，那么请求它们是没有意义的，因为游戏在没有您的情况下仍在继续。重要的是游戏服务器上现在发生了什么，而不是几秒钟前发生了什么。抛弃TCP的纠错功能有助于加快游戏连接速度，减少延迟。</p><img class="content_img" src="/image/cd/cd375544fcfc42a8822040d38ef3f5b2.png" /><p>那又怎么样？</p><p>相关：如何使用Wireshark捕获、过滤和检查数据包</p><p>应用程序使用TCP还是UDP取决于其开发人员，而选择取决于应用程序的需要。大多数应用程序需要TCP的纠错和健壮性，但有些应用程序需要UDP的速度和降低的开销。如果你启动Wireshark这样的网络分析工具，你可以看到来回传输的不同类型的数据包。</p><img class="content_img" src="/image/d0/d078a285a78f46a65e2f909bcb389090.png" /><p>除非您是网络管理员或软件开发人员，否则这不会对您造成太大影响。如果您正在配置路由器或防火墙软件，并且您不确定应用程序使用的是TCP还是UDP，则通常可以选择“两者”选项，使路由器或防火墙将相同的规则应用于TCP和UDP流量。</p><div class="item_info"><span class="item_key"><a href="/tag/tcp/">tcp</a></span><span class="item_key"><a href="/tag/数据包/">数据包</a></span><span class="item_key"><a href="/tag/udp/">udp</a></span></div></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>