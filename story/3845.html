<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上调度任务：Crontab文件简介</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上调度任务：Crontab文件简介</h2></div><div class="content"><img class="content_img" src="/image/59/59b9c4749b03f5b813dda460e8236d3c.png" /><p>Linux上的cron守护进程在特定时间在后台运行任务；它类似于Windows上的Task Scheduler。使用适当的语法将任务添加到系统的crontab文件中，cron将自动为您运行这些任务。</p><p>Crontab文件可用于自动执行备份、系统维护和其他重复性任务。语法强大而灵活，因此您可以每15分钟运行一次任务，也可以在每年特定一天的特定分钟运行一次任务。</p><p>打开Crontab</p><img class="content_img" src="/image/6e/6ec6e522417dc0af8d46410e41dd622f.png" /><p>首先，从Linux桌面的应用程序菜单打开一个终端窗口。如果您使用的是Ubuntu，您可以单击Dash图标，键入Terminal，然后按Enter键打开一个。</p><img class="content_img" src="/image/e6/e63a1cbd09fd3c511e452720d6d4a252.png" /><p>使用crontab-e命令打开您的用户帐户的crontab文件。此文件中的命令使用您的用户帐户的权限运行。如果希望命令以系统权限运行，请使用sudo crontab-e命令打开root帐户的crontab文件。如果您的Linux发行版不使用sudo，请使用su-c“crontab-e”命令。</p><img class="content_img" src="/image/06/06d1c721182519ab2b507e1d36423221.png" /><p>系统可能会要求您选择一个编辑器。通过键入其编号并按Enter键选择Nano(如果可用)。高级用户可能更喜欢VI和其他更高级的编辑器，但Nano是一个很容易上手的编辑器。</p><img class="content_img" src="/image/db/db1c2cd81b2613311fb61a5d82d1301e.png" /><p>您将看到Nano文本编辑器，该编辑器由终端窗口顶部的“GNU Nano”标题标识。如果没有，crontab可能会在vi文本编辑器中打开。</p><img class="content_img" src="/image/d6/d6c6c4292b6b63b5a3a02900fe8ea93a.png" /><p>如果您不习惯使用vi，可以键入：退出到vi，然后按Enter键关闭它。运行export Editor=nano命令，然后再次运行crontab-e以在Nano中打开crontab文件。</p><p>添加新任务</p><p>使用箭头键或PAGE DOWN键滚动到Nano中crontab文件的底部。以#开头的行是注释行，这意味着cron会忽略它们。注释只是向编辑文件的人提供信息。</p><img class="content_img" src="/image/bb/bb7929c5d6251a0f22514c16f19ab0d1.png" /><p>crontab文件中的行按以下顺序编写，具有以下可接受的值：</p><p>您可以使用星号(*)字符来匹配任何值。例如，使用星号表示月份将导致该命令每月运行一次。</p><img class="content_img" src="/image/9f/9f203eba81dccd25c4c40ea882d5721a.png" /><p>例如，假设我们想要在凌晨12：30运行命令/usr/bin/example。每天。我们会键入：</p><p>我们用29表示30分钟，用0表示上午12点。因为分钟、小时和工作日的值从0开始。请注意，日和月的值从1开始，而不是从0开始。</p><p>多个值和范围</p><p>多次使用逗号分隔值指定。例如，这行</p><p>每天每小时在15分钟标记处运行/usr/bin/example2。确保在新行上添加每个新任务。</p><img class="content_img" src="/image/9c/9cd67a76a7eed57785c0a9f28d406bd0.png" /><p>使用破折号分隔值来指定值的范围。例如，这行</p><p>每天中午运行/usr/bin/example3，但仅在一年的前六个月运行。</p><p>保存文件</p><p>按Ctrl-O并按Enter将crontab文件保存到Nano中。保存文件后，使用Ctrl-X快捷键关闭Nano。</p><img class="content_img" src="/image/f2/f2341790500c03005683764938a046dc.png" /><p>您将看到“crontab：正在安装新的crontab”消息，表明您的新crontab文件已成功安装。</p><div class="item_info"><span class="item_key"><a href="/tag/crontab/">crontab</a></span><span class="item_key"><a href="/tag/nano/">nano</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>