<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>IT极客：如何保持同名文件同步</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>IT极客：如何保持同名文件同步</h2></div><div class="content"><img class="content_img" src="/image/76/7657dd093db0f54a535cc414fe3a6c87.png" /><p>您很可能听说过Dropbox等服务，它们用于在多台机器上保持文件同步。但是，如果您想要在一台机器上执行此操作，该怎么办？也就是说，使具有相同文件名的文件在整个计算机中保持同步，以便当其中一个文件更改时，它们都会更新。</p><p>此功能可能非常有用，特别是对于有时需要复制文件的开发人员或系统管理员。</p><p>它是如何工作的</p><p>假设您是一名Web开发人员，经过一段时间，他已经组合了一组不错的Javascript函数，您可以在您维护的所有站点中使用这些函数。当您添加或改进此Javascript文件(让我们称其为“library ary.js”)时，仅更新您正在编辑的当前副本。这意味着，例如，如果您进行了错误修复或改进，您将不得不手动将其应用到每个其他站点的源代码文件夹中。</p><p>我们的工具试图解决必须手动将更新的文件应用到每个源文件夹的问题。它所做的：</p><p>
在指定的根文件夹(%UserProfile%\Documents\Web Sites)中搜索具有指定名称(library ary.js)的所有文件。
对于所有名为library ary.js的文件，它都会找到最近修改过的文件，并记录其文件散列值。
然后，所有名为library ary.js的其他文件(不是最新的更新副本)将其文件散列值与最新的文件散列值(在上一步中确定)进行比较。
如果文件哈希值不同，则用最近更新的副本替换相应的Library.js副本。</p><p>因为我们使用散列值来比较文件，所以可以确保替换的任何文件确实不同于最新的副本。例如，如果您要运行该进程，并且进行了5次文件替换，则随后立即再次运行该进程将不会进行任何替换，因为文件散列值现在是相同的。</p><p>更新到最新的复制工具</p><p>更新到最新复制工具工具是具有相同名称的批处理脚本的修改版本(均可使用本文底部的链接下载)，该工具已转换为EXE文件，以便包含所需的NirSoft HashMyFiles实用程序。必须使用指定的某些参数从命令行运行该工具。如果您只是通过双击来运行EXE文件，您将得到一条指示这一点的消息。</p><p>要使用更新到最新副本，可以通过运行“UpdateToNewestCopy/？”查看参数。其中显示了以下对话框：</p><img class="content_img" src="/image/19/190eeb1b15e6e1646011aa299e3d3895.png" /><p>唯一需要的参数是SourceFolder(例如%UserProfile%\Documents\Web Sites)和文件名(library ary.js)。但是，您可以如上所述通过添加其他开关来更改功能。</p><p>实例</p><p>以下命令将在“C：\Users\jfaulkner\Documents\Code Files”文件夹中查找名为“Common.vb”的所有文件，执行替换操作，但在覆盖之前备份当前副本(此输出将生成本文的顶部图像)：</p><p>以下命令执行与上面相同的搜索操作，但是它只报告要替换的文件，而不实际执行任何文件操作：</p><p>假设有一个名为“C：\config\FilesToSearch.txt”的文件，其内容如下：</p><p>以下命令将搜索当前用户的My Documents文件夹，并报告对“library ary.js”和“Common.vb”的任何更新，但不会实际执行任何更新操作：</p><p>使流程自动化</p><p>此流程是自动化的理想候选流程。通过创建具有指定设置的计划任务(无需特殊要求)，并使其每天/每小时/每15分钟(取决于您的要求)运行一次，您可以保持文件以真正的“即设即忘”方式同步。</p><p>下载</p><p>更新到最新的复制修改的可执行文件格式</p><p>更新到最新的复制源批处理文件(更多面向命令行)</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/运行/">运行</a></span><span class="item_key"><a href="/tag/替换/">替换</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>