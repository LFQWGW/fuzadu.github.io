<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何通过安全隧道路由您的所有Android流量</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何通过安全隧道路由您的所有Android流量</h2></div><div class="content"><img class="content_img" src="/image/c7/c790121514d26e7a615385fc76f4c0ef.jpg" /><p>几乎没有什么安全问题、健康剂量的偏执和无法解决的诀窍。今天，我们来看看如何使用免费软件和一个简单的SSH隧道来保护您的Android手机的移动数据连接免受入侵。</p><p>HTG Reader Michael写了一个简单的要求，我们非常乐意满足：</p><p>我们认为你用“刚刚够聪明”的标签贬低自己，迈克尔。毕竟，您能够刷新您的家庭路由器，配置内置SSH服务器，并将您的笔记本电脑设置为客户端。有了这一点，你会发现这本指南可以很容易地为你的手机做同样的事情！我们开始吧。</p><p>如果您在阅读本文时不确定SSH到底是什么，或者您为什么要在您的智能手机(或其他移动设备)上启用SSH，我们强烈建议您阅读SSH路由器设置指南中的“什么是什么以及为什么要设置安全隧道”一节。</p><p>您需要的是什么</p><p>对于本教程，您需要以下内容：</p><p>
运行Android OS 1.6或更高版本的扎根Android手机。
Android版SSH隧道的免费副本。
要连接的SSH服务器。</p><p>关于上述要求的几点注意事项是正确的。首先，要正确配置和部署Android SSH通道，您需要在Android手机上拥有root访问权限。如果你的手机还没有扎根，我们强烈建议阅读我们的指南，该指南的主题是“如何给你的Android设备扎根&为什么你可能想要这样做”，因为它既涵盖了扎根的基础知识，也向你展示了如何扎根。</p><p>其次，我们将在本教程中的指南基础上在您的路由器上设置SSH，以便从任何位置进行安全的Web访问。您不需要使用与我们使用的完全相同的设置(使用第三方Tomato固件刷新的路由器上的内置SSH服务器)，但您需要有SSH服务器(无论是托管在远程服务器上还是您的家庭网络上)才能连接到该服务器。</p><p>从这一点开始，我们将假设您手头至少有一个SSH帐户，其中包含用户名、密码和该帐户的授权密钥对(如果您希望提高安全性)。如果您对这些术语中的任何一个感到陌生，我们强烈建议您阅读上面链接的路由器指南上的设置SSH。</p><p>下载并配置Android SSH通道</p><img class="content_img" src="/image/49/49aede8668a4e39551b28ac1a49deb6f.jpg" /><p>虽然SSH Channel for Android并不是Android平台上唯一可用的SSH工具，但我们青睐它的原因有很多，包括易于配置、易于日常使用，以及-最重要的是-目标受众。SSH隧道被构思为中国和其他国家的用户的工具，在这些国家，压迫和审查的政府严格限制访问互联网。如果这对像中国这样的地方的人(他们冒着自由的风险绕过政府的防火墙)足够好的话，那么对我们来说就足够好了。在Google Play商店获取免费副本(或者，如果您无法访问您所在位置的Google Play商店，请在此处获取APK文件以手动安装)。</p><p>安装应用程序并首次运行它，以开始配置过程。您将看到的第一个屏幕将如下所示：</p><img class="content_img" src="/image/67/674cf26cbc4aacec47ed51b8071c1df2.jpg" /><p>抑制检查隧道开关和打开隧道的冲动-我们还没有输入任何登录信息，所以它只会出错。让我们首先访问菜单的“SSH隧道设置”部分。输入以下信息：您的主机的IP和SSH服务器正在侦听的端口。SSH的默认端口为22；除非您特别更改了端口或SSH主机指示您使用备用端口，否则请将其保留为22。</p><p>在帐户信息部分，输入您在SSH服务器上的用户名和密码。此时，我们已经输入了足够的信息，可以使用基于密码的授权在SSH隧道和您的SSH服务器之间形成一个简单的连接。</p><p>如果您希望使用密钥对进一步保护与SSH服务器的连接-我们强烈建议您这样做-您现在将需要密钥对中的一半私钥。(如果您需要生成密钥对，请参考我们的SSH路由器指南的生成密钥部分。)</p><p>注意：您可以从SSH服务器端(而不是电话上的SSH隧道应用程序)在仅使用登录/密码和登录/密钥对之间切换。如有必要，请参考您的SSH服务器上相应的帮助菜单/文档以获得帮助。</p><p>获得私钥文件(以.ppk结尾)后，需要将其复制到/sdcard/sshnel/key/。要使用该键，请按电话上的Menu(菜单)按钮，弹出以下界面：</p><img class="content_img" src="/image/c6/c602e498d7f6124d03261d0db6a3d5bd.jpg" /><p>按Key File Manager并简单地导航到/sshchannel/key/目录。为您的SSH服务器选择适当的密钥-如果您决定使用配置文件功能来利用多个SSH服务器，您可能会发现根据服务(如HomeRouter.ppk或SomeSSHService.ppk)命名每个密钥很方便。</p><p>一旦您设置了密码和/或私钥，就可以完成最后的配置了。</p><img class="content_img" src="/image/42/42df0fc48f97575b53a9e5d3376f9142.jpg" /><p>Account Information(帐户信息)部分下面是Port Forwarding(端口转发)部分。为了加快进程，我们建议打开内置SOCKS代理服务器，以提高应用程序与SSH隧道的兼容性。只需勾选“使用袜子代理”即可将其打开。</p><img class="content_img" src="/image/48/48ef9dc8bfe7bccbfcb235ba2e2078c0.jpg" /><p>最后，该决定是通过SSH服务器路由整个Android数据连接，还是有选择地通过服务器重定向应用程序。要路由您的整个连接，请选中“全局代理”。要有选择地路由应用程序，请选择“个人代理”，然后选中您想要路由的单个应用程序-例如您的Web浏览器和Facebook-如上所述。</p><p>在这一点上，我们已经准备好了，但是在我们启动隧道之前，让我们先来看一下最后几个配置选项，这样您就可以决定是否要使用它们。在Configuration(配置)菜单的Feature Settings(功能设置)子部分中：</p><p>
自动连接：启用此选项后，只要SSH服务器可用，就会将SSH隧道设置为自动探测并连接到SSH服务器。
自动重新连接：打开此选项将切换自动重新连接协议，以便在意外丢失时SSH隧道将重新建立连接。
启用GFW列表：这是一个专门针对中国公民的功能；它只为被中国的长城防火墙特别屏蔽的网站启用SSH隧道代理服务。
启用DNS代理：默认情况下选中此选项，我们建议将其保留为选中状态。选中后，所有DNS请求都将通过SSH服务器路由。如果取消选中，您的DNS请求将通过电话的数据连接发送，而不受SSH通道的保护。(例如，任何监视你的人都会看到你要去哪里，但不会看到你从你访问的网站上获得的数据。)</p><p>这些都设置得令您满意了吗？太棒了！现在让我们测试一下连接。</p><p>测试您的SSH通道连接</p><p>为了建立正常的SSH连接，我们需要首先建立移动设备的IP地址。打开手机的网络浏览器，在谷歌上搜索“我的IP是什么”。您的结果应显示您的移动数据连接IP地址，如下所示：</p><img class="content_img" src="/image/81/81a5b46eb5cb3deb2d69577a5fc4a996.jpg" /><p>这是我们的移动运营商分配给我们的Android智能手机的IP地址。虽然我们已经配置了SSH隧道，但它还没有打开，我们仍然公开发送所有的DNS请求和数据请求。</p><p>打开SSH隧道备份，并在最上面选中隧道交换机。这将打开SSH隧道-第一次这样做时，您将从根/超级用户界面得到一个提示，验证是否可以授予SSH隧道超级用户权限。没关系，请继续并选中“记住”框(否则，您将需要在以后每次连接时对其进行授权)。</p><p>给它一点时间进行连接-它会通知您连接成功。如果您让设置菜单中的通知处于打开状态，您还会在下拉式通知抽屉中看到一个通知，如下所示：</p><img class="content_img" src="/image/ad/adb8b94b2e5c284d6e96cf4983330f41.jpg" /><p>现在是检查浏览器是否通过SSH隧道正确路由的时候了。继续，切换回Web浏览器并刷新您的“我的IP是什么”查询。您应该会看到一个与SSH服务器的IP地址相对应的新IP地址，如下所示：</p><img class="content_img" src="/image/58/5837961527121ff30af2562aa3efb234.jpg" /><p>成功！只需点击一个按钮，我们就可以将所有Web浏览器流量交换到远程SSH服务器。现在，我们的移动浏览器(或整个电话，如果您将其配置为全局代理)之间发生的所有事情都被完全加密，任何人都可以窥探电话和SSH服务器出口点之间的连接。</p><div class="item_info"><span class="item_key"><a href="/tag/ssh/">ssh</a></span><span class="item_key"><a href="/tag/连接/">连接</a></span><span class="item_key"><a href="/tag/隧道/">隧道</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14195.html">保护SSH服务器的最佳方法</a><li><a href="/story/13728.html">什么是反向SSH隧道？(以及如何使用它)</a><li><a href="/story/6433.html">如何在Mac OS X上的终端中断开与SSH的连接</a><li><a href="/story/5896.html">如何使用SSH隧道访问受限服务器和安全浏览</a><li><a href="/story/5397.html">如何为远程外壳、桌面和文件传输配置Raspberry PI</a><li><a href="/story/4501.html">VPN与SSH隧道：哪个更安全？</a><li><a href="/story/4357.html">使用SSH服务器可以做的5件很酷的事情</a><li><a href="/story/3162.html">在您的路由器上设置SSH，以便从任何地方进行安全的Web访问</a><li><a href="/story/472.html">防止您的Linux SSH会话断开连接</a><li><a href="/story/56.html">防止SecureCRT SSH会话断开连接</a><li><a href="/story/41.html">如何使用SecureCRT和SSH保护工作中的Gaim Instant Messenger流量</a><li><a href="/story/21.html">在Ubuntu Linux上设置OpenSSH服务器</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>