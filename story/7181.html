<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何更改sudo在再次提示您之前等待的时间</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何更改sudo在再次提示您之前等待的时间</h2></div><div class="content"><img class="content_img" src="/image/c6/c6133f406a4df959fdf76686994b0bb0.png" /><p>当您以root或管理员身份使用sudo命令运行命令时，系统会提示您输入密码。您可能已经注意到，如果在第一个命令之后不久使用sudo运行另一个命令，则不会再次提示您输入密码。</p><p>您可以通过更改sudo命令的设置来自定义宽限期的长度，在该宽限期内，系统不会要求您再次输入sudo命令的密码。</p><p>注意：如果我们说要在本文中键入内容，并且文本两边有引号，请不要键入引号，除非我们另有说明。</p><p>我们将打开“/etc/sudoers”文件并更改设置以自定义宽限期的长度。要开始，请按Ctrl+Alt+T打开终端窗口。在提示符下键入以下命令，然后按Enter键。</p><p>出现提示时键入密码，然后按Enter键。</p><img class="content_img" src="/image/a4/a4f07d5e2fbf7adbcadd287d78c87a4f.png" /><p>使用Nano文本编辑器直接在终端窗口中打开文件。使用键盘上的箭头键将光标移动到以下行的末尾：</p><p>相关：将Ubuntu Linux上的默认编辑器从Nano更改为</p><p>重要提示：切勿使用普通文本编辑器编辑sudoers文件。始终使用此处所述的visudo命令。如果sudoers文件的语法不正确，您将得到一个无法获得提升权限或root权限的系统。visudo命令可以像处理普通文本文件一样打开文本编辑器，但该命令还会在保存文件时验证其语法。这可以防止sudoers文件中的配置错误阻止sudo操作，并且您将失去可能是获取root权限的唯一方法。</p><p>传统上，Linux使用vi作为默认编辑器，但Ubuntu选择使用Nano。如果您更愿意使用vi作为Ubuntu中的默认文本编辑器，而不是Nano，请参阅我们的文章。</p><img class="content_img" src="/image/85/85a9227042a8150a515b5c7e59e8911e.png" /><p>通过在行尾添加“，TIMESTAMP_TIMEOUT=x”来更改该行。</p><p>将“x”替换为您希望sudo在提示您再次输入密码之前在同一终端会话中等待的分钟数。</p><p>如果为“x”输入“-1”，密码提示将被撤销。不建议这样做。如果希望系统在您每次使用sudo命令时都提示您输入密码，请为“x”输入“0”。</p><img class="content_img" src="/image/60/609b9efb6d79bd1e2131e844760a34ea.png" /><p>进行更改后，按Ctrl+X并键入“y”以响应窗口底部显示的保存更改的问题。</p><img class="content_img" src="/image/00/001b4726b0fa5bfa578ab212ce3b42f5.png" /><p>系统将要求您在底部输入要写入的文件名。按Enter键接受默认值。</p><img class="content_img" src="/image/b1/b179257f3bc8c3eee54c975c17eb8ed7.png" /><p>您将返回到命令提示符。要关闭终端窗口，请在提示符下键入“exit”，然后按Enter键。您也可以单击窗口左上角的X按钮。</p><img class="content_img" src="/image/e9/e950bda529b6914ec55cbc8d70362436.png" /><p>您还可以通过在提示符下键入以下命令并按Enter键来清除sudo的密码缓存。</p><p>这将导致在使用sudo时再次显示密码提示，即使未过整个宽限期也是如此。</p><div class="item_info"><span class="item_key"><a href="/tag/sudo/">sudo</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/4437.html">在Ubuntu上调整和配置SUDO的8种方法</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>