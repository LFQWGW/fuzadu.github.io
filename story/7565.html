<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>魔术数字：程序员隐藏在你电脑里的密码</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>魔术数字：程序员隐藏在你电脑里的密码</h2></div><div class="content"><img class="content_img" src="/image/1d/1d1d6da769351fe09e2d57728655ecf4.png" /><p>自从第一个人在计算器上写出5318008以来，书呆子们就一直在你的电脑里隐藏秘密数字，并用它们来协商应用程序和文件之间的秘密握手。今天，我们来快速看看一些更有趣的例子。</p><p>什么是魔数？</p><p>大多数编程语言使用32位整数类型来表示幕后的某些类型的数据-在内部，数字存储在RAM中，或者由CPU使用，作为32个1和0，但在源代码中，它要么以常规的十进制格式写出，要么以十六进制格式写出，使用数字0到9和字母A到F。</p><p>当操作系统或应用程序想要确定文件的类型时，它可以在文件的开头查找表示文件类型的特殊标记。例如，PDF文件可能以十六进制值0x255044462D312E33开头，等于ASCII格式的“%PDF-1.3”，或者ZIP文件可能以0x504B开头，等于“PK”，这是原始PKZip实用程序的派生。通过查看此“签名”，即使没有任何其他元数据，也可以很容易地识别文件类型。</p><p>可以从终端使用Linux实用程序“file”来确定文件的类型-事实上，它从名为“magic”的文件中读取幻数。</p><p>当应用程序想要调用函数时，它可以使用整数等标准类型将值传递给该函数，这些标准类型可以在源代码中以十六进制格式表示。常量尤其如此，常量是使用AUTOSAVE_INTERVAL等人类可读的名称定义的标识符，但它们映射到实际的整数(或其他类型)值。因此，程序员不必在每次调用源代码中的函数时都键入一个像60这样的值，他们可以使用AUTOTSAVE_INTERVAL常量来获得更好的可读性。(常量通常很容易识别，因为它们全部用大写字母书写)。</p><p>所有这些示例都可以归入术语幻数，因为它们可能需要特定的十六进制数才能使函数或文件类型正常工作…。如果值不正确，它将无法工作。当程序员想要找点乐子时，他们可能会使用十六进制数字来定义这些值，这些数字用英语拼写，或者称为十六进制。</p><p>魔术数字的乐趣：一些值得注意的例子</p><p>如果您快速浏览一下Linux源代码，就会发现Linux上的_reboot()系统调用需要传递一个等于十六进制数0xFee1Dead的“神奇”变量。如果某个程序试图调用该函数，而没有首先传递该魔术值，那么它只会返回一个错误。</p><p>在gpt分区方案中，BIOS启动分区的GUID(全局唯一标识符)是21686148-6449-6E6F-744E-656564454649，它形成了ASCII字符串“Hah！IdontNeedEFI”，暗指这样一个事实，即gpt通常用于用uefi替换BIOS的计算机，但不一定要这样。</p><p>微软著名的做法是将0x0B00B135隐藏在他们支持提交给Linux的Hyper-V虚拟机中，然后他们将值更改为0xB16B00B5，最后在将其从源代码中完全删除之前将其转换为十进制数字。</p><p>更有趣的例子包括：</p><p>
0xbaaaaaad-由IOS崩溃日志记录使用，以指示日志是整个系统的堆叠。
0xbad22222-由iOS崩溃日志记录使用，用于指示某个VoIP应用程序已被iOS终止，原因是该应用程序行为不端。
0x8badf00d-iOS崩溃日志使用的(Eat Bad Food)，用于指示应用程序执行某些操作花费的时间太长，并因看门狗超时而被终止。
0xdefa11-(Dead Fall)当用户强制退出应用程序时，iOS崩溃日志使用的(Dead Fall)。
0xDEADD00D-由Android用来指示VM中止。
当应用程序在后台锁定资源时，IOS崩溃日志记录使用的0xDEAD10CC(死锁)。
0xBAADF00D(坏食品)由Windows中的Localalloc函数用于调试。
Java的Pack200压缩使用的0xCAFED00D(Cafe DUD)。
0xCAFEBABE(Cafe BAbe)由Java用作编译的类文件的标识符。
任天堂在Gamecube和Wii上使用的0x0D15EA5E(疾病)，表示发生了正常引导。
多引导规范将0x1BADB002(1个错误引导)用作幻数。
0xDEADDEAD-Windows用于指示手动启动的调试崩溃，也称为死亡蓝屏。</p><p>当然，这并不是唯一的例子，只是一些看起来很有趣的例子。你还知道什么吗？请在评论中告诉我们。</p><p>亲眼看看这些例子</p><p>您可以通过打开十六进制编辑器，然后打开任意数量的文件类型来查看更多示例。有很多适用于Windows、OSX或Linux的免费十六进制编辑器-只需确保您在安装免费软件时要小心，以免被垃圾软件或间谍软件感染。</p><p>再举一个例子，ClockworkMod等Android手机的恢复镜像以“Android！”开头。如果以ASCII格式读取，则为。</p><img class="content_img" src="/image/85/85c59433e0b401ac64ebc783e97c55a0.png" /><p>注意：当你环顾四周时，不要去改变任何东西。巫术编辑器可以打碎东西！</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/应用程序/">应用程序</a></span><span class="item_key"><a href="/tag/十六进制/">十六进制</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14706.html">如何在Linux上使用uniq命令</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14585.html">如何在Microsoft Excel中兑换货币</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14570.html">如何在Linux上使用grep命令</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14542.html">如何从MacOS Catalina向iPhone添加自定义铃声</a><li><a href="/story/14508.html">如何使用键盘快捷键简化流媒体Netflix</a><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14499.html">如何在Linux上使用免费命令</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14461.html">如何设置您的新Mac</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14424.html">如何向Outlook会议请求添加默认签名</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>