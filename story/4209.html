<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux终端中执行多任务：同时使用多个shell的3种方法</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux终端中执行多任务：同时使用多个shell的3种方法</h2></div><div class="content"><img class="content_img" src="/image/38/38306463cbac3ae92873beff3180ef3e.png" /><p>Linux终端具有丰富的多任务处理能力。您可以在系统上已经运行的虚拟控制台之间切换，使用Bash作业控制在后台运行进程，并利用终端“窗口管理器”GNU Screen。</p><p>您不必一次只执行一个命令。无论您是想在后台运行进程并偶尔重新访问它，还是想一次运行多个耗时的任务，Linux都提供了几个选项。</p><p>虚拟控制台</p><p>默认情况下，大多数Linux系统都有几个虚拟控制台在后台运行。按Ctrl-Alt组合键并在F1和F6之间按某个键进行切换。Ctrl-Alt-F7通常会将您带回图形X服务器。</p><p>按组合键将带您进入登录提示。您可以登录并运行命令，然后离开-该命令将继续在后台运行，因此您可以同时运行几个不同的终端会话。</p><img class="content_img" src="/image/e1/e10078566d9b6f0e9eea293c33e95dd0.png" /><p>此处的“tty1”文本表示这是位于Ctrl-Alt-F1的终端，而tty2将位于F2。</p><p>这些只是最常见的设置-不同的Linux发行版运行的虚拟控制台可能较少，并且X服务器可能位于不同的位置。</p><p>Bash作业控制</p><p>Bash shell提供了自己的功能来处理多个进程。作业控制允许您运行进程以及附加和分离这些进程。附加的进程称为前台进程，而分离的进程称为后台进程。</p><p>要在后台启动进程，请在其命令后添加&字符。例如，要将Nano文本编辑器作为后台作业打开，请键入以下命令：</p><img class="content_img" src="/image/16/16b7262afc062f8aaae63da541148324.png" /><p>[1]表示我们的新作业的作业ID是1。3751是它的进程ID。</p><p>我们启动的每个作业都有自己的作业ID。运行JOBS命令查看当前正在运行的作业列表。+号表示上次与shell关联的作业，而-号表示与shell倒数第二个关联的作业。</p><img class="content_img" src="/image/38/38095411bc80f361769837beab221e4b.png" /><p>使用fg命令可以将后台作业带到前台，并将其附加到当前壳。在不指定作业的情况下运行fg或其他与作业相关的命令将使用最后关联的作业-作业列表中带+号的作业。您还可以指定作业编号。例如，以下命令会将作业1带回前台：</p><img class="content_img" src="/image/05/056e874c6fcd5651ef4645f25fd7b208.png" /><p>正常结束一个进程，它将从正在运行的作业列表中消失。如果要从当前shell分离作业，请使用^Z-即Ctrl-Z-键盘快捷键。</p><img class="content_img" src="/image/5d/5d203b306d36246af5c9743313d7c8eb.png" /><p>GNU屏幕</p><p>GNU Screen是一个“全屏窗口管理器”，允许您在单个终端中使用多个shell。默认情况下可能不会安装--它不在Ubuntu上。在Ubuntu或Debian上，使用以下命令安装屏幕：</p><p>安装完成后，运行Screen命令，您将看到有关Screen的一些信息。</p><img class="content_img" src="/image/0d/0d2ea27ddf5b207b78f716e5586c75ae.png" /><p>按空格键或Enter键，您将看到外观正常的终端。</p><img class="content_img" src="/image/e8/e820656b5298090b77d0a8888a7aa6f1.png" /><p>它看起来可能并不特别，但是这个shell实际上是在GNU屏幕中运行的。按Ctrl-a，然后按d从屏幕分离。你会回到正常的航站楼。</p><img class="content_img" src="/image/63/6311807af32b3bee3bb42acf39a788cc.png" /><p>要重新连接到屏幕，请运行screen-r命令。你会回到和以前一样的航站楼。</p><img class="content_img" src="/image/52/521571a8f2a640840f49d8bab9d4f250.png" /><p>使用Screen可以做的事情还有很多。例如，通过按Ctrl-a，然后按c，在Screen中创建一个新的“窗口”(终端)。一旦您有了多个窗口，按Ctrl-a两次即可在它们之间切换。您也可以按Ctrl-a，然后按“查看窗口列表。</p><img class="content_img" src="/image/45/4543a46d11048b94720a401902696028.png" /><p>在列表中选择一个窗口，然后按Enter键切换到该窗口。</p><p>我们之前已经写过关于使用GNU屏幕的文章，并且使用了Byobu，它增强了GNU屏幕。</p><div class="item_info"><span class="item_key"><a href="/tag/作业/">作业</a></span><span class="item_key"><a href="/tag/运行/">运行</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/5285.html">极客学校：了解如何在PowerShell中使用作业</a><li><a href="/story/1025.html">使用Soshiku跟踪家庭作业</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>