<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>防止rsync使用您的所有带宽</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>防止rsync使用您的所有带宽</h2></div><div class="content"><p>如果使用rsync实用程序将备份从数据库服务器同步到备份或辅助文件服务器，则可能需要防止脚本占用过多带宽。这是怎么做的。</p><p>限制带宽的目的是确保备份脚本不会阻塞Web服务器和数据库服务器之间的网络连接。当然，限制您的备份使用的带宽量会使它们发生得更慢，但是如果您可以处理这个问题，这就是解决问题的方法。</p><p>通常，您的rsync命令如下所示：</p><p>您需要做的是使用--bwlimit参数，值为KB/秒，如下所示：</p><p>因此，如果您希望将传输限制在每秒5MB左右，可以使用如下命令：</p><p>您需要确保计算备份的大小，并计算出以较慢的速率传输它们需要多长时间-例如，如果您的备份脚本需要12小时才能运行，这将不会有太大帮助。</p><p>您还可以使用ionice命令来限制脚本使用的带宽量，这将有助于防止脚本使用过多的磁盘I/O。它没有那么有用，因为您不能像使用bwlimit参数那样设置绝对数，但这是另一件可以考虑的事情。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/备份/">备份</a></span><span class="item_key"><a href="/tag/需要/">需要</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14706.html">如何在Linux上使用uniq命令</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14585.html">如何在Microsoft Excel中兑换货币</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14570.html">如何在Linux上使用grep命令</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14542.html">如何从MacOS Catalina向iPhone添加自定义铃声</a><li><a href="/story/14508.html">如何使用键盘快捷键简化流媒体Netflix</a><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14499.html">如何在Linux上使用免费命令</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14461.html">如何设置您的新Mac</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14424.html">如何向Outlook会议请求添加默认签名</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>