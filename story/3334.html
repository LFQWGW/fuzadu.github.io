<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用番茄监控和记录您的带宽使用情况</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用番茄监控和记录您的带宽使用情况</h2></div><div class="content"><img class="content_img" src="/image/47/47ebbef2bfe2a717590392d0d6f20f4a.jpg" /><p>宽带上限的执行情况正在上升。无论您是收到ISP的警告信，还是只是出于好奇想要关注一些事情，本教程都将向您展示如何使用Tomato监控、记录和节省带宽使用情况。</p><p></p><p>您需要的是什么</p><p>对于本教程，您需要以下内容：</p><p>
运行售后固件西红柿的路由器。
用于访问基于Web的Tomato GUI的计算机。
如果要从路由器保存日志，请使用网络共享(推荐)。</p><p>如果您还没有运行西红柿，请在这里查看我们的指南，在您的路由器上启动并运行它。</p><p>启用带宽监控</p><img class="content_img" src="/image/51/51aac25b5735749e672b80a9075e62ba.jpg" /><p>首先要做的是打开Tomato中的监控功能。访问路由器的GUI(通常在局域网192.168.1.1内提供)，然后导航到管理-&gt;带宽监控。选中Enable(启用)旁边的复选框。</p><p>在Enable框下面，您可以找到一组选项，包括保存历史记录位置、保存频率和指定每月的第一天。</p><p>让我们来看看保存历史记录的位置。对于那些对长期存储日志感兴趣的人，在Saving History Location下拉菜单中有几个选项。对于大多数路由器，您应该看到RAM(临时)、NVRAM、JFFS2、CIFS1、CIFS2和自定义路径。这些东西是什么？使用它们有什么积极和消极之处？</p><img class="content_img" src="/image/44/4494c497032df20f527d3519f71ce63b.jpg" /><p>RAM(临时)：使用RAM的好处是它很快，而且您不需要配置任何东西。缺点是当路由器关闭或崩溃时，您会丢失所有数据。当原木变得太大时，原木的尾部会被截断。</p><p>NVRAM：路由器上的非易失性随机存取存储器。这只是在断电时保留数据的RAM。由于这一特性，它比普通的老式RAM稍好一些，但也好不到哪里去。您可以在降低数据丢失风险的情况下获得RAM的好处。</p><p>JFFS2：日志闪存文件系统是NVRAM的一部分，专门针对文件写入进行格式化。NVRAM/JFFS2的问题是，这两个系统都不是为频繁写入而设计的。当有替代方案(如CIFS)时，过早损坏路由器中的组件是没有意义的。</p><p>CIFS 1/2：番茄内置了一个小型CIFS(通用互联网文件系统)客户端。本质上，这允许Tomato访问Samba/Windows共享并将其挂载为驱动器。如果您希望归档日志而不用担心空间不足，这是您的最佳选择。它需要最低限度的配置，我们将在下一节深入研究。</p><p>自定义路径：这只允许您在JFFS2中为您的日志文件创建一个自定义目录。实际上没有必要，除非您正在积极使用JFFS2做一些事情，并且您真的想要一个自定义目录来保持内容的整洁。</p><p>至于带宽监控中的其他设置：</p><p>保存频率：表示Tomato保存日志的频率。如果您使用的是RAM，则此设置实际上并不重要。如果您使用任何存储选项，如JFFS2/CIFS，这允许您设置保存日志的频率。保存频率越高，由于断电或其他路由器中断而丢失数据的可能性就越小。</p><p>关机时保存：正如听起来的那样，如果您(或应用程序)向Tomato发送关机信号，它将首先保存日志。</p><p>创建新文件：擦除当前文件并创建新文件。有时，当您切换保存位置(如从RAM移动到CIFS)时，需要创建新文件才能正确保存新文件。</p><p>创建备份：再说一遍，就像听起来那样。将在您指定的下载目录中生成备份报告。除了常规日志保存之外，您还将拥有扩展名为.BAK的匹配文件。</p><p>每月的第一天：默认的1应该没问题，除非您的ISP从月中或类似的地方开始登录。</p><p>如果您已选择通过CIFS将文件存储在网络共享上(我们强烈建议您这样做)，则需要先设置CIFS客户端，然后再继续操作。</p><p>启用番茄的CIFS客户端</p><img class="content_img" src="/image/8f/8ffbe5dd653401306d101d640173fa7d.jpg" /><p>要保存到网络共享，您需要启用CIFS客户端。导航到管理-&gt;CIFS客户端。</p><p>从CIFS客户端菜单中，选中/cifs 1下的启用框。填写以下信息：</p><p>UNC：您的网络共享源和目录的IP地址，即\\192.168.1.120\RouterLogs-不要使用网络上源的名称，请使用IP。</p><p>用户名/密码：您可以使用有权访问网络共享的现有帐户，也可以创建一个新帐户(在主机上)，仅供路由器使用。无论哪种方式，您都需要登录和密码。有些人报告使用Guest帐户成功，只需输入一串随机按键输入密码(CIFS客户端坚持密码插槽中有密码)。西红柿官方文档建议不要这样做。</p><p>域：通常可以保留为空；如果计算机位于实际的域中，则可能需要使用适当的域名进行填写。</p><p>挂载时执行：这允许您在挂载远程驱动器时在路由器的Linux操作系统上执行脚本。出于我们的目的，将其留空。</p><p>填写完所有信息后，请单击底部的“保存”。挂载应该需要一两分钟(甚至可能超过5分钟)，但随后您应该会看到总/可用大小插槽中列出的驱动器数据。如果挂载失败，请仔细检查您的密码，确保您正在使用的帐户有权访问该目录(并且可以写入该目录)，如果您遇到了障碍，请创建一个全新的共享目录。我们遇到了Windows Home Server不想授予对已属于WHS共享结构一部分的目录(//Server/Public/文件夹)的访问权限的问题，因此我们创建了一个全新的根共享//Server/RouterLogs，所有CIFS创建问题都消失了。</p><p>创建CIFS并成功装载后，请返回带宽监视部分，并将保存位置更改为CIFS 1。</p><p>番茄的实时监测</p><img class="content_img" src="/image/59/5920559387df3598eea85640e935fcc6.jpg" /><p>现在，我们已经记录并保存了这些锁定的日志，让我们看看如何使用Tomato实时监控您的带宽，并快速回顾您在前一天、前一周和前一个月使用了多少数据，现在让我们来看一下如何使用Tomato来实时监控您的带宽，并快速回顾您在前一天、前一周和前一个月使用了多少数据。</p><p>导航到Tomato GUI左侧菜单中的带宽。默认视图是实时的，应该类似于上面的屏幕截图。您可以一次查看所有流量，也可以通过单击图形顶部的选项卡只查看其中的一部分。以下是这些选项卡所代表的内容：</p><p>WAN(Vlan1)：这是进出路由器上的WAN/宽带端口的流量。如果您的路由器直接连接到您的数据调制解调器，这是查看您正在下载和上传的确切数量的最佳方式。</p><p>WL(Eth1)：这是您的Wi-Fi流量。在这里，您可以看到Wi-Fi频段上发生在您的网络内部的所有数据活动。通常情况下，只有当您试图对Wi-Fi设备进行故障排除或怀疑有人在使用您的Wi-Fi时，您才会检查这一点。</p><p>br0：这是WAN和LAN端口之间的网桥连接。通过观看此视频，您可以看到路由器上的总流量，包括Wi-Fi流量、硬连线以太网连接，以及到更大的互联网的流量。这个选项卡提供了如此一览无余的景象，很难让人接受。</p><p>eth0：此选项卡显示所有硬连线流量，包括本地端口和具有互联网流量的WAN端口。</p><p>vlan0：可以说不是真正的LAN，尽管名称中有“LAN”部分。显示硬连线端口、互联网流量和内部流量。如果您想同时查看互联网流量(您正在上传和下载的数据)以及在内部网络中移动的数据，请使用此视图。它既可以方便地查看大量数据的传入和去向，也可以方便地查看这些数据的去向。</p><img class="content_img" src="/image/d2/d2d657bc7186a2e31eca59b52413428e.jpg" /><p>上图突出显示了一系列常用Linksys路由器的内部设置和命名结构，应该可以帮助您更好地直观地了解每个监控选项卡的运行情况。</p><p>除了实时监控之外，您还可以查看前一天、前一周和前一个月。这些视图色彩斑斓得多，只是以您喜欢的比例(KB、MB或GB)给出数字。</p><p>现在我们已经完成了本教程，我们已经有了一台路由器，它可以主动记录我们的带宽消耗，实时显示我们的使用情况，并将日志存档到网络共享以供备份和进一步分析。有问题还是路由器技巧？让我们在评论中听到这一点。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/路由器/">路由器</a></span><span class="item_key"><a href="/tag/数据/">数据</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>