<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上使用chgrp命令</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上使用chgrp命令</h2></div><div class="content"><p>Linux上的chgrp命令更改文件或目录的组所有权。为什么要用它而不是Chown呢？有时一把瑞士军刀很棒，但当你真的需要手术刀时，只有手术刀才行。</p><p>何时应该使用chgrp</p><p>使用chgrp命令可以更改文件或目录的组所有权。使用chown命令可以更改文件或目录的用户所有者和组所有者。那么，您为什么需要或使用chgrp呢？</p><p>嗯，首先，这很容易。使用chown仅更改组所有者设置有点违反直觉。你必须非常小心地使用语法。这取决于冒号“：”的位置是否正确。把它放错地方，你就不会做出你认为的改变。</p><p>chgrp的语法总体上更加简单。它还有一个简洁的功能，可以简单地告诉您它刚刚做了什么更改。</p><p>它是专门为手头的任务量身定做的专用工具，Achgrp完全拥抱了Unix做一件事、做好一件事的设计原则。让我们看看它能提供什么。</p><p>更改文件的组所有权</p><p>更改文件的组所有权非常简单。你必须和chgrp一起使用sudo。组不属于用户，因此是否将文件或目录从一个组移动到另一个组并不是普通用户的决定。这是一份属于拥有超级用户特权的人的工作。</p><p>我们将更改名为“gc.c”的C源文件的组所有权。我们要把它改成“devteam”组。</p><p>我们可以使用带有-l(长列表)选项的ls来检查当前的所有权值。</p><p>LS-l</p><p>这是更改组所有权的命令。键入ssudo(空格)、chgrp(空格)、我们要设置为组所有者的组名、空格和文件名。</p><code>sudo chgrp devteam gc.c</code><p>我们将再次使用ls-l检查是否进行了更改。</p><code>ls -l</code><img class="content_img" src="/image/7b/7b7afdb1a3dc6adb5b6492445de27cd9.png" /><p>我们可以看到，组所有权已从“Dave”更改为“devteam”。</p><p>要一次更改一组文件的组所有权，可以使用通配符。让我们更改当前目录中所有C源文件的组所有权。我们将使用此命令：</p><code>sudo chgrp devteam *.c</code><p>我们可以使用ls-l检查是否如我们预期的那样进行了更改。</p><code>ls -l</code><img class="content_img" src="/image/19/19eda16f760b7b536d25ab81f1c43f60.png" /><p>此目录中的所有C源文件都已更改，因此它们的组所有权为“devteam”。</p><p>通过使用-c(更改)选项，chgrp将列出它对每个文件所做的更改。假设我们犯了一个错误，我们希望C源文件将其组所有权设置为“Research lab”。让我们现在改正这一点。我们将使用此命令：</p><code>sudo chgrp -c researchlab *.c</code><img class="content_img" src="/image/16/1695349a48e765bf375e02f6d3e955a3.png" /><p>系统会为我们进行更改，并且会按发生的情况列出每个更改，这样我们就可以验证所更改的内容是否正确。</p><p>更改目录的组所有权</p><p>更改目录的组所有权也同样简单。我们可以使用此命令更改目录“BACKUP”的组所有权。</p><code>sudo chgrp -c devteam ./backup</code><p>需要明确的是，此命令将更改目录本身的组所有权，而不是目录中的文件。我们将使用ls-l和-d(目录)选项来验证情况是否如此。</p><code>ls -l -d</code><img class="content_img" src="/image/a5/a57520f525cbe979f4962d77612afaeb.png" /><p>目录本身的组所有权已更改为“devteam”。</p><p>递归选项</p><p>如果我们想要更改存储在目录中的文件和目录的组所有权，可以使用-R(递归)选项。这将导致chgrp更改目标目录下所有文件和子目录的组所有权。</p><p>让我们在“BACKUP”目录中尝试一下。以下是命令：</p><code>sudo chgrp -R devteam ./backup</code><p>我们将使用ls命令检查其中一个嵌套子目录中的文件，还将使用ls检查其中一个嵌套子目录的设置。</p><code>ls -l ./backup/images</code><code>ls -l -d ./backup/images</code><img class="content_img" src="/image/94/949ed7db1c4093d51e80b57b0cd2ca77.png" /><p>我们可以看到，嵌套子目录和嵌套子目录中的文件的组所有权都已更改。</p><p>使用引用文件</p><p>到目前为止，我们一直在显式地告诉chgrp我们希望使用的组的名称。我们还可以这样使用chgrp，即“将该文件的组所有权设置为与该文件相同的组所有权”。</p><p>让我们将“gc.h”的组所有权设置为与“gc.c”相同。</p><p>我们可以使用ls检查“gc.c”和“gc.h”的当前设置。</p><code>ls -l gc.c</code><code>ls -l gc.h</code><p>我们需要使用的选项是--reference选项。组所有权将从引用文件复制到另一个文件。注意把文件放在正确的位置。</p><code>sudo chgrp --reference=gc.c gc.h</code><p>我们将使用ls检查设置是否已传输到“gc.h”。</p><code>ls -l gc.h</code><img class="content_img" src="/image/71/71a93a0513f268319c4f4a5ecd5fb876.png" /><p>文件“gc.h”现在与“gc.c”具有相同的组所有权。</p><p>将chgrp与符号链接一起使用</p><p>我们可以使用chgrp更改符号链接或符号链接指向的文件的组所有权。</p><p>对于本例，我们创建了一个名为“BUTTON_LINK”的符号链接。这指向一个名为“./backup/image/button_about.png”的文件。要更改文件的组所有权，我们必须使用--dereference选项。这将更改文件的设置，并保持符号链接不变。</p><p>让我们使用ls-l检查符号链接的设置。</p><code>ls -l button_link</code><p>更改文件的命令为：</p><code>sudo chgrp --dereference devteam button_link</code><p>我们将使用ls检查符号链接是否未更改，还将检查文件的组所有权设置。</p><code>ls -l button_link</code><code>ls -l ./backup/images/button_about.png</code><img class="content_img" src="/image/b9/b95ac81773cbe0b899cbb5491592d7a7.png" /><p>符号链接保持不变，并且“button_about.png”文件的组所有权已被修改。</p><p>要更改符号链接本身的组所有权，我们必须使用--no-deseference选项。</p><p>要使用的命令为：</p><code>sudo chgrp --no-dereference devteam button_link</code><p>我们将使用ls-l命令来验证是否已经为符号链接设置了新的组所有权。</p><code>ls -l button-link</code><img class="content_img" src="/image/03/03eaa66200fecb09e4a651f89bb7a66f.png" /><p>这次受影响的项是符号链接本身，而不是它所指向的文件。</p><p>又好又简单</p><p>简单就是好的。这意味着要记住的东西少了，混淆的东西也少了。这应该意味着少犯错误。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/更改/">更改</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>