<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux文件权限如何工作？</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Linux文件权限如何工作？</h2></div><div class="content"><img class="content_img" src="/image/66/66b3c20bc7ff034c845becc454163c8e.png" /><p>如果您已经使用Linux有一段时间了(甚至OSX)，您可能会遇到一个“权限”错误。但它们到底是什么，为什么它们是必要的或有用的？让我们来看看里面的情况。</p><p>用户权限</p><p>在过去，计算机是巨大的机器，非常昂贵。为了最大限度地利用它们，多个计算机终端连接在一起，使许多用户可以同时处理他们的业务。数据处理和存储是在机器上完成的，而终端本身只不过是查看和输入数据的一种手段。仔细想想，这几乎就是我们在“云”上访问数据的方式；看看Amazon的Cloud MP3系统、Gmail和Dropbox，您就会注意到，虽然更改可以在本地进行，但一切都是远程存储的。</p><img class="content_img" src="/image/3f/3f86b2cd7b82dc5d2a3a3ea0cd44bed9.jpg" /><p>(图片来源：Zenith Z-19“哑巴”终端；来源：ajmicio)</p><p>要使此功能正常工作，单个用户需要拥有帐户。它们需要分配一部分存储区域，并且需要允许它们运行命令和程序。每个人都会获得特定的“用户权限”，这些权限规定了他们可以和不可以做什么，他们在系统的什么地方有权和没有访问权，以及他们可以和不可以修改谁的文件。每个用户还被放入不同的组，这些组授予或限制进一步的访问权限。</p><p>文件访问</p><img class="content_img" src="/image/d2/d27981b75ab332db5549fb7f5a2d775d.png" /><p>在这个古怪的多用户世界里，我们已经设置了用户可以做什么的界限。但是他们访问的是什么呢？每个文件都有一组权限和所有者。所有者指定通常在创建文件时绑定，它声明文件属于哪个用户，并且只有该用户可以更改其访问权限。</p><p>在Linux世界中，权限分为三类：读、写和执行。“读”访问允许查看文件内容，“写”访问允许修改文件内容，“执行”允许运行一组指令，如脚本或程序。这些类别中的每一个都应用于不同的类：用户、组和世界。“user”表示所有者，“group”表示与所有者属于同一组的任何用户，“world”表示任何人和所有人。</p><img class="content_img" src="/image/07/0788f85ccc0709e33ed680e09c3e6507.png" /><p>还可以使用这些权限限制文件夹。例如，您可以允许您的组中的其他人查看您的主文件夹中的目录和文件，但不允许您的组之外的任何人查看这些目录和文件。您可能希望将“写”访问权限限制为仅限您自己，除非您正在处理某种类型的共享项目。您还可以创建一个共享目录，允许任何人查看和修改该文件夹中的文件。</p><p>在Ubuntu中更改权限</p><p>图形用户界面</p><p>要更改您在Ubuntu中拥有的文件的权限，只需右键单击该文件，然后转到“属性”。</p><img class="content_img" src="/image/91/91ae75047b141531148b5f11448cb49d.png" /><p>您可以更改所有者、组或其他人是否可以读写、只读或不执行任何操作。您还可以选中复选框以允许执行该文件，这将同时为所有者、组和其他人启用该文件。</p><p>命令行</p><p>您也可以通过命令行执行此操作。转到其中包含文件的目录，然后键入以下命令以查看列表中的所有文件：</p><img class="content_img" src="/image/9f/9f889397215c64ae30f9c5827239b23c.png" /><p>在每个文件和目录旁边，您将看到一个概述其拥有的权限的特殊部分。它看起来是这样的：</p><p>r代表“读”，w代表“写”，x代表“执行”。目录将以“d”而不是“-”开头。您还会注意到有10个空格表示值。你可以忽略第一套，然后有3套，第一套是给主人的，第二套是给团体的，最后一套是给世界的。</p><p>要更改文件或目录的权限，让我们看看chmod命令的基本形式。</p><p>乍一看这可能很复杂，但相信我，这相当容易。首先，我们来看一下这些类：</p><p>
U：这是给车主的。
旅客：这是为团队准备的。
O：这是给所有其他人的。
答：这将更改上述所有内容的权限。</p><p>接下来是操作员：</p><p>
+：加号将添加后面的权限。
-：减号将删除后面的权限。</p><p>还在听吗？最后一节与我们检查文件权限时相同：</p><p>
R：允许读取访问。
W：允许写访问。
X：允许执行。</p><p>现在，让我们把它放在一起。假设我们有一个名为“todo.txt”的文件，它具有以下权限：</p><p>即所有者和组可以读写，世界只能读。我们要将权限更改为以下权限：</p><p>也就是说，所有者拥有完全权限，而组可以读取。我们可以用3个步骤来完成这项工作。首先，我们将为该用户添加执行权限。</p><p>然后，我们将删除该组的写入权限。</p><p>最后，我们将删除所有其他用户的读取权限。</p><p>我们还可以将这些合并到一个命令中，如下所示：</p><img class="content_img" src="/image/9d/9d737e2f39884a2fad3f62ce12f93dd2.png" /><p>您可以看到，每个部分都用逗号分隔，并且没有空格。</p><p>以下是一些有用的权限：</p><p>
-rwxr-xr-x：所有者拥有完全权限，组和其他用户可以读取文件内容并执行。
-rwxr-r-：所有者拥有完全权限，组和其他用户只能读取文件(如果您不介意其他人查看您的文件，则非常有用。
-rwx--：所有者有完全权限，所有其他人没有(对个人脚本有用)。
-rw-rw--：所有者和组可以读写(用于与组成员协作)。
-rw-r-r-：所有者可以读写，组和其他用户只能读文件(用于在共享网络上存储个人文件)。
-rw-：所有者可以读写，所有其他人没有(用于存储个人文件)。</p><p>您还可以使用chmod做其他一些事情--比如setuid和setgid--但是它们有点深入，而且大多数用户无论如何都不会真正需要使用它们。</p><p>根用户或超级用户和系统文件</p><img class="content_img" src="/image/6d/6dc1b39235f104008c481b20ac5715bd.png" /><p>如今，我们并不总是运行具有多个用户的系统。我们为什么还要担心权限问题呢？</p><p>嗯，Unix及其衍生产品-Linux、OSX等-还区分了由用户运行的内容、由管理员或具有管理员权限的内容，以及由系统本身运行的内容。因此，系统不可或缺的内容需要管理员权限才能更改或访问。这样，你就不会意外地搞砸任何事情。</p><p>在Ubuntu中，要更改系统文件，您可以使用“sudo”或“gksudo”来获得相当于管理员权限的权限。在其他发行版中，您会切换到“root”或“超级用户”，它实际上会执行相同的操作，直到您注销为止。</p><p>请注意，在这两种情况下，更改文件权限都可能导致程序无法工作，无意中将文件所有权更改为根用户(而不是所有者)，并降低系统的安全性(通过授予更多权限)。因此，建议您不要更改文件的权限，尤其是系统文件的权限，除非有必要或者您知道自己在做什么。</p><p>文件权限已到位，以在用户之间提供基本的安全系统。了解它们的工作原理可以帮助您在多用户环境中设置基本共享，保护“公共”文件，并为您提供有关系统文件所有权何时出现问题的线索。</p><p>你觉得你能更容易地解释吗？有更正吗？想回忆一下过去的日子吗？休息一下，把你的想法写在评论里。</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/权限/">权限</a></span><span class="item_key"><a href="/tag/用户/">用户</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>