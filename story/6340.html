<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用SFTP安全地将文件传输给其他人</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用SFTP安全地将文件传输给其他人</h2></div><div class="content"><img class="content_img" src="/image/74/74b37c5980ce12bcd358f1b3f7143524.jpg" /><p>我们之前已经写过关于托管您自己的FTP服务器，但是数据是以明文传输的，这使得它不适合机密文件传输。在本指南中，我们将回顾FTP-SFTP的安全版本，以及为什么它是通过Internet向其他人传输文件的绝佳方式。</p><p>为什么选择SFTP？</p><p>极客们总是会遇到这样的问题：你有一个文件太大了，无法通过电子邮件或即时通讯工具传输。当然，你可以上传到Dropbox或其他云服务上，但如果你没有/想要他们的账户，释放了足够的存储空间，或者你只是想完全绕过中间人怎么办？更不用说云服务的安全问题了。</p><p>与其经历这种麻烦，你可以通过使用SFTP将文件(无论大小)传输给你的朋友来节省时间。在传输之前不需要加密你的文件，因为它们是通过非常安全的SSH协议进行隧道传输的。不仅如此，现在你可以直接上传到你的朋友那里，而不是云，节省了很多时间。</p><p>但是等等，还有更多！如果你想与人们共享更多的文件，你只需将它们放在指定的文件夹中，你的好友就可以像浏览自己电脑的一部分一样浏览你电脑的那一部分。使用这种方法共享文件会容易得多，因为上传将由你的朋友发起，而不是你。你所要做的就是拖放，让他们知道他们现在可以下载文件了。</p><p>设置SFTP</p><p>在Windows中设置SFTP服务器将需要一些第三方软件。大多数具有此功能的软件都会向您收费，但我们将使用一种名为freFTPd的免费软件。*单击该链接下载并安装该程序。请事先注意，开发人员显然不是以英语为母语的人，这在很多文本中都会显示出来。但不要惊慌，这是一个合法的程序，我们已经测试过了，一切都经过了验证-您将很难找到更好的免费替代程序。</p><p>正常进行安装，最后会有两个提示，一个是询问是否应该创建私钥，另一个是询问它是否应该作为服务运行；两个都单击Yes。</p><img class="content_img" src="/image/7e/7ed9ad353d59d0fff06c2e9248c74feb.jpg" /><p>安装完成后，通过桌面上的新快捷方式图标打开FreeFTPd。*我们在写入配置更改时遇到问题，因此请确保右键单击该图标并以管理员身份运行程序。</p><img class="content_img" src="/image/b9/b9606af86e3ee987bbe3913a421897f7.jpg" /><p>要开始配置，请单击左侧的用户。</p><img class="content_img" src="/image/5a/5a0012737a5538d23db2cc6893d772e4.jpg" /><p>在此菜单中，单击添加并填写新用户帐户的信息以访问您的服务器。</p><img class="content_img" src="/image/6e/6ebd0cb3153a51774b909aba8bbd4cc3.jpg" /><p>在授权下，您可以选择使用“NT身份验证”或“存储为SHA1散列的密码”。NT身份验证意味着它使用Windows用户名和密码，因此您需要在您的计算机上为访问SFTP目录的任何人创建一个新用户。*在大多数情况下，最好只将密码存储为SHA1散列，并将SFTP用户与Windows用户分开。</p><p>输入所需的用户名和密码后，取消选中底部的“FTP服务器”框，然后单击“应用”。现在用户已设置完毕，请单击“SFTP”选项卡。</p><img class="content_img" src="/image/43/43bf9c6be27b8a6374c3b984876d0a0c.jpg" /><p>此选项卡上唯一真正值得更改的是SFTP根目录。它指定要共享的文件的驻留位置。*为简单起见，我们只将已填充的目录更改为桌面上的文件夹。</p><img class="content_img" src="/image/b1/b1e22e75317d7c3eb3f393a391433ac3.jpg" /><p>一旦您准备好开始托管文件，请单击此选项卡中的开始按钮。Windows防火墙可能会弹出并询问您是否确定-单击允许访问。</p><img class="content_img" src="/image/f5/f5080f75ee87125e6680b24eff5a3b79.jpg" /><p>现在您应该能够返回到Status选项卡，并看到您的SFTP服务器正在运行。</p><img class="content_img" src="/image/de/de75b5f0d65045aeb13965ac6b27fb6d.jpg" /><p>单击Apply&Save(应用并保存)以保留这些更改，然后关闭窗口。</p><p>FreeFTPd将继续在后台运行。要访问它，只需从通知区域打开它。</p><img class="content_img" src="/image/9a/9a01f6152e384224fdc7f3fd817a095f.jpg" /><p>访问SFTP目录</p><p>在SFTP目录中放置几个文件，以便我们可以进行一些测试。如果您将用户的主目录保留为默认目录(在我们的示例中为$SERVERROOT\GEEK)，则需要在SFTP根目录中创建另一个目录。</p><img class="content_img" src="/image/77/778e1fb05b28564f080d4e46fe658ded.jpg" /><p>正如您在此屏幕截图中看到的，我们将两个测试文件放入‘geek’目录中，该目录位于‘SFTP服务器文件’(SFTP根目录)文件夹中。请确保端口22已转发到您路由器上的PC，然后您就可以让他人连接到您的PC。如果您需要有关端口转发的帮助，请参阅本指南。</p><p>让你的伙伴下载一个能够访问SFTP服务器的FTP客户端--我们推荐使用FileZilla。他们只需键入您的IP地址、您先前配置的用户名和密码，并指定您的服务器正在运行的端口(如果您将其保留为默认端口，则该端口将是端口22)。</p><img class="content_img" src="/image/27/279c921fd91ecc10b4ffb8bd80086d15.jpg" /><p>当他们第一次连接到您的服务器时，系统将提示他们保存主机密钥。他们只需选中“始终信任”框，然后单击“确定”，系统将不再提示他们(除非您出于某种原因更改了主机密钥)。</p><img class="content_img" src="/image/fc/fc71156bc1c53f0fbbb3f4bdd17ee893.jpg" /><p>您的朋友现在应该能够访问您放置在SFTP目录中的文件，并向其中添加他们希望与您共享的文件。</p><img class="content_img" src="/image/f0/f073a47654f71d026d0d9984712b4c8e.jpg" /><div class="item_info"><span class="item_key"><a href="/tag/sftp/">sftp</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/5774.html">如何将远程SFTP目录集成到Windows资源管理器</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>