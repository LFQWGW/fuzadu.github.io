<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Windows10仍然不允许您使用1974年保留的这些文件名</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Windows10仍然不允许您使用1974年保留的这些文件名</h2></div><div class="content"><img class="content_img" src="/image/10/10a0ab00bc5e8cd88863584c177e8645.png" /><p>Windows“保留”某些文件名，不允许您在任何地方使用它们。忘记将文件称为“con.txt”或“aux.mp3”。这一切都是因为1974年做出的选择，以及微软对永恒向后兼容性的渴求。</p><p>不能使用的文件名</p><img class="content_img" src="/image/17/17ba30c8c9388ea5182ba0669ec2bee0.png" /><p>Microsoft提供了一个官方保留文件名列表，它们如下所示：</p><p>请注意，您不能将这些文件名与任何文件扩展名一起使用。因此您不能将文件命名为“con.txt”、“con.jpg”、“或”con.doc“。而且Windows不区分大小写，所以不管是CON、CON还是CON-Windows不会允许您使用该名称。</p><p>你可以自己试一试。尝试在记事本中将文件另存为“con.txt”或“lpt6.txt”。或者尝试在文件资源管理器中将任何文件重命名为这些名称之一。Windows就是不让你这么做。</p><p>当然，Windows还通过其他方式限制文件名。您也不能在名称中使用如下所示的各种特殊字符。有关更多信息，请参考微软的官方版本文档。</p><p>1974年发生了什么，我们为什么要关心？</p><p>正如@foone最近在推特上解释的那样，这个问题可以追溯到1974年。在UNIX中，“一切都是一个文件”。(今天的Linux等类UNIX操作系统也是如此。)。硬件设备以特殊路径表示，如第一台打印机的/dev/lp0和控制台的/dev/tty。</p><p>1974年，同样的概念被添加到CP/M操作系统中。不幸的是，CP/M是为内存非常少且没有硬盘的计算机设计的。它使用多个磁盘，没有目录，所以那些代表设备的特殊文件有效地出现在每个磁盘上的任何地方。</p><p>因此，当您保存文本文件时，您可以告诉文本编辑器将其“保存”到打印机设备，打印机设备将打印该文件。但是文本编辑器和其他程序喜欢添加像“.txt”这样的文件扩展名，所以CP/M只是忽略了这些设备文件的文件扩展名。换句话说，如果文本编辑器尝试将文件保存到打印机设备的名称，后跟“.txt”，CP/M就会假定它指的是打印机设备，而忽略文件扩展名。现在，该功能在每个应用程序中都能正常工作-太棒了！</p><p>当然，这是个肮脏的黑客行为，但谁在乎呢？嗯，CP/M流行起来了。最终PC-DOS出现了，它保留了有用的CP/M功能。早在1983年，PC-DOS 2.0就增加了目录，但微软选择让这些设备文件出现在所有目录中，以便与现有的DOS软件兼容，而不是将它们放在一个特殊的设备文件夹中。</p><p>最终，Windows95问世了，它是建立在DOS之上的。Windows NT不是基于DOS之上的，但它确实希望向后兼容Windows95应用程序。Windows10仍然基于Windows NT，其工作方式也是一样的。当然，这同样适用于Windows7。</p><p>现在，四十多年过去了，我们仍然不能将文件命名为“con.txt”或“aux.mp3”，因为Windows希望与可能使用此功能的古老程序保持兼容。这是微软致力于向后兼容的一个很好的例子。</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/cp/">cp</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>