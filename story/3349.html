<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用服务质量(QoS)在您真正需要的时候获得更快的互联网</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用服务质量(QoS)在您真正需要的时候获得更快的互联网</h2></div><div class="content"><img class="content_img" src="/image/02/02baa3f87d60f49f67789478623b1b27.png" /><p>并不是所有的互联网流量都是相等的。对你来说，流媒体高清视频或无卡顿的Skype通话可能比下载一个大文件更重要。路由器上的高级服务质量功能可以让您确定您关心的事情的优先顺序，以便它们比您不关心的事情发生得更快。</p><p>究竟什么是服务质量？</p><p>服务质量(Quality Of Service)是一个出色且未得到充分利用的工具，它允许您训练您的路由器在应用程序之间分配您的可用带宽。有了良好的QoS规则，您可以确保您的流媒体视频不会因为同时下载一个大文件而卡顿，或者当您试图在孩子在线玩游戏的最后一刻赶上最后期限时，您的工作笔记本电脑不会变慢。</p><p>这样思考服务质量可能会有所帮助：让我们暂时假设你的互联网连接是一家医院，在那里可用带宽是可用于治疗患者的医生数量。病人是不同的应用，分诊护士是路由器。</p><p>在正常的网络中，分诊护士对入院患者的情况漠不关心，只是简单地将他们分配给任何可用的医生，逐步将医院的工作人员分配得越来越瘦，而不考虑患者情况的严重程度。在DIY项目中不小心用射钉枪打中了你的手？你马上去找医生。有人刚被卡车碾过？他们也立即请来医生。另一个胳膊骨折的人出现了吗？他们也有医生(但如果很快变得非常繁忙，人们就会共享医生，而没有人得到特别迅速的治疗)。你可以看到，在很短的时间内，医院将陷入困境，高优先级的患者将得不到高优先级的治疗。</p><p>同样的事情也会发生在您的家庭网络上-带宽是按需分配的，而不会过多考虑每个应用程序在做什么。这意味着如果你正在和你的老板进行Skype电话会议，而你的孩子开始看Netflix，你的Skype通话质量可能会下降。路由器正在尽最大努力在两个服务之间共享可用带宽，而不是真正考虑哪一个“更重要”。</p><p>回到我们医院的类比，服务质量，就像一位非常能干的分诊护士，以最有效的方式把病人带到正确的医生那里：刚刚被卡车碾过的人会得到多名医生，而坐在那里，手里拿着鸟舍项目出了问题的钉子的人会等一会儿，当他看到一名医生时，他会找到一名医生。</p><p>正如您所说，应用了服务质量模型的网络将某些应用程序、服务和/或用户优先于其他应用程序、服务和/或用户，因此重要的事情(Netflix、Skype呼叫、您的Xbox Live连接等)。拥有最大的带宽和最佳的ping时间。</p><p>如何在您的路由器上启用服务质量</p><p>市面上有成百上千种不同的路由器，它们的固件和功能千差万别。某些路由器的服务质量设置非常简单，只允许您将来自一台计算机的流量设置为优先于另一台计算机。有些让您指定要优先处理的服务类型(例如，流媒体视频优先于Web浏览)，而另一些则提供对流程几乎每一个方面的精细控制。</p><p>相关：使用DD-WRT将您的家庭路由器变成超级路由器</p><p>虽然我们无法指导您完成确切的路由器设置，但我们可以重点介绍配置服务质量规则时的关键注意事项。出于演示目的，我们将在闪存路由器上启用服务质量规则，以运行多功能DD-WRT第三方固件。您需要登录到您自己的路由器管理页面，以查看哪些功能(如果有的话)可供您使用。在继续之前，我们强烈建议您查看制造商网站上有关您的路由器的在线文档，以确定您的路由器支持哪种QoS设置以及如何访问它们。</p><p>第一步：确立你的目标</p><p>甚至在你打开你的管理页面之前，先想想你的目标。你试图通过服务质量规则来实现什么？您是否希望确保您的家庭办公计算机始终优先于家里的所有其他设备(例如，您的所有工作流量应该始终比其他设备上的娱乐和游戏更重要)？您是否希望优先处理已分配给家庭媒体服务器和我的世界服务器的IP地址块中的流量，以确保从家庭网络外部快速访问？您是否希望对Netflix进行优先级排序，以使您的流媒体视频始终流畅？</p><p>对于住宅用途，QoS规则应该是选择性的，并且应该尽可能少。不要发疯，一开始就制定十几条不同的规则。尽管创建大量不同的服务质量规则会带来比它们解决的更多的问题，我们鼓励你从最大的问题开始，创建一个处理它的规则。如果这解决了您的网络问题，那么就到此为止吧。如果没有，您可以继续使用其他规则。</p><p>第二步：确定您的连接速度</p><p>一旦您确定了QoS设置的目标，就可以开始着手设置和运行它了。除了最简单的QoS系统，几乎每个QoS设置都会询问您的上传和下载速度，以设置用户和服务可以占用的带宽限制。绝对不要依赖于你的ISP所说的你的账户所拥有的广告速度。您可以自己测试一下，以获得真实的测量结果。</p><p>首先，停止网络上的所有高带宽活动：停止大型下载、停止Netflix流，等等。您希望准确了解实际可用的上传和下载带宽。</p><p>接下来，访问speedtest.net并单击“Begin Test”按钮。理想情况下，您应该在计算机连接到以太网电缆或至少快速Wi-Fi连接(使用Wireless N或Wireless AC等现代无线技术)的情况下运行此测试。旧的Wi-Fi网络设备可能会阻碍您的网络测试，您将无法获得准确的结果(例如，您的Wi-Fi设备只能处理40 Mbps的传输，但您的连接实际上能够达到75Mbps)。</p><img class="content_img" src="/image/ea/ea1550f72016a1f74386158fabc2e94f.jpg" /><p>有了结果后，将数字从Mbps转换为Kbps(因为QoS控制设置通常要求这些值的单位是千比特，而不是兆比特)。您可以通过将每个值乘以1000来实现此目的。因此，在上面的示例中，我们的下载带宽达到了42900Kbps，上传带宽达到了3980Kbps。</p><p>第三步：在您的路由器上启用QoS</p><p>再次强调，我们使用DD-WRT是出于演示目的(因为它有一个健壮的QoS系统)；您需要应用适用的一般原则。</p><p>首先，打开路由器的管理页面。打开Web浏览器，在地址栏中键入路由器的IP地址(通常类似于192.168.1.1或10.0.0.1，不过您可能需要查看路由器手册)。在系统提示时使用您的用户名和密码登录(同样，如果您不知道您的用户名和密码，它可能仍然是手册中列出的默认用户名和密码)。</p><p>登录后，选择NAT/QoS选项卡，然后选择QoS选项卡。首先，选择“启动QoS”旁边的“启用”。将端口设置为WAN。将Packet Scheduler和Queuing规程设置为默认状态(应根据路由器硬件自动设置)。</p><img class="content_img" src="/image/31/31cf532fe46dc756612c058c56a83f3b.png" /><p>最后，填写下行链路和上行链路的值。您填写的值应该是速度测试得到的值的80-95%。将这两个值乘以0.8或0.95可得到减少的Kbps数量。</p><p>为什么要使用减小值？服务质量规则仅在路由器和服务质量算法可以创建人为瓶颈以按照QoS处理器认为合适的方式重定向流量时才起作用。如果您使用的值等于或大于您的连接的最大容量，那么您就没有给QoS处理程序任何回旋余地，系统的效率就会大大降低。</p><p>如何确定流量优先级</p><p>一旦您启用了服务质量，就可以创建基本的流量优先级规则了。</p><p>一些较新的路由器具有非常简单的QoS选项，您只需选择要确定其优先级的服务(或将其拖放到列表上)。例如，下面是我们拥有的一台较新的ASUS路由器的屏幕截图：</p><p>如果这就是您想要的全部，并且您的路由器具有该功能，那么您可以尝试一下，看看它是如何工作的。但是，如果您想要更精细的控制-或者您有一台没有这样简单设置的旧路由器-这里有一些关于设置QoS的更详细的说明。</p><p>让我们看看您可以使用的不同方法，以及您应该使用哪些方法。DD-WRT使用“优先级”系统，让您告诉它哪些服务或设备是最重要的。优先级值为：</p><p>
最大值：60%-100%。
保费：25%-100%。
快递：10%-100%。
标准：5%-100%。
批量：1%-100%</p><p>这些值确定分配给给定应用程序或设备的带宽量。例如，如果您将一项服务设置为“最大”，您就是在说“我希望此服务至少拥有60%的带宽，即使在网络繁忙时也是如此，而在不繁忙时则为100%”。如果您将服务设置为“批量”，您就会说“我不在乎此服务在网络空闲时是否占用大量带宽，但当网络繁忙时，它只获得可用带宽的1%”。</p><p>正如我们上面强调的，在应用服务质量规则时要谨慎。</p><p>按服务划分优先级</p><p>如果您希望网络上的每台设备都有权优先访问特定的应用程序或服务，那么您可以创建网络范围的服务优先级规则。举例来说，您希望确保Netflix优先于带宽敏感度较低的服务，如一般的Web浏览。您需要先从下拉菜单中选择服务，如下图所示，然后点击[添加]。</p><img class="content_img" src="/image/9c/9c96e99529ef5f56b2b518162510c601.png" /><p>列出服务后，选择要用于该服务的优先级。</p><img class="content_img" src="/image/84/84879af1d74554644ab402c2de79a345.png" /><p>按接口确定优先级</p><p>在网络行话中，“接口”是指设备连接到网络的方法。如果您可以对本地以太网网络进行优先级排序，则可以对无线连接进行优先级排序，甚至可以设置规则，将访客网络流量设置为较低的优先级。</p><p>让我们看看如何将访客网络流量设置为低优先级。从下拉菜单中，我们将选择“wl0.1”，在网络速记中，它是无线局域网#0虚拟网络1。单击“添加”。</p><img class="content_img" src="/image/33/33e25946d973f4353010b2107280e487.png" /><p>添加界面后，您可以指定最大上传/下载速度，甚至可以对特定连接上的服务进行优先级排序，如下面的屏幕截图所示。</p><img class="content_img" src="/image/cb/cbc77eea7b15515daf11958c3a7611ef.png" /><p>由于需要了解神秘的网络命名方案，接口优先级是较难使用的优先级系统之一。如果您不清楚哪个网络接口是哪个，我们建议您不要管这一节。您可以在这里阅读DD-WRT维基中的网络接口。</p><p>按具有IP地址的设备划分优先级</p><p>相关：如何在路由器上设置静态IP地址</p><p>假设您想让特定的设备(如您的工作计算机)在任何时候都具有优先级。如果您在网络上使用静态IP地址或DHCP保留，则可以使用某些计算机和设备的IP地址来确定通信的优先级。许多路由器都允许这样做，DD-WRT更进一步，允许您使用“网络掩码”来区分一组IP地址的优先级。</p><p>例如，假设您希望位于静态IP地址10.0.0.200的家庭服务器具有最高优先级的网络访问权限。您可以在网络掩码优先级部分输入地址，并在末尾追加32，如下所示。</p><img class="content_img" src="/image/35/3502a7171247e2ac08d533fa3954c7e2.png" /><p>32元素是网络掩码。有关网络掩码用法的详细讨论超出了本教程的范围，但可以说/32掩码是“仅解析单个IP地址”的网络掩码的简写。任何其它较小的数字将允许掩码包含给定块中的较高数量的地址(例如，10.0.0.200/24将使服务质量规则应用于10.0.0.*块中的所有254个潜在地址)。您可以参考此网络掩码快速参考指南，选择一个适合您要确定优先顺序的地址块的区段和大小的数字。</p><p>如果您发现网络掩码系统有点混乱(不是很直观)，最好只使用/32并手动输入每个IP地址。</p><p>一旦您点击“添加”，您就可以为该地址分配优先访问权限，就像上一节中的操作一样。</p><p>按具有MAC地址的设备划分优先级</p><p>相关：如何查找任何设备的IP地址、MAC地址和其他网络连接详细信息</p><p>如果您不在网络上使用静态IP地址，您仍然可以使用某些计算机和设备的MAC地址来确定它们的优先级。有关查找设备的MAC地址的信息，请参阅本指南-该地址要么位于设备上的物理标签上，要么位于其软件设置中的某个位置。</p><p>有了MAC地址后，只需将其输入到MAC优先级部分，单击添加，然后按照我们在前面几节中所做的那样为设备分配优先级。</p><img class="content_img" src="/image/d6/d6d7f1500fe47264d7e7e2f484a4604f.png" /><p>现在，无论您的路由器分配什么IP地址，比如说，您都可以确保您的工作笔记本电脑始终获得优先级。</p><p>最后：测试和评估</p><p>相关：克隆您的当前路由器，轻松升级路由器</p><p>正如我们上面强调的，要将QoS设置体验的挫折感降至最低，您可以做的最好的事情就是慢慢来。为高价商品设定一个规则，然后像往常一样使用你的网络。</p><p>是不是一切都运行得更顺畅了？太棒了！你完蛋了！事情还需要稍微微调一下吗？返回到QoS控制面板。仔细检查您的设置，调整分配带宽的方式，并在必要时创建新的QoS规则。</p><p>当你找到让你的网络保持顺畅和无故障的金发女孩配置时，一定要记下你使用的设置并截图(如果你的路由器支持的话，更好的做法是备份你的路由器配置)。跟踪您的路由器设置不仅对迁移到新路由器有好处，如果您将来需要硬重置您的路由器，它对于快速设置也很有帮助。</p><p>设置服务质量规则并不像插入路由器并在其上添加新的Wi-Fi密码那么简单，但配置QoS规则的回报是更流畅的互联网体验。有些人甚至</p><div class="item_info"><span class="item_key"><a href="/tag/路由器/">路由器</a></span><span class="item_key"><a href="/tag/设置/">设置</a></span><span class="item_key"><a href="/tag/网络/">网络</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14214.html">您的旧路由器是否仍在进行安全更新？</a><li><a href="/story/13847.html">如何保护您的Smarthome免受攻击</a><li><a href="/story/13787.html">如何出厂重置路由器</a><li><a href="/story/13755.html">如何重新启动路由器和调制解调器</a><li><a href="/story/13716.html">将路由器放置在何处以获得最佳Wi-Fi速度</a><li><a href="/story/13641.html">如何检查您的Wi-Fi信号强度</a><li><a href="/story/13493.html">为什么Windows10说您的Wi-Fi网络“不安全”</a><li><a href="/story/12708.html">为什么Wi-Fi频道12、13和14在美国是非法的</a><li><a href="/story/11786.html">解决Wi-Fi问题的最简单方法：(认真)移动路由器</a><li><a href="/story/11589.html">什么是网状Wi-Fi系统，它们是如何工作的？</a><li><a href="/story/11541.html">如何在网桥模式下使用EERO来保持路由器的高级功能</a><li><a href="/story/11532.html">如何按计划自动重启路由器，这是一种简单的方法</a><li><a href="/story/10153.html">如何同时使用您的路由器和ISP的调制解调器/路由器组合</a><li><a href="/story/10152.html">如何启用(和故障排除)对Plex Media Server的远程访问</a><li><a href="/story/9670.html">为什么您应该升级您的路由器(即使您有较旧的小工具)</a><li><a href="/story/9301.html">什么是802.11ac，我需要它吗？</a><li><a href="/story/9272.html">调制解调器和路由器有什么不同？</a><li><a href="/story/9257.html">如何在任何计算机、智能手机或平板电脑上查找路由器的IP地址</a><li><a href="/story/9230.html">如何更改Wi-Fi网络的名称和密码</a><li><a href="/story/9217.html">如何找到您的Wi-Fi密码</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>