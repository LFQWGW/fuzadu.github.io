<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用简单的脚本诊断Linux服务器负载问题</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>使用简单的脚本诊断Linux服务器负载问题</h2></div><div class="content"><p>如果您已经担任管理员一段时间了，您肯定会发现服务器在CPU使用率或内存利用率和/或负载水平上出现峰值的情况。运行‘top`也不会总是给你答案。那么，您如何找到那些消耗您的系统资源的鬼鬼祟祟的进程来杀死它们呢？</p><p>以下脚本可能会有所帮助。它是为Web服务器编写的，所以它的一些部分专门寻找httpd进程，还有一些部分处理MySQL。根据您的服务器部署，只需注释/删除这些部分并添加其他部分即可。它应该被用作一个起点。</p><p>这个版本的脚本的先决条件是在名为mytop的GNU通用公共许可证下发布的一些免费软件(可以在http://jeremy.zawodny.com/mysql/mytop/)上获得)，这是检查mysql执行情况的一个很棒的工具。它正在变得陈旧，但对于我们这里的目的来说，它仍然很好用。
此外，我使用mut作为邮件程序-您可能希望将脚本更改为只使用Linux内置的‘mail`实用程序。我每小时通过cron运行一次；您可以根据需要进行调整。哦，这个脚本需要以超级用户身份运行，因为它确实从服务器的一些受保护区域读取数据。</p><p>我们开始吧，好吗？</p><p>首先，设置脚本变量：</p><p>接下来，检查您的负载级别以查看脚本是否应该继续：</p><div class="item_info"><span class="item_key"><a href="/tag/脚本/">脚本</a></span><span class="item_key"><a href="/tag/服务器/">服务器</a></span><span class="item_key"><a href="/tag/部分/">部分</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14323.html">如何在Windows上将Caps Lock用作修改键</a><li><a href="/story/13819.html">如何将GUI添加到Linux Shell脚本</a><li><a href="/story/13415.html">如何在Linux上使用yes命令</a><li><a href="/story/13180.html">如何使用脚本编辑器为Google应用程序增压</a><li><a href="/story/13147.html">如何在进程退出时自动关闭MacOS终端</a><li><a href="/story/11555.html">如何在Windows中自动键入带双空格的句点</a><li><a href="/story/10454.html">如何在Windows 10上创建和运行Bash Shell脚本</a><li><a href="/story/7708.html">如何配置Windows以更轻松地使用PowerShell脚本</a><li><a href="/story/7704.html">如何使用批处理文件使PowerShell脚本更易于运行</a><li><a href="/story/7410.html">愚蠢的极客小把戏：如何让你的电脑与你对话</a><li><a href="/story/7370.html">在Windows上使窗口始终在最上面的3种最佳方法</a><li><a href="/story/6987.html">如何用PowerShell生成随机姓名和电话号码</a><li><a href="/story/4528.html">如何在Ubuntu上交换两个和三个手指触摸板轻击动作</a><li><a href="/story/3339.html">使用此简单脚本通过右键单击将文件上载到FTP站点</a><li><a href="/story/3166.html">Shell脚本初学者指南2：for循环</a><li><a href="/story/3146.html">Shell脚本初学者指南：基础知识</a><li><a href="/story/3024.html">如何在Ubuntu中使用热键关闭显示器</a><li><a href="/story/2913.html">使用自动热键脚本的初学者指南</a><li><a href="/story/2843.html">构建您自己的自动文件更新系统</a><li><a href="/story/2841.html">轻松保留所有网络计算机上本地文件的镜像备份</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>