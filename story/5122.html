<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用traceroute识别网络问题</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用traceroute识别网络问题</h2></div><div class="content"><img class="content_img" src="/image/de/def2d489a58a7c1082fa85acaa74448f.png" /><p>traceroute是Windows和其他操作系统附带的命令行工具。与ping命令一起，它也是了解Internet连接问题(包括数据包丢失和高延迟)的重要工具。</p><p>如果您在连接网站时遇到问题，traceroute可以告诉您问题所在。它还有助于可视化您的计算机和Web服务器之间的通信路径。</p><p>traceroute的工作原理</p><p>当你连接到一个网站时--比如说，howtogek.com--流量必须经过几个中介才能到达网站。流量通过您的本地路由器、Internet服务提供商的路由器，到达更大的网络，依此类推。</p><p>traceroute向我们显示流量到达网站所采用的路径。它还显示每个停靠点发生的延误。如果您在访问某个网站时遇到问题，并且该网站工作正常，则可能是您的计算机和该网站的服务器之间的路径上存在问题。traceroute会告诉您问题所在。</p><p>我们已经使用traceroute来解释和演示谁为您的互联网服务提供商提供互联网服务。</p><p>更专业的说法是，traceroute使用ICMP协议(与ping命令使用的协议相同)发送一系列数据包。第一个数据包的生存时间(也称为TTL或跳数限制)为1，第二个数据包的TTL为2，依此类推。每次将数据包传递到新路由器时，TTL都会减少1。当TTL达到0时，该数据包将被丢弃，并且路由器会返回错误消息。通过以这种方式发送数据包，traceroute可确保路径中的每台路由器都会丢弃数据包并发送响应。</p><p>如何使用traceroute</p><p>traceroute从命令提示符或终端窗口运行。在Windows上，按Windows键，键入命令提示符，然后按Enter键启动一个。</p><p>要运行traceroute，请运行tracert命令，后跟网站地址。例如，如果要在How-to Geek上运行Traceroute，可以运行以下命令：</p><p>(在Mac或Linux上，改为运行traceroute howtogeek.com。)</p><p>当您的计算机接收到沿途路由器的响应时，您将逐渐看到路由形成。</p><img class="content_img" src="/image/b2/b2576552731d52ee95c2e66c4b5824bb.png" /><p>如果你为另一个网站运行traceroute--特别是一个托管在世界不同地区的网站--你会发现路径有何不同。前一跳与到达您的ISP的流量相同，而后一跳则与数据包到达其他地方时不同。例如，您可以在下面看到发往中国百度网站的数据包。</p><img class="content_img" src="/image/cb/cbfd437c66947926a14b1783d35232d6.png" /><p>了解输出</p><p>其基本思想不言而喻。第一行表示您的家庭路由器(假设您在路由器后面)，接下来的行表示您的ISP，再往下的每一行表示更远的路由器。</p><p>每行格式如下：</p><p>
跳跃：每当数据包在路由器之间传递时，这称为“跳跃”。例如，在上面的输出中，我们可以看到从我的当前位置到How-to Geek的服务器需要14跳。
RTT1、RTT2、RTT3：这是数据包到达一跳并返回到您的计算机所需的往返时间(以毫秒为单位)。这通常称为延迟，与您使用ping时看到的数字相同。traceroute向每一跳发送三个数据包，并且每次都会显示，因此您可以大致了解延迟的一致(或不一致)程度。如果您在某些列中看到*，则您没有收到响应-这可能表示数据包丢失。
域名[IP地址]：域名(如果可用)通常可以帮助您查看路由器的位置。如果此选项不可用，则仅显示路由器的IP地址。</p><p>您现在应该能够使用tracert命令并了解其输出。</p><div class="item_info"><span class="item_key"><a href="/tag/数据包/">数据包</a></span><span class="item_key"><a href="/tag/traceroute/">traceroute</a></span><span class="item_key"><a href="/tag/网站/">网站</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14236.html">如何在Linux上使用traceroute命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>