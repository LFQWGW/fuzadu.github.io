<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>您应该使用哪个Linux文件系统？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>您应该使用哪个Linux文件系统？</h2></div><div class="content"><img class="content_img" src="/image/1e/1ea9e030902b9abca5b308194a73726b.png" /><p>当格式化Linux PC上的分区时，你会看到各种各样的文件系统选项。这些选项不需要是压倒性的。如果您不确定要使用哪种Linux文件系统，那么有一个简单的答案。</p><p>快速答案：如果您不确定，请使用ext4</p><p>我们稍后将深入讨论各种文件系统之间的差异，但是如果您不确定，请使用ext4。</p><p>ext4是大多数Linux发行版上的默认文件系统，这是有原因的。它是旧的ext3文件系统的改进版本。它不是最尖端的文件系统，但这很好：这意味着ext4是坚如磐石和稳定的。</p><p>在未来，Linux发行版将逐渐转向BtrFS。BtrFS仍然处于领先地位，并且正在进行大量的开发，因此您会希望避免在生产系统上出现这种情况。数据损坏或其他问题的风险不值得潜在的速度提升。</p><p>相关：FAT32、exFAT和NTFS有什么不同？</p><p>不过请注意，这个“使用ext4”建议只适用于Linux系统分区和其他只有Linux才能访问的磁盘分区。如果您正在格式化想要与其他操作系统共享的外部驱动器，则不应该使用ext4，因为Windows、MacOS和其他设备不能读取ext4文件系统。在Linux上格式化外部驱动器时，您需要使用exFAT或FAT32。</p><p>如果你在你的Linux主引导驱动器上设置分区，在设置这些分区时，你还会想要创建一个大小至少为几GB的交换分区。“这个分区是用来”交换空间“的。”它类似于Windows上的分页文件。Linux在其RAM已满时将内存换出到交换空间。此分区必须格式化为“交换”，而不是使用特定的文件系统。</p><img class="content_img" src="/image/55/5505d7f91b9b50f3ced6b8f1a8174848.png" /><p>什么是日记？</p><p>在文件系统之间进行选择时，您会注意到的一件事是，它们中的一些标记为“日志”文件系统，而另一些不标记为“日志”文件系统。这一点很重要。</p><p>日志记录旨在防止数据崩溃和突然断电。比方说，您的系统在向磁盘写入文件的过程中突然断电。如果没有日记，您的计算机将不知道文件是否已完全写入磁盘。文件将保留在磁盘上，损坏。</p><p>使用日记时，您的计算机会注意到它要将某个文件写入日记中的磁盘，将该文件写入磁盘，然后从日记中删除该作业。如果在写入文件的过程中断电，Linux将在启动时检查文件系统的日志，并恢复任何部分完成的作业。这可以防止数据丢失和文件损坏。</p><img class="content_img" src="/image/8e/8e90053b324b1aaa4030768fde680e7f.png" /><p>日志记录确实会稍微降低磁盘写入性能，但在台式机或笔记本电脑上是值得的。这并不像你想象的那么多开销。完整文件未写入日记。相反，在将日志写入磁盘之前，只有文件元数据、信息节点或磁盘位置被记录在日志中。</p><p>每个现代文件系统都支持日志记录，在设置台式机或笔记本电脑时，您会希望使用支持日志记录的文件系统。</p><p>不提供日志记录的文件系统可用于高性能服务器和管理员想要挤出额外性能的其他这类系统。它们也是可移动闪存驱动器的理想之选，因为您不想要更高的开销和日志记录的额外写入。</p><p>所有这些Linux文件系统之间有什么不同？</p><img class="content_img" src="/image/cc/cc2f7293814907ee8d986f804278dc97.png" /><p>微软开发Windows，苹果控制MacOS，Linux是社区开发的开源项目。任何有技能和时间的人(或任何公司)都可以创建新的Linux文件系统。这就是为什么有这么多选择的原因之一。以下是不同之处：</p><p>
ext代表“扩展文件系统”，是第一个专门为Linux创建的。它有四次主要的修改。“Ext”是文件系统的第一个版本，于1992年引入。这是对当时使用的Minix文件系统的重大升级，但缺乏重要功能。许多Linux发行版不再支持Ext。
ext2不是日志文件系统。推出时，它是第一个支持扩展文件属性和2 TB驱动器的文件系统。ext2没有日志，这意味着它写入磁盘的次数较少，这使得它对于USB驱动器等闪存非常有用。但是，像exFAT和FAT32这样的文件系统也不使用日志记录，并且与不同的操作系统更兼容，所以我们建议您避免使用ext2，除非您知道出于某种原因需要它。
ext3基本上就是带有日志记录的ext2。ext3被设计为向后兼容ext2，允许分区在ext2和ext3之间转换，而不需要任何格式化。它比ext4出现的时间更长，但是ext4从2008年就已经出现了，并且经过了广泛的测试。“在这一点上，你最好还是使用ext4。
ext4还被设计成向后兼容。您可以将ext4文件系统挂载为ext3，或者将ext2或ext3文件系统挂载为ext4。它包括更新的功能，可以减少文件碎片，允许更大的卷和文件，并使用延迟分配来延长闪存寿命。这是Ext文件系统的最新版本，也是大多数Linux发行版的默认版本。</p><img class="content_img" src="/image/18/186c49b1914d64308b4a58c3188454ed.png" /><p>
BtrFS，发音为“Butter”或“Better”FS，最初是由Oracle设计的。它代表“B-Tree File System”，支持驱动器池、动态快照、透明压缩和在线碎片整理。它与ReiserFS有许多相同的思想，ReiserFS是一些Linux发行版在默认情况下使用的文件系统。BtrFS被设计成与Ext系列文件系统划清界限，Ext4文件系统的维护者TedTo认为Ext4是短期解决方案，并相信BtrFS是前进的方向。随着BtrFS的进一步测试，预计在接下来的几年中，BtrFS将成为企业服务器和消费者桌面Linux发行版的默认版本。
ReiserFS在2001年引入时是Linux文件系统的一大飞跃，它包含了许多Ext永远无法实现的新特性。ReiserFS在2004年被Reiser4取代，Reiser4改进了最初版本中不完整或缺少的许多功能。但在主要开发商汉斯·赖塞(Hans Reiser)于2008年被判入狱后，Reiser4的开发陷入停滞。Reiser4仍然不在主要的Linux内核中，不太可能实现。BtrFS是更好的长期选择。</p><img class="content_img" src="/image/8b/8bcf4d3d5c1b33036c75012f007dcac4.png" /><p>相关：如何在Ubuntu上安装和使用ZFS(以及为什么要这样做)</p><p>
ZFS是由Sun Microsystems for Solaris设计的，现在归甲骨文所有。ZFS支持许多高级特性，包括驱动器池、快照和动态磁盘条带化-BtrFS将在默认情况下将其中许多特性引入Linux。每个文件都有一个校验和，因此ZFS可以判断文件是否损坏。Sun在Sun CDDL许可下开源ZFS，这意味着它不能包含在Linux内核中。但是，您可以在任何Linux发行版上安装ZFS支持软件。从Ubuntu 16.04开始，Ubuntu现在也提供官方的ZFS支持。默认情况下，Ubuntu对容器使用ZFS。
XFS是Silicon Graphics于1994年为SGI IRX操作系统开发的，并于2001年移植到Linux。*它在某些方面类似于ext4，因为它还使用延迟分配来帮助处理文件碎片，并且不允许挂载快照。它可以随时放大，但不能缩小。XFS在处理大文件时性能较好，但在处理许多小文件时性能不如其他文件系统。对于主要需要处理大文件的某些类型的服务器，它可能很有用。
JFS，即“日志文件系统”，是IBM在1990年为IBM AIX操作系统开发的，后来移植到了Linux上。它拥有较低的CPU使用率和良好的性能，适用于大文件和小文件。JFS分区可以动态调整大小，但不能缩小。它规划得非常好，并且在几乎每个主要的发行版中都有支持，但是它在Linux服务器上的生产测试没有Ext那么广泛，因为它是为AIX设计的。ext4更常用，测试也更广泛。
交换是格式化驱动器时的一个选项，但不是实际的文件系统。它用作虚拟内存，没有文件系统结构。您不能挂载它来查看其内容。交换被Linux内核用作“暂存空间”，用于临时存储RAM无法容纳的数据。它也是用来冬眠的。当Windows将其分页文件作为文件存储在其主系统分区上时，Linux只保留一个单独的空分区用于交换空间。</p><p>相关：FAT32、exFAT和NTFS有什么不同？</p><p>
FAT16、FAT32和FexFAT：在Linux中格式化驱动器时，Microsoft的FAT文件系统通常是一个选项。这些文件系统不包括日志，因此非常适合外置USB驱动器。它们是每个操作系统-Windows、MacOS、Linux和其他设备-都可以读取的事实上的标准。这使它们成为格式化要与其他操作系统一起使用的外部驱动器时使用的理想文件系统。FAT32较旧。exFAT是理想的选择，因为与FAT32不同，它支持4 GB以上的文件和8 TB以上的分区。</p><p>还有其他Linux文件系统，包括专门为嵌入式设备和SD卡中的闪存设计的文件系统。但这些是您在使用Linux时最常看到的选项。</p><div class="item_info"><span class="item_key"><a href="/tag/文件系统/">文件系统</a></span><span class="item_key"><a href="/tag/linux/">linux</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14199.html">如何在Linux上使用mkfs命令</a><li><a href="/story/13549.html">如何在Linux上将ext2或ext3文件系统迁移到ext4</a><li><a href="/story/13374.html">如何从Linux终端挂载和卸载存储设备</a><li><a href="/story/13136.html">如何从Linux终端查看可用磁盘空间和磁盘使用情况</a><li><a href="/story/7311.html">什么是文件系统？为什么会有这么多文件系统？</a><li><a href="/story/6446.html">NTFS或FAT32：为内部SSD数据分区选择最佳文件系统</a><li><a href="/story/5079.html">文件系统只是一堆文件夹吗？(说明文件系统)</a><li><a href="/story/4375.html">为什么Linux不需要碎片整理</a><li><a href="/story/3285.html">我应该为我的USB驱动器使用什么文件系统？</a><li><a href="/story/2612.html">什么是Linux fstab文件，它是如何工作的？</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>