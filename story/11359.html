<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux下如何用一条命令将一个文件复制到多个目录</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Linux下如何用一条命令将一个文件复制到多个目录</h2></div><div class="content"><img class="content_img" src="/image/5f/5fcecdba03e3c20639a08630502f9042.png" /><p>使用Linux命令行复制文件很容易。但是，如果要将同一文件复制到几个不同的位置，该怎么办呢？这也很简单，我们将向您展示如何使用一个命令来实现这一点。</p><p>通常，要复制一个文件，可以使用cp命令，链接到源文件和目标目录：</p><code>cp ~/Documents/FileToBeCopied.txt ~/TextFiles/</code><p>要将其复制到另外两个目录，许多人只需在不同的目标位置多运行该命令两次：</p><code>cp ~/Documents/FileToBeCopied.txt ~/Dropbox/</code><code>cp ~/Documents/FileToBeCopied.txt /media/lori/MYUSBDRIVE/</code><img class="content_img" src="/image/89/89df5b0f26c929c81a8f7d29cc6bea29.png" /><p>但是，我们可以使用一条命令完成相同的任务：</p><code>echo dir1 dir2 dir3 | xargs -n 1 cp file1</code><p>下面是该命令的工作方式。ECHO命令通常写入屏幕。但是，在本例中，我们希望将echo命令的输出作为输入提供给xargs命令。为此，我们使用管道符号(|)将一个命令的输出作为输入输入到另一个命令。xargs命令将运行cp命令三次，每次都将通过管道传递给它的下一个目录路径附加到cp命令的末尾。有三个参数被传递给xargs，但是xargs命令上的-n1选项告诉它每次只将其中一个参数附加到cp命令。</p><p>因此，继续使用前面的示例，可以将上面的三个单独的cp命令合并为一个命令，如下所示：</p><code>echo ~/TextFiles/ ~/Dropbox /media/lori/MYUSBDRIVE | xargs -n 1 cp ~/Documents/FileToBeCopied.txt</code><img class="content_img" src="/image/e5/e53369d895b70e318f72a58826477f3a.png" /><p>请注意，如果要复制的文件存在于任何指定的目标目录中，则该目标目录中的文件将被自动替换。系统不会询问您是否要替换该文件。(通常，当您使用cp命令将文件复制到单个位置时，可以添加-i选项来询问是否要替换现有文件。但是，-i选项是交互式选项(它导致cp命令要求用户输入)，当cp命令与xargs结合使用时，您不能将交互式选项与cp命令一起使用。)</p><p>另一件需要考虑的事情是，如果您要复制一个非常大的文件，您可能希望在上面的单个命令中的cp命令中添加no-clobber(-n)选项。如果目标中已存在文件，则此选项会自动防止该文件在目标中被覆盖。如果要通过网络复制非常大的文件，可能会很慢，并且您可能希望避免使用复制和替换该文件所需的资源。以下命令添加-n选项，如果该文件已存在于该目标中，则不会将该文件复制到ECHO语句的参数中列出的任何目标。</p><code>echo ~/TextFiles/ ~/Dropbox /media/lori/MYUSBDRIVE | xargs -n 1 cp -n ~/Documents/FileToBeCopied.txt</code><img class="content_img" src="/image/0b/0b212b1cbb56478525449c4b1700e407.png" /><p>在Linux的命令行中键入man echo、man xargs或mancp可以获得有关这些命令的更多信息。</p><div class="item_info"><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14448.html">如何在Linux上使用Which命令</a><li><a href="/story/14302.html">如何在Linux上使用Echo命令</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14091.html">如何在Linux上运行和控制后台进程</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14013.html">Bash你需要知道的15个特殊字符</a><li><a href="/story/14001.html">如何在Linux上使用管道</a><li><a href="/story/13823.html">如何在Linux上使用xargs命令</a><li><a href="/story/13779.html">如何在Linux上使用rev命令</a><li><a href="/story/13739.html">如何监控Linux命令的进度(使用pv和Progress)</a><li><a href="/story/13621.html">如何从Linux终端列出您的计算机设备</a><li><a href="/story/13610.html">如何使用Linux type命令</a><li><a href="/story/13585.html">如何使用Linux的所有搜索命令</a><li><a href="/story/13474.html">如何在Linux上使用重命名命令</a><li><a href="/story/13312.html">如何从Linux终端杀死进程</a><li><a href="/story/13258.html">37个您应该知道的重要Linux命令</a><li><a href="/story/13253.html">如何使用命令行重新启动或关闭Linux</a><li><a href="/story/13218.html">如何在Linux上使用“Install”命令复制文件</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>