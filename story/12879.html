<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>什么是DHCP(动态主机配置协议)？</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>什么是DHCP(动态主机配置协议)？</h2></div><div class="content"><img class="content_img" src="/image/f3/f3edbf8cfa3fff35f12b2ec159c93742.jpg" /><p>动态主机配置协议(DHCP)是网络不可或缺的一部分，它控制设备接收哪些IP地址，以便它们可以与互联网通信。通常，IP分配是自动进行的，但如果您需要静态IP，则必须熟悉DHCP。</p><p>DHCP可以处理IP分配</p><p>连接到网络的每台设备都需要IP地址。在网络的早期，用户手动为自己分配IP地址，但这是一项繁琐的任务，特别是对于拥有许多设备的地方，如公司办公室。DHCP在一定程度上自动化了这一过程，这使得将设备连接到网络变得容易得多。DHCP服务器或路由器根据一组定义的规则处理此过程。例如，大多数路由器都设置为使用192.168.0.x范围，因此您在家庭网络中通常会看到这样的IP地址。</p><p>这个过程相当直截了当。当客户端(计算机、物联网设备、平板电脑、手机等)。连接到网络时，它会向DHCP服务器(或路由器)发送信号(称为DHCPDISCOVER)。服务器使用网络的所有规则和设置以及要使用的IP地址(DHCPOFFER)进行响应。客户端确认信息并请求允许使用分配的地址(DHCPREQUEST消息)。最后，DHCP服务器确认请求，客户端即可自由连接到网络。</p><p>DHCP控制IP地址范围</p><img class="content_img" src="/image/e6/e665cc77aaaf3a210c5023cfb8e995b6.jpg" /><p>您可以配置DHCP来控制可供使用的IP地址范围。如果您将该范围声明为开始于192.168.0.1，结束于192.168.0.100，则所有可用地址都将落在该范围内。您永远不会看到分配给192.168.0.101的设备。另外，请记住起始IP(本例中为192.168.0.1)是为路由器保留的。某些路由器只列出起始地址，然后包含最大用户数选项(用于确定结束地址)。</p><p>这样做的好处是您可以控制有多少设备同时连接到您的网络(在本例中不超过100个)。但缺点是，如果您将范围设置得太小，可能会无意中阻止连接新设备。为了允许较小的IP地址范围，DHCP服务器仅将IP地址出租给设备。</p><p>动态分配的地址是临时的</p><p>当DHCP服务器分配IP地址时，它是在租用系统下分配的。机器将此IP地址保留一段设定的天数，之后它可以尝试更新该IP地址。如果未发送续订信号(例如已停用的机器)，则DHCP服务器将回收IP地址以分配给另一台设备。当检测到续订信号时，设备将其IP地址保留另一组天数。这就是如果您经常使用ipconfig选项，您的IP地址可能会不时更改的原因。</p><p>两个设备有可能最终拥有相同的IP，例如，一台VM机器大部分时间处于脱机状态。VM机器将无法发送更新信号，因此其IP地址将分配给另一台机器。当虚拟机重新启动时，它仍具有旧IP地址的记录(特别是从快照恢复的情况下)，但它将无法使用该IP地址，因为它已被获取。如果没有该许可，它将无法连接到网络，直到分配了新的IP。但是使用动态IP地址应该可以防止这种情况。</p><p>某些设备需要静态IP地址</p><img class="content_img" src="/image/97/9737c3f7ed60882f64896fbeb0b87107.png" /><p>如果您有联网的打印机或介质服务器(如NAS设备或Plex服务器)，则它们更改IP地址会很不方便。虽然续订租约可以防止这种情况，但IP地址仍有可能更改。如果您的路由器由于停电或您试图解决麻烦的问题而重新启动，那么所有动态生成的IP地址都可能会被重新分配。对于这些场景，手动分配静态IP地址可以解决问题。</p><p>具体过程各不相同，尤其是路由器Web接口可能会因设备而异，即使是由同一制造商制造的也是如此。在某些路由器上，如Eero网状路由器套件，这可能会被另一个术语所指，例如IP预留。但是静态IP地址仍然需要符合任何范围规则(如果存在)。使用当前IP地址作为静态IP的基础通常是最简单的做法。根据设备及其操作系统的不同，可以在设备端设置静态IP，而不是通过路由器或DHCP服务器。如果路由器本身不支持静态IP，这可能是必要的。</p><div class="item_info"><span class="item_key"><a href="/tag/ip地址/">ip地址</a></span><span class="item_key"><a href="/tag/设备/">设备</a></span><span class="item_key"><a href="/tag/范围/">范围</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/13494.html">如何使用Linux上的nmap查看网络上的所有设备</a><li><a href="/story/13195.html">如何使用链接跟踪某人的IP(和位置)</a><li><a href="/story/12813.html">为什么有些网站会屏蔽VPN？</a><li><a href="/story/9709.html">不同类型的LAN IP地址代表什么？</a><li><a href="/story/7268.html">同一Wi-Fi网络上的两台计算机是否具有相同的IP地址？</a><li><a href="/story/6539.html">如何在Windows 7、8、10、XP或Vista中分配静态IP地址</a><li><a href="/story/5732.html">如何切换到OpenDNS或Google DNS以加快Web浏览速度</a><li><a href="/story/5118.html">极客学校：学习Windows7-IP寻址基础知识</a><li><a href="/story/4462.html">如何查找您的私有和公共IP地址</a><li><a href="/story/1939.html">如何在Ubuntu Linux中找到您的IP地址</a><li><a href="/story/87.html">在C#中从DNS主机名获取IP地址</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>