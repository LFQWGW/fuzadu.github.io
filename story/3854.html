<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何对Ubuntu的Boot Loader进行密码保护</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何对Ubuntu的Boot Loader进行密码保护</h2></div><div class="content"><img class="content_img" src="/image/38/38e1367b6fc4f58d770951df684597ab.png" /><p>默认情况下，Ubuntu的GRUB引导加载程序允许任何人编辑引导条目或使用其命令行模式。使用密码保护GRUB，没有人可以编辑它们-因此您甚至可以在引导操作系统之前要求密码。</p><p>GRUB2的配置选项分散在多个文件中，而不是使用单个menu.lst文件GRUB2，因此设置密码变得更加复杂。这些步骤适用于Ubuntu11.10中使用的GRUB1.99。在未来的版本中，该过程可能会有所不同。</p><p>生成密码哈希</p><p>首先，我们将从Ubuntu的应用程序菜单启动一个终端。</p><img class="content_img" src="/image/9e/9e8d4e99cdd10069e4360741e6f0e49e.png" /><p></p><p>现在，我们将为GRUB的配置文件生成一个模糊密码。只需键入GRUB-mkpasswd-pbkdf2并按Enter键即可。它将提示您输入密码并给出一个长字符串。用鼠标选择字符串，右键单击它，然后选择复制以将其复制到剪贴板以供以后使用。</p><img class="content_img" src="/image/2d/2dcc878d2494f6bd5f3f51aefb483234.png" /><p>这一步在技术上是可选的--我们可以在GRUB的配置文件中以纯文本形式输入密码，但此命令会混淆密码并提供额外的安全性。</p><p>设置密码</p><p>键入sudo Nano/etc/grub.d/40_CUSTOM以在Nano文本编辑器中打开40_CUSTOM文件。这是您应该放置您自己的自定义设置的地方。如果您在其他地方添加它们，它们可能会被较新版本的GRUB覆盖。</p><img class="content_img" src="/image/db/dbd3864671e647328d9c2f07548d8cc5.png" /><p>向下滚动到文件底部，并按以下格式添加密码条目：</p><img class="content_img" src="/image/b8/b81db81274ff0c8121f2cee8c4596879.png" /><p>在这里，我们使用前面的密码添加了一个名为“bob”的超级用户。我们还添加了一个名为Jim的用户，其密码采用纯文本格式，不安全。</p><p>请注意，Bob是超级用户，而Jim不是。有什么不同？超级用户可以编辑引导项和访问GRUB命令行，而普通用户不能。您可以将特定的引导项分配给普通用户以授予他们访问权限。</p><p>按Ctrl-O并按Enter保存文件，然后按Ctrl-X退出。在运行sudo update-GRUB命令之前，您的更改不会生效；有关更多详细信息，请参阅激活您的更改一节。</p><p>密码保护引导条目</p><p>创建超级用户可以让我们大获全胜。配置超级用户后，GRUB会自动阻止用户在没有密码的情况下编辑引导条目或访问GRUB命令行。</p><p>想要对特定的启动条目进行密码保护，这样没有人可以在不提供密码的情况下启动它吗？我们也可以做到这一点，尽管现在有点复杂。</p><p>首先，我们需要确定包含您要修改的引导项的文件。键入sudo nano/etc/grub.d/，然后按Tab键查看可用文件列表。</p><img class="content_img" src="/image/a4/a4793db8b1f2aecd8980eac5c9206950.png" /><p>假设我们想要用密码保护我们的Linux系统。Linux引导条目是由10linux文件生成的，因此我们将使用sudo nano/etc/grub.d/10linux命令打开它。编辑此文件时请小心！如果您忘记了密码或输入了错误的密码，您将无法引导到Linux，除非您从live CD引导并首先修改您的GRUB设置。</p><p>这是一个包含大量内容的长文件，因此我们将按Ctrl-W来搜索我们想要的行。在搜索提示符下键入menuentry，然后按Enter键。您将看到一行以printf开头的代码。</p><img class="content_img" src="/image/92/927bd11b952657584b2db8487a9a1271.png" /><p>只需更改</p><p>行开头的位设置为：</p><img class="content_img" src="/image/51/5129d033dd45759eba294f897fda0506.png" /><p>在这里，我们为Jim提供了访问我们的Linux引导条目的权限。Bob也有访问权限，因为他是超级用户。如果我们指定“Bob”而不是“Jim”，Jim将根本没有任何访问权限。</p><p>按Ctrl-O和Enter，然后按Ctrl-X保存并关闭修改后的文件。</p><p>随着时间的推移，随着GRUB的开发人员向GRUB-mkconfig命令添加更多选项，这应该会变得更容易。</p><p>激活您的更改</p><p>在运行sudo update-GRUB命令之前，您的更改不会生效。此命令将生成一个新的GRUB配置文件。</p><img class="content_img" src="/image/a9/a9d06605ab4fbb7abde9510432342f18.png" /><p>如果您对默认启动项进行了密码保护，则在启动计算机时会看到登录提示。</p><img class="content_img" src="/image/02/0282237550a4748340839b73fd87981d.png" /><p>如果将GRUB设置为显示引导菜单，则在没有输入超级用户密码的情况下，您将无法编辑引导条目或使用命令行模式。</p><div class="item_info"><span class="item_key"><a href="/tag/grub/">grub</a></span><span class="item_key"><a href="/tag/密码/">密码</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/7353.html">如何配置GRUB2引导加载程序的设置</a><li><a href="/story/1976.html">清理新的Ubuntu Grub2引导菜单</a><li><a href="/story/433.html">让GRUB引导加载程序无限期等待操作系统选择</a><li><a href="/story/247.html">Windows清除Ubuntu GRUB引导加载程序后重新安装它</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>