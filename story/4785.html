<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux下如何将全局热键绑定到WINE程序</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Linux下如何将全局热键绑定到WINE程序</h2></div><div class="content"><img class="content_img" src="/image/d8/d82720f365e16538450df9fb9d2b4c34.jpg" /><p>你有没有在WINE下的Linux上安装过Windows程序，结果发现它不再绑定系统范围的热键？HTG有你一直在寻找的工作。</p><p>图片由djeucalyptus提供</p><p>概述 / 综述</p><p>每一个甚至想过转用Linux的人，可能很快就会遇到这样一个问题，那就是有一款Windows应用程序需要运行。我们已经向你展示了，你不能用酒来做到这一点。</p><p>对于本文作者来说，该应用程序是一个利用Microsoft SAPI4引擎的文本到语音转换应用程序。在WINE下安装程序轻而易举，然而完成后我很快发现，用于触发程序的各种操作(开始阅读、停止阅读等)的热键不起作用，这是WINE的一个已知问题。</p><p>我很高兴地说，经过长达数年的搜索，我终于找到了最终的解决方案，它是以GNU标准实用程序的形式出现的，它可以使用原生函数在X.org界面上进行操作。虽然xdotool不是唯一一个，但它是最容易上手的，并且已经在Ubuntu/Mint存储库中。</p><p>xdotool</p><p>xdotool程序可以从CLI执行许多与窗口相关的任务，也就是说，我们将使用的唯一两个任务是“搜索”和“键”。“搜索”功能就是这样做的，根据您为其设置的参数搜索窗口ID。“Key”(按键)功能使您可以模拟与窗口ID相关的按键操作。</p><p>安装和配置</p><p>假设您已经安装了WINE及其下面所需的程序。在本例中，我们将使用Balbolka作为“Windows”应用程序，因为它是我需要此解决方案的原始程序(第二个语音中心)的一个很好的免费软件副本。</p><p>如果你也选择了使用Balbolka，你需要激活它的热键功能。
注：即使在演示模式下，您也可能需要安装TTSReader或第二个语音中心，以便安装SAPI语音。</p><img class="content_img" src="/image/03/03be8a6dac7478c359ada0abebc76681.png" /><img class="content_img" src="/image/e4/e4b27c700da31a58f9024b72a3f59beb.png" /><p>让它在后台运行，这样当我们将按键操作挂到它上面时，它就可以完成自己的工作。</p><p>通过执行以下命令安装xdotool：</p><p></p><p>全局绑定</p><p>xdotool程序本身并不能帮助我们将其全局绑定到热键，但我们可以使用已经存在的OOS热键系统。我们要做的是创建一个简单的脚本，该脚本将利用xdotool将我们想要的按键发送到OSS热键系统中，并从OSS热键系统调用它。</p><p>创建名为“start_read.sh”的脚本，脚本内容如下：</p><p>创建另一个脚本，这次名为“stop_read.sh”，内容如下：</p><p>注意：我知道这是一个不需要脚本的One行程序，但是Mint/Ubuntu的“键盘快捷键”程序，只是直接调用它并不是很合作。如果你知道怎么做，请在下面的评论中分享。</p><p>将此命令限制在其组件上，我们看到的是：</p><p>
“-pid$(Pgrep Balbolka)”部分对我们要使用的程序执行“pgrep”，以确定其进程ID。这将把“search”的xdotool字段缩小到该PID。
“xdotool搜索-限制1-所有…。-name Balbolka“部分，进一步缩小了xdotool的搜索范围，并将返回的答案限制为1。因为在我们的案例中，程序返回了哪个窗口ID并不重要，只是限制了结果充当了”key“命令的格式化程序。您可能会发现您需要更多地按摩这一部分，如果它对您正在使用的程序很重要。
“xdotool键-Window%Window_ID%”ctrl+alt+F7“”部分将所需的击键发送到前面部分获得的windowID。</p><p>使脚本成为可执行的。</p><p>Linux薄荷键盘快捷键</p><p>在Linux Mint下，全局热键是在“键盘和快捷键”程序中设置的。</p><img class="content_img" src="/image/86/862c1c82bb7dc37a9cfd8e49591b3bad.png" /><p>打开后，单击“Add”(添加)创建新的自定义快捷键：</p><img class="content_img" src="/image/f9/f9e133fc7736ecfcdc5f03a771485d4d.png" /><p>给它一个名字，然后在“命令”下给出我们上面创建的一个脚本的完整路径，然后对第二个脚本重复这个过程。</p><p>现在，在“快捷键”栏中，点击“禁用”一词，即可获得设置新组合键的选项。
注意：如果愿意，您可以使用程序默认设置之外的其他设置。在某种意义上，创建到键绑定的“重新映射”，这取决于您使用的程序，否则就不会超出您的控制。</p><img class="content_img" src="/image/14/147b6f0bb317140ebc1b911351f5ecc6.png" /><p>点击你选择的组合，听一听魔术。</p><p>Ubuntu键盘</p><img class="content_img" src="/image/8c/8c22e76b7c6c666a28fdfb8515db676a.png" /><img class="content_img" src="/image/58/58b10403e156eb3fa38cbffd6d8285d5.png" /><p>点击加号添加一个新的快捷方式。给它一个名字，然后在“命令”下给出我们上面创建的一个脚本的完整路径。然后对第二个脚本重复这个过程。
现在点击“禁用”一词以获得设置新组合键的选项。</p><p>注：在重复铸币部分的注释时，如果您愿意，可以使用程序默认设置之外的其他设置。在某种意义上，创建到键绑定的“重新映射”，这取决于您使用的程序，否则就不会超出您的控制。</p><p>作者笔记</p><p>每次我认真考虑迁移到Linux时，这个问题都是我问题清单上的第一个问题。这并不是说linux没有问题，但这才是真正的障碍，对我来说，我试了一次又一次，问了他们在这一领域的朋友/人，甚至把它做成了一个赏金…。我很高兴这一传奇故事已经结束，我的灵魂终于可以休息了。
我希望我曾经帮助过某个人，让他们不必经历同样的磨难。</p><p>布朗医生：我和我的整个家族财产花了将近30年的时间才实现了那一天的愿景。天哪，有那么久了吗？</p><div class="item_info"><span class="item_key"><a href="/tag/程序/">程序</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/linux/">linux</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14448.html">如何在Linux上使用Which命令</a><li><a href="/story/13476.html">如何在Linux上使用超时命令</a><li><a href="/story/11954.html">如何在Windows 10中卸载或修复程序</a><li><a href="/story/11115.html">Windows中的ProgramData文件夹是什么？</a><li><a href="/story/11103.html">什么是ASLR，它如何保护您的计算机安全？</a><li><a href="/story/10510.html">如何在Mac上启用和配置屏幕保护程序</a><li><a href="/story/10139.html">如何添加指示器以查看您在Windows 10中使用的虚拟桌面</a><li><a href="/story/9690.html">Windows 10可能会在未询问的情况下删除您的程序</a><li><a href="/story/9190.html">帕普斯解释道：什么是“可能有害的程序”？</a><li><a href="/story/8536.html">如何让您的Windows 10 PC启动更快</a><li><a href="/story/8128.html">如何使用WinPatrol监视Windows PC的更改</a><li><a href="/story/7988.html">通过命令提示符运行.exe文件</a><li><a href="/story/7888.html">如何删除可怕的BoBrowser广告软件/恶意软件</a><li><a href="/story/7521.html">如何在Windows中查看最近打开的文件列表</a><li><a href="/story/7421.html">如何在Ubuntu 14.04中轻松添加和删除程序</a><li><a href="/story/7219.html">如何将Windows程序重置为其默认设置</a><li><a href="/story/6981.html">如何在Ubuntu 14.04中管理启动应用程序</a><li><a href="/story/6934.html">Windows之前的PC：使用MS-DOS实际上是什么样子</a><li><a href="/story/6888.html">如何查看您在Ubuntu 14.10中还剩下多少磁盘空间</a><li><a href="/story/6536.html">如何在Windows中禁用启动程序</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>