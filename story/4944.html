<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>什么是“卷影副本”，如何使用它们复制锁定的文件？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>什么是“卷影副本”，如何使用它们复制锁定的文件？</h2></div><div class="content"><img class="content_img" src="/image/2f/2f5d6c9b81f87580ed269d9b0efae444.png" /><p>在Windows中尝试创建简单的文件复制备份时，一个常见问题是锁定的文件可能会导致操作失败。无论文件当前是由用户打开还是由操作系统本身锁定，某些文件必须完全未使用才能复制。谢天谢地，有一个简单的解决方案：卷影复制。</p><p>使用我们的简单工具，您可以轻松访问卷影副本，从而可以访问Windows Restore创建的当前锁定文件的时间点副本。</p><p>映像信用：最佳备份服务</p><p>什么是卷影副本？</p><p>卷影复制是在Windows Server 2003中首次引入的概念。它的工作方式是Windows定期爬网系统，查找自上次爬网以来所做的文件更改，并记录这些更改。这些更改被索引并堆叠在一起，从而创建文件/文件夹的历史记录。此过程随后被添加到Windows Vista操作系统的系统还原功能下，至今仍保留该功能。该技术是Windows早期版本功能的基础。</p><p>这是作为系统级进程(还原点创建)在后台完成的，它不受与用户启动的文件操作相同的限制。因此，系统能够捕获对锁定给用户的文件的更改。</p><p>因此，要访问锁定的文件，我们只需访问最新的卷影副本。这与Windows备份和其他能够在Outlook保持打开状态下访问Outlook PST文件的商业备份产品使用的前提相同。</p><p>但是，必须注意的是，由于卷影副本是在创建系统还原点时创建的，因此实时文件和卷影副本版本之间的内容可能不同。默认情况下，Windows每天创建一个还原点，因此对于大多数情况，这应该是一个合理的备份候选。</p><p>访问卷影副本</p><p>从这一点来看，本文假设您正在使用通过本文底部的链接提供的我们的工具。批处理脚本应放在Windows PATH变量中设置的文件夹中。如果您不确定，只需将其放在您的C：\WINDOWS目录中，这应该就足够了。</p><p>为了访问保存在卷影副本中的文件，我们使用Windows附带的VSSAdmin命令行工具。此工具必须以管理员身份运行才能正常运行，因此当您打开命令提示符时，请确保右键单击并选择“以管理员身份运行”选项。</p><img class="content_img" src="/image/23/23943354e1705bc58d9d2ec56e2f6549.png" /><p>一旦打开，我们的工具就会帮您搬运重物。要查看该工具的语法和标题信息，只需输入：</p><img class="content_img" src="/image/6f/6f15f923486453bf011f29655c1e8bfb.png" /><p>例如，命令如下：</p><p>将执行以下操作：</p><p>
找到驱动器C的最新卷影副本。
创建符号链接/伪目录“C：\LatestShadow”
使卷影副本的全部内容在此目录中可用。</p><p>完成后，您可以通过命令提示符自由浏览内容：</p><img class="content_img" src="/image/37/37de29065f527ebf7c38067ea9d80331.png" /><p>或通过Windows资源管理器，就像任何其他文件夹一样。</p><img class="content_img" src="/image/86/86091ee0ebccbd5c5f5959183928fe1a.png" /><p>完成后，您只需通过命令提示符使用以下命令删除伪目录：</p><p>或直接通过Windows资源管理器。删除操作只是卸载文件夹，并不实际删除卷影副本。</p><img class="content_img" src="/image/8e/8e68e8edc211abd5fa95f8814d915982.png" /><p>在脚本/自动任务中使用</p><p>上面的信息都很好，但通过手动操作，通过Windows以前的版本可以更相关地访问这些信息。我们的工具提供的杠杆作用是在自动化过程中。</p><p>例如，下面的脚本会将最新的卷影副本挂载到本地目录“C：\MyShadow”，然后将位于用户jdoe的Documents文件夹中的“outlook.pst”复制到备份服务器。完成后，将删除保存卷影副本位置的本地目录以进行自我清理。</p><p>如果您尝试复制同一文件的实时版本，并且用户当时将其打开，则您的文件复制操作将失败。但是，由于我们通过卷影复制访问文件，因此没有锁定，复制过程几乎总是成功的。如前所述，这个过程几乎就是流行的备份产品能够做同样的事情。</p><p>上面提到的一条重要信息是，为了运行上面的脚本或任何使用Mount tLatestShadowCopy.bat工具(再次使用VSSAdmin工具)的脚本，必须以管理员帐户运行命令提示符。要在计划任务内使用此工具，必须将相应任务设置为“以最高权限运行”，以便自动化进程能够使用VSSAdmin工具装载卷影副本。</p><img class="content_img" src="/image/6b/6bd99a9147ac67ec00271fb264eb804c.png" /><p>简而言之，从卷影副本进行复制时，执行文件复制备份几乎总是最安全的。虽然您不会总是获得文件的最新版本，但在大多数情况下，您知道文件不会被锁定并且复制过程将会运行这一事实是非常有利的。</p><p>从howtogek.com下载mount LatestShadowCopy工具</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/windows/">windows</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14797.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14627.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14024.html">如何快速搜索Google Drive</a><li><a href="/story/13983.html">如何在Linux上使用chown命令</a><li><a href="/story/13968.html">如何将音乐复制到Android手机</a><li><a href="/story/13912.html">你能在Windows PC或Android手机上使用AirDrop吗？</a><li><a href="/story/13883.html">如何在PowerPoint演示文稿中使用iTunes音乐</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>