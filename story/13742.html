<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上使用Look命令</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上使用Look命令</h2></div><div class="content"><p>Linux Look命令快速浏览一个文件，并列出以特定单词或短语开头的所有行。但是小心！它在不同的Linux发行版上的行为不同。本教程将向您展示如何使用它。</p><p>Ubuntu的Look命令的行为有所不同</p><p>对于一个简单但有用的命令，当我研究这篇文章时，Look无疑给了我一个迂回的机会。有两个问题：兼容性和文档。</p><p>这篇文章是使用Ubuntu、Fedora和Manjaro检查的，每个发行版都捆绑了一个外观，非常棒。问题是这三个人的行为都不一样。Ubuntu版本则非常不同。根据Ubuntu手册页，这些行为应该是相同的。</p><p>我终于想通了。Look传统上使用二进制搜索，而Ubuntu Look使用线性搜索。仿生海狸(18.04)、宇宙乌贼(18.10)和迪斯科野狗(19.04)的在线Ubuntu手册页都说Ubuntu版本使用二进制搜索，但事实并非如此。</p><p>如果我们看一看当地的Ubuntu手册页，我们会看到它清楚地说明了他们的外观使用了线性搜索。有一个命令行选项可以强制它使用二进制搜索。其他发行版中的两个版本都没有选择搜索方法的选项。</p><code>man look</code><img class="content_img" src="/image/eb/ebf9b6836fca4ce7a99a0cc6ea900c84.png" /><p>向下滚动手册页，我们看到描述使用线性搜索而不是二进制搜索的这个版本的外观的部分。</p><img class="content_img" src="/image/7e/7eaf0ac1deace0ca6d5c6e879a6ca288.png" /><p>这个故事的寓意是先看看当地的手册页。</p><p>线性搜索与二进制搜索</p><p>二分搜索方法比线性搜索更快、更有效。处理大文件使这一点变得非常明显。二进制搜索的缺点是您的文件必须排序。如果您不想对文件进行排序，请对其副本进行排序，然后将其与Look一起使用。</p><p>我们将在本文的其他地方演示这一点。请注意，在Fedora、Manjaro上，以及我期望Linux世界的大多数其他地方，您将需要创建文件的排序副本并使用它。</p><p>正在安装Word</p><p>Look可以处理您选择的任何文本文件，也可以处理本地字典文件“Words”。</p><p>在Manjaro上，您需要安装“Words”文件。使用此命令：</p><code>sudo pacman -Syu words</code><img class="content_img" src="/image/68/684ee8bf73b54846090475ad2f16f5fb.png" /><p>使用环视</p><p>对于本文，我们将使用Edward Lear诗歌“the Jumblies”的文本文件。</p><p>让我们使用下面的命令来查看它的内容：</p><code>less the-jumblies.txt</code><img class="content_img" src="/image/ae/ae1608524a4e75a8d5f8c3d8503fd715.png" /><p>这是这首诗的第一部分。请注意，我们使用的是Ubuntu，因此文件保持未排序状态。对于Fedora和Manjaro，我们将使用文件的排序副本，本文稍后将介绍该副本。</p><img class="content_img" src="/image/eb/ebaf72df985080922637a12d1a09fe24.png" /><p>如果我们寻找以单词“They”开头的词，我们就会发现一些Jumblies做了什么。</p><code>look They the-jumblies.txt</code><img class="content_img" src="/image/ea/eacfa0e2fb98b827d8999a82e7fe24f4.png" /><p>Look通过列出以下几行做出回应：</p><img class="content_img" src="/image/d3/d3add7bc0c4a46a2d3037e3ce2988a8f.png" /><p>忽略字符大小写</p><p>要使Look忽略大小写之间的差异，请使用-f(忽略大小写)选项。我们再次使用“They”作为搜索词，但这一次，它是小写的。</p><code>look -f they the-jumblies.txt</code><img class="content_img" src="/image/2f/2f168b9234852abdb1c0d1df20bd3c06.png" /><p>这一次，结果包括额外的一行。</p><img class="content_img" src="/image/aa/aa6746a56fe121269ecf99fd49e74840.png" /><p>在最后一组结果中遗漏了以“They”开头的行，因为它全是大写的，与我们的搜索词“They”不匹配。</p><p>忽略大小写允许Look将其包含在结果中。</p><p>对排序的文件使用Look</p><p>如果您的Linux发行版的Look版本遵循使用二进制搜索的传统行为，则必须对文件进行排序或使用文件的排序副本。</p><p>让我们重复该命令来搜索“They”，但这一次是在Manjaro上。</p><p>如您所见，没有返回任何结果。但我们知道诗中有几行是以单词“他们”开头的。</p><p>让我们对文件做一份分类的复印件。如果要将-f(忽略大小写)或-d(仅限字母数字字符和空格)选项与Look一起使用，则在对文件进行排序时必须使用它们。</p><p>o(输出)选项允许您指定排序的行应该添加到的文件名。在本例中，它是“sorted.txt”。</p><code>sort -f -d the-jumblies.txt -o sorted.txt</code><img class="content_img" src="/image/03/03f9d45b777f3f2e2ad93b8871c27011.png" /><p>让我们对sorted.txt文件使用Look，然后使用-f和-d选项。</p><img class="content_img" src="/image/41/41a5067b3e62495b324d4ab61336640a.png" /><p>现在，我们得到了我们预期的结果。</p><p>仅考虑空格和字母数字</p><p>要使Look忽略任何不是字母数字字符或空格的内容，请使用-d(字母数字)选项。</p><p>我们来看看有没有以“噢”开头的词。</p><code>look -f oh the-jumblies.txt</code><img class="content_img" src="/image/87/87e1a356f7bf152100821a8d639f18e4.png" /><p>Look不返回任何结果。</p><p>让我们再试一次，告诉Look忽略除字母数字字符和空格以外的任何内容。这意味着字符和符号(如标点符号)将被忽略。</p><code>look -f -d oh the-jumblies.txt</code><img class="content_img" src="/image/62/6205a3a9b8644d01d4b4606962aafe6a.png" /><p>这一次，我们得到了一个结果。我们之前没有找到此行，因为引号和感叹号混淆了搜索。</p><img class="content_img" src="/image/6d/6dc218ca97b53d17e262acacfbd649e2.png" /><p>指定终止字符</p><p>您可以告诉Look使用特定字符作为终止字符。通常，空格和行尾用作结束字符。</p><p>t(终止字符)选项允许我们指定要使用的字符。在本例中，我们将使用撇号字符。我们需要用反斜杠将其引起来，这样Look就知道我们不是在打开字符串。</p><p>我们还引用了搜索词，因为它包含一个空格。我们在找两个词。</p><code>look -f -t \' "they call" the-jumblies.txt</code><img class="content_img" src="/image/3f/3f8b01de056bb04037d7779c30b1e935.png" /><p>结果与我们用作终止字符的撇号终止的搜索词匹配。</p><img class="content_img" src="/image/90/909464f15be8581be479b309830c7eb7.png" /><p>使用不带文件的查找</p><p>如果您没有在命令行中提供文件名，Look将使用单词file。</p><p>该命令：</p><p>提供以下结果：</p><img class="content_img" src="/image/00/0008cb35d64c34763a810bc2ee7e3dfd.png" /><p>这些都是文件中以单词“Circle”开头的所有单词。</p><p>不要再看了</p><p>这就是所有要看的东西。</p><p>一旦您知道不同的Linux发行版有不同的行为，并且您的版本使用的是二进制搜索还是线性搜索，就很容易做到这一点。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/搜索/">搜索</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14706.html">如何在Linux上使用uniq命令</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14585.html">如何在Microsoft Excel中兑换货币</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14570.html">如何在Linux上使用grep命令</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14542.html">如何从MacOS Catalina向iPhone添加自定义铃声</a><li><a href="/story/14508.html">如何使用键盘快捷键简化流媒体Netflix</a><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14499.html">如何在Linux上使用免费命令</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14461.html">如何设置您的新Mac</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14424.html">如何向Outlook会议请求添加默认签名</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>