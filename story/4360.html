<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>什么是浏览器的用户代理？</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>什么是浏览器的用户代理？</h2></div><div class="content"><img class="content_img" src="/image/42/427b58f3a4976f6335038a9de2041cec.png" /><p>您的浏览器会将其用户代理发送到您连接的每个网站。我们以前已经写过关于更改浏览器的用户代理的内容--但是到底什么是用户代理呢？</p><p>用户代理是向Web服务器标识浏览器和操作系统的“字符串”(即一行文本)。这听起来很简单，但随着时间的推移，用户代理已经变得一团糟。</p><p>基础</p><p>当您的浏览器连接到网站时，它会在其HTTP标头中包含一个User-Agent字段。用户代理字段的内容因浏览器而异。每个浏览器都有自己独特的用户代理。本质上，用户代理是浏览器向Web服务器说“嗨，我是Windows上的Mozilla Firefox”或“嗨，我是iPhone上的Safari”的一种方式。</p><p>网络服务器可以使用该信息向不同的网络浏览器和不同的操作系统提供不同的网页。例如，网站可以将移动页面发送到移动浏览器，将现代页面发送到现代浏览器，并将“请升级您的浏览器”消息发送到Internet Explorer6。</p><p>检查用户代理</p><p>例如，下面是Windows7上Firefox的用户代理：</p><img class="content_img" src="/image/31/3150aa2e4df5cf68dffdfa430d80680c.png" /><p>这个用户代理告诉Web服务器相当多：操作系统是Windows7(代号为Windows NT6.1)，是64位版本的Windows(WOW64)，浏览器本身是Firefox12。</p><p>现在我们来看一下Internet Explorer9的用户代理，它是：</p><img class="content_img" src="/image/6a/6a223d1f7633e1a876e84a681349af20.png" /><p>用户代理字符串将浏览器标识为带有三叉戟5呈现引擎的IE 9。然而，您可能会发现一些令人困惑的东西-IE将自己标识为Mozilla。</p><p>我们马上回到那个问题上来。首先，我们也来看看Google Chrome的用户代理：</p><img class="content_img" src="/image/28/285b03f7cc4e89c5c2c91a2fad74c72a.png" /><p>情节变得复杂起来：Chrome假装既是Mozilla又是Safari。要了解原因，我们必须检查用户代理和浏览器的历史。</p><p>用户代理字符串Mess</p><p>Mosaic是最早的浏览器之一。其用户代理字符串为NCSA_MOSAIC/2.0。后来，Mozilla出现了(后来改名为Netscape)，它的用户代理是Mozilla/1.0。Mozilla是一个比Mosaic更高级的浏览器--特别是，它支持框架。Web服务器检查用户代理是否包含单词Mozilla，并将包含框架的页面发送到Mozilla浏览器。Web服务器向其他浏览器发送没有框架的旧页面。</p><p>最终，微软的Internet Explorer问世了，它也支持框架。然而，IE不会接收带有框架的网页，因为Web服务器只是将其发送到Mozilla浏览器。为了解决这个问题，微软在他们的用户代理中添加了单词Mozilla，并添加了额外的信息(单词“Compatible”和对IE的引用)。网络服务器很高兴看到Mozilla这个词，并向IE发送了现代网页。后来出现的其他浏览器也做了同样的事情。</p><img class="content_img" src="/image/13/1381126d2411011afe42de8f696a73c7.png" /><p>最终，一些服务器寻找单词Gecko-Firefox的呈现引擎-并向Gecko浏览器提供与旧浏览器不同的页面。KHTML--最初是在Linux的KDE桌面上为Konquer开发的--添加了“像壁虎一样”的字样，这样他们也可以得到为壁虎设计的现代页面。WebKit是基于KHTML的-当它被开发时，他们添加了WebKit这个词，并保留了原来的“KHTML，Like Gecko”行，以达到兼容的目的。通过这种方式，随着时间的推移，浏览器开发人员不断地向他们的用户代理添加单词。</p><p>Web服务器实际上并不关心确切的用户代理字符串是什么-它们只是检查它是否包含特定的单词。</p><p>用途</p><p>Web服务器将用户代理用于各种目的，包括：</p><p>
向不同的网络浏览器提供不同的网页。这可以用来做好事-例如，向较旧的浏览器提供更简单的网页-或者用来做坏事，例如，显示“此网页必须在Internet Explorer中查看”的消息。
在不同的操作系统上显示不同的内容-例如，通过在移动设备上显示精简的页面。
收集显示其用户正在使用的浏览器和操作系统的统计信息。如果你曾经看到过浏览器市场份额的统计数据，这就是他们是如何获得的。</p><p>网络爬行机器人也使用用户代理。例如，谷歌的网络爬虫程序将自己标识为：</p><p>网络服务器可以给予机器人特殊待遇，例如，允许它们通过强制注册屏幕。(是的，这意味着您有时可以通过将用户代理设置为Googlebot来绕过注册屏幕。)</p><p>Web服务器还可以使用robots.txt文件向特定的bot(或所有bot)下达命令。例如，网络服务器可以告诉一个特定的机器人离开，或者告诉另一个机器人只索引网站的某些区域。在robots.txt文件中，bot由其用户代理字符串标识。</p><img class="content_img" src="/image/a7/a7d3f37de1ecfe609461fc151073123e.png" /><p>所有主要浏览器都包含设置自定义用户代理的方法，因此您可以看到Web服务器发送到不同浏览器的内容。例如，将桌面浏览器设置为移动浏览器的用户代理字符串，您将在桌面上看到移动版本的网页。</p><div class="item_info"><span class="item_key"><a href="/tag/浏览器/">浏览器</a></span><span class="item_key"><a href="/tag/用户/">用户</a></span><span class="item_key"><a href="/tag/代理/">代理</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14385.html">什么是Brave浏览器，与Chrome相比又如何？</a><li><a href="/story/13828.html">如何找回旧的Twitter网站</a><li><a href="/story/13778.html">如何在没有广告和其他杂物的情况下打印网页</a><li><a href="/story/13600.html">如何为不支持Chrome OS的网站欺骗Chromebook用户代理</a><li><a href="/story/13543.html">Opera GX：到底什么是“游戏浏览器”？</a><li><a href="/story/13342.html">如何不打开100个浏览器选项卡</a><li><a href="/story/13339.html">我们试用了Microsoft的New Edge for Mac浏览器，您也可以</a><li><a href="/story/13329.html">微软的Edge浏览器变得越来越有趣</a><li><a href="/story/12850.html">RIP“不跟踪”--所有人都忽视的隐私标准</a><li><a href="/story/12809.html">使用Mozilla的Android参考浏览器测试Firefox的新功能</a><li><a href="/story/11941.html">如何在Mac上查看需要Internet Explorer(或PC)的网站</a><li><a href="/story/11928.html">如何使Web浏览器停止要求您保存密码</a><li><a href="/story/11720.html">如何在Chrome、Firefox和Internet Explorer中从自动建议中删除URL</a><li><a href="/story/11567.html">Microsoft Edge真的比Chrome或Firefox更安全吗？</a><li><a href="/story/11290.html">适用于Windows的最佳PDF阅读器</a><li><a href="/story/11149.html">如何向你的蒸汽钱包里添加任何数量的钱</a><li><a href="/story/10936.html">速度、电池续航时间和定制化的最佳Web浏览器</a><li><a href="/story/10284.html">如何从Internet Explorer或Edge迁移到Chrome(以及为什么要迁移)</a><li><a href="/story/10172.html">如何永久禁用浏览器扩展以实现最高安全性</a><li><a href="/story/10006.html">如何在阻止文本的网站上启用粘贴文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>