<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用基本正则表达式更好地搜索并节省时间</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用基本正则表达式更好地搜索并节省时间</h2></div><div class="content"><img class="content_img" src="/image/4b/4b46d802b64d7fb86c78ec66c56c8342.png" /><p>无论您是一直在使用grep搜索，还是在寻找可以为您批量重命名文件的程序，您可能都想知道是否有更简单的方法来完成您的工作。谢天谢地，有，它被称为“正则表达式”。</p><p>(漫画来自Xkcd.com)</p><p>什么是正则表达式？</p><p>正则表达式是以非常特定的方式格式化的语句，可以代表许多不同的结果。也称为“regex”或“regexp”，它们主要用于搜索和文件命名功能。可以像使用公式一样使用一个正则表达式来创建许多不同的可能输出，所有这些输出都会被搜索。或者，您可以通过指定正则表达式来指定应该如何命名一组文件，并且您的软件可以递增地移动到下一个预期的输出。这样，您可以非常轻松高效地重命名多个文件夹中的多个文件，并且可以突破简单编号系统的限制。</p><p>因为正则表达式的使用依赖于特殊语法，所以您的程序必须能够读取和解析它们。许多Windows和OS X的批处理文件重命名程序都支持regexp，以及跨平台搜索工具grep(我们在Bash Scripting for Beginners Guide中提到过)和Awk for*Nix的命令行工具。此外，许多替代文件管理器、启动器和搜索工具都使用它们，并且它们在Perl和Ruby等编程语言中占有非常重要的位置。其他开发环境，如.NET、Java和Python，以及即将推出的C++11，都提供了使用正则表达式的标准库。正如您可以想象的那样，当您试图最大限度地减少程序中的代码量时，它们可能真的很有用。</p><p>关于转义字符的一个注记</p><p>在我们用例子向您展示之前，我们想指出一些事情。我们将使用bash shell和grep命令向您展示如何应用正则表达式。问题是，有时我们希望使用需要传递给grep的特殊字符，bash shell会解释该字符，因为shell也会使用它。在这种情况下，我们需要“逃避”这些角色。这可能会令人困惑，因为字符的这种“转义”也会在regexp中发生。例如，如果我们要在grep中输入以下内容：</p><p>我们将不得不将其替换为：</p><p>这里的每个特殊字符都有一个反斜杠。或者，您也可以使用单引号：</p><p>单引号告诉bash不要解释其中的内容。虽然我们需要执行这些步骤以便为您演示，但您的程序(特别是基于GUI的程序)通常不需要这些额外的步骤。为了简单明了，实际的正则表达式将以引号文本的形式提供给您，您将在命令行屏幕截图中看到转义的语法。</p><p>它们是如何扩展的？</p><p>正则表达式是陈述术语的一种非常简洁的方式，这样您的计算机就可以将它们扩展为多个选项。我们来看一下下面的例子：</p><p>方括号-[和]-告诉解析引擎，不管里面是什么，任何一个字符都可以用来匹配。这些方括号中的任何内容都称为字符集。</p><p>因此，如果我们有一个巨大的条目列表，并使用此正则表达式进行搜索，则将匹配以下术语：</p><p>
汤姆。
Tom0。
Tom1。
Tom2。
Tom3</p><p>诸若此类。但是，以下列表将不匹配，因此不会显示在您的结果中：</p><p>
番茄；正则表达式不考虑“tom”之后的任何字母。
汤姆；正则表达式区分大小写！</p><p>您还可以选择使用句点(.)进行搜索。这将允许存在任何字符，只要存在字符即可。</p><img class="content_img" src="/image/90/90a65e8e6933f2a0494412d2a36562a1.png" /><p>如你所见，贪婪的</p><p>没有提出开头只有“tom”的术语。甚至连“绿西红柿”也加入了进来，因为“tom”前面的空格被算作一个字符，但是像“tomF”这样的术语在开头没有字符，因此被忽略了。</p><p>注意：grep的默认行为是当某个部分与您的正则表达式匹配时返回整行文本。其他程序可能不会这样做，您可以在grep中使用‘-o’标志将其关闭。</p><p>您还可以使用竖线(|)指定替换，如下所示：</p><p>这将同时找到两个：</p><p>
专业化认证。
专攻</p><p>在使用grep命令时，我们需要使用反斜杠对特殊字符(、|和)进行转义，并使用‘-E’标志使其正常工作并避免难看的错误。</p><img class="content_img" src="/image/2d/2dda2d2b2f02d65fe797b952b63f5ba1.png" /><p>如上所述，这是因为我们需要告诉bash shell将这些字符传递给grep，并且不要对它们做任何操作。‘-E’标志告诉grep使用圆括号和竖线作为特殊字符。</p><p>您可以使用位于方括号内和集合开头的插入符号进行排除搜索：</p><p>同样，如果您正在使用grep和bash，请记住退出该管道！</p><img class="content_img" src="/image/1a/1a961e131ab01bc9640b57a96eff1f73.png" /><p>列表中有但没有出现的术语包括：</p><p>
Tom0。
Tom5。
Tom9。
TomF</p><p>这些和我们的正则表达式不匹配。</p><p>我如何利用环境？</p><p>通常，我们根据边界进行搜索。有时，我们只需要出现在单词开头、单词末尾或代码行末尾的字符串。使用我们所说的锚可以很容易地做到这一点。</p><p>使用插入符号(在方括号之外)可以指定行的“开头”。</p><img class="content_img" src="/image/b1/b1bc7d7fc650f849b8ea087abfb50bd2.png" /><p>要搜索行尾，请使用美元符号。</p><img class="content_img" src="/image/b7/b754f23dec1aa11dbefcfe67c7c0174a.png" /><p>您可以看到，在本例中，我们的搜索字符串位于锚点之前。</p><p>您还可以查找出现在单词开头或结尾(而不是整行)的匹配项。</p><img class="content_img" src="/image/7f/7f52ae719e5d23f3e51d653d3e1969c7.png" /><img class="content_img" src="/image/5c/5c6918925cf42a74d5f20d4df3bc094b.png" /><p>正如我们在本文开头的注释中提到的，我们需要转义这些特殊字符，因为我们使用的是bash。或者，您也可以使用单引号：</p><img class="content_img" src="/image/53/53a820915a297e31d25dfae67155e378.png" /><img class="content_img" src="/image/2c/2cb22f05e11ee98213f8c51eb5a0707e.png" /><p>结果是一样的。确保使用单引号，而不是双引号。</p><p>高级正则表达式的其他资源</p><p>我们在这里只碰到了冰山一角。您还可以搜索由货币标记描述的货币术语，并搜索三个或更多匹配术语中的任何一个。事情可能会变得非常复杂。如果您有兴趣了解有关正则表达式的更多信息，请查看以下参考资料。</p><p>
Zytrax.com有几个页面，提供了一些具体的例子，说明为什么事情是匹配的，为什么不匹配。
Regular-Expressions.info也有很多更高级的东西的杀手级指南，还有一个方便的参考页。
.org有一个页面专门介绍在grep中使用regexp。</p><p>您还可以使用基于Flash的免费在线工具RegExr构建和测试正则表达式。它随您键入即可工作，而且是免费的，并且可以在大多数浏览器中使用。</p><p>您最喜欢使用正则表达式吗？知道有没有使用它们的很棒的批处理重命名程序？也许你只是想吹嘘一下你的GREP-FU。通过评论来贡献你的想法！</p><p></p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/正则表达式/">正则表达式</a></span><span class="item_key"><a href="/tag/搜索/">搜索</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>