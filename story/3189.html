<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Shell脚本初学者指南3：更多基本命令和链</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Shell脚本初学者指南3：更多基本命令和链</h2></div><div class="content"><img class="content_img" src="/image/28/286101c1ec347f0cc3eac9dfebcae927.png" /><p>您已经学习了如何创建脚本、使用参数和构建for循环。现在，让我们看看一些更基本的命令、文本文件操作以及将输入和输出重定向到文件和其他命令。</p><p>一些基本的有用命令</p><p>我们已经向您提供了shell脚本的基本分类和for循环的基于示例的概述，但是如果您到目前为止还没有阅读我们的shell脚本编写指南，请务必阅读这些文章。</p><p>命令行很棒的原因有很多，重定向是最突出的原因之一。如果您必须记录并复制每个命令的输出，以便采取进一步的操作或将其用于其他用途，那么我们很久以前就都疯了。重定向允许我们使用该输出并保存它，或者立即将其用作另一个命令的输入。我们还可以使用文件作为其他命令的输入。</p><p>在我们继续之前，让我们先介绍一些在许多不同地方都有用的基本命令。</p><p>ECHO-此命令只需在命令行上打印(显示)整个参数作为输出</p><img class="content_img" src="/image/2c/2c49ace3b4ae736afc4f360259a60d07.png" /><p>如您所见，需要对特殊字符进行“转义”，以便正常对待它们。这是通过在字符前面使用反斜杠(\)来实现的。使用引号是个更好的主意。ECHO命令也适用于变量。</p><img class="content_img" src="/image/68/68be381ce61d948dcae0642cd41e5423.png" /><p>如您所见，单引号和双引号的行为不同。要了解更多信息，请查看Bash Shell中的单引号和双引号有什么不同？</p><p>CAT-此命令将文本文件的内容显示为输出。</p><p>假设我们在Nano中创建此文本文件：</p><img class="content_img" src="/image/12/12a76fc6f36b6b78df883aae2a08d347.png" /><p>当我们在文件上使用cat命令时，我们可以看到它的输出。</p><img class="content_img" src="/image/d9/d973c95dbc268aae08fa51aad3b99437.png" /><p>grep-这是Linux中可用的最强大和最有用的命令之一。它代表全局/正则表达式打印。它查看文件并打印与特定模式匹配的任何行。因为该模式基于“正则表达式”，所以一行简明的代码就可以生成大量要匹配的模式。不过，如果没有，您可以输入一个TERN进行搜索。</p><img class="content_img" src="/image/04/04c74168e8acf3068b2ef61bbdce758a.png" /><p>我向您保证，grep可以做得更多，但现在让我们坚持使用更简单的内容。</p><p>重定向输出</p><p>要将命令的输出重定向到文件，我们使用一个特殊字符，即大于号(&gt;)。</p><p>我们把单子改一下，好吗？输入以下命令：</p><img class="content_img" src="/image/4b/4b314bc5891174fa6008e94bdb86ed9f.png" /><p>您可以看到，ECHO不再显示该行，当我们查看“列表”文件的内容时，我们看到了在那里回显的内容。</p><p>还请注意，“list”之前的内容已删除。请重试：</p><img class="content_img" src="/image/bf/bff8cc7f5129d19be4eefcc10af5ceb3.png" /><p>当您想要重用文件，但我们通常只想添加到现有文件时，这会很有用。为此，我们使用两个连续的大于号：</p><img class="content_img" src="/image/aa/aa8fea37633c3e20254bb6657473aaa4.png" /><p>放轻松！让我们使用此命令创建一个更大的列表，好吗？</p><img class="content_img" src="/image/fd/fdc25a1f8f110b0022cd30f058b6367c.png" /><p>我们开始吧。我想您可以理解为什么这么多极客使用命令行来制作待办事项列表之类的东西，但是它会更好。</p><p>让我们将命令的输出放入一个文件中：</p><img class="content_img" src="/image/01/01c31976c532fd68394bd1b310c2da69.png" /><p>制作文件列表，向下编辑它们，然后在您想要的文件上运行命令，从来没有像现在这样简单。而且，当我们在命令行中执行这些基本函数时，这些函数在脚本中也可以很好地工作。</p><p>管道或链条</p><p>管道之所以这样命名，是因为它使用管道(|；与大多数键盘上的\键共享)。本质上，它接受一个命令的输出，并将其直接提供给另一个命令。通过这种方式，您可以创建很长的命令链来获得非常具体的所需输出，并且对于grep这样的命令非常方便。</p><img class="content_img" src="/image/cf/cf919059a84f56f02ab8f9d735af0387.png" /><p>它的作用与“&gt;”非常相似，不同之处在于它可以链接多次，并且它的效果更一般，因为它不需要遍历文本文件。</p><p>如您所见，grep区分大小写。您可以使用“-i”标志使其忽略大小写。</p><img class="content_img" src="/image/d3/d3f3985502e2efaaf421b3e0e0041f17.png" /><p>重定向输入</p><p>还可以使用小于号(&lt;)从文件中获取命令的输入。</p><img class="content_img" src="/image/7f/7fd47047cafeb250ff91692e3f1fa1fc.png" /><p>“这和使用参数没有什么不同！”你可能会说。嗯，在这种情况下你是对的。输入重定向真正派上用场的是将命令链接在一起。</p><p>比方说，我们要将当前“list”文件中包含“pep”的任何单词过滤到一个名为“revision”的新文件中。</p><img class="content_img" src="/image/dc/dc9bc07d7eba90c374771f151530a093.png" /><p>让我们重做此命令，并添加一些排序。</p><img class="content_img" src="/image/42/427c598c6c648d7d896e9218ca9c4643.png" /><p>这将使用“pep”作为输入文件“list”中的搜索词，按字母顺序对其进行排序(所有大写术语后跟所有小写术语)，然后将其输出到“修订”文件中。</p><p>为了说明排序命令，让我们看一下下面的示例：</p><img class="content_img" src="/image/72/72478a576715a030ad0dceac4d9002dd.png" /><p>如您所见，将“-f”标志添加到排序命令允许您忽略大小写。这使得我们可以轻松地对文本文件中的行进行字母排序，并在无关紧要时忽略大写。</p><p>一个简单的脚本</p><p>让我们创建一个具有以下形式的脚本：</p><img class="content_img" src="/image/4c/4cfa42b00db126995a14c07cc618f39d.png" /><p>下面是我们将在其中测试脚本的目录：</p><img class="content_img" src="/image/0d/0d25868fed4592ed486d3dfeea083026.png" /><p>而且，我们可以创建此处内容的列表，然后运行脚本。</p><img class="content_img" src="/image/ff/ff645ed6adad77c4395323f185b48335.png" /><p>这就对了！您了解的正则表达式规则越多，就越能准确地组合搜索命令。而且，任何有效的引号中的内容都可以用来替换您的第一个参数！</p><p>就排序而言，您可以做的不仅仅是按字母顺序排序。请查看以下命令的手册页：</p><p>
TSORT-一种更高级的拓扑排序功能。
TR-允许您将特定字符映射到其他字符，并在它们之间进行转录。
uniq-删除任何非唯一(读取：复制)。
AWK-一种真正的高级文本处理语言/函数，可用于分隔文件名中的字段。
剪切、粘贴/连接-用于将字段与文本文件隔离并将新数据添加到列中的命令。
Look-像grep一样进行搜索，但使用字典文件(可以由用户指定)进行查找。
wc-让您获得字数、行数、字符数等</p><p></p><p>今天我们了解了一些在命令行和脚本中同样有用的基础知识。基于文本的数据通常是我们日常使用的核心内容，因此能够使用、搜索和操作它是关键。</p><p></p><p>你最喜欢的剧本是什么？基于文本的文件有什么特殊用途的脚本吗？在评论中分享你所知道的吧！</p><div class="item_info"><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14448.html">如何在Linux上使用Which命令</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14013.html">Bash你需要知道的15个特殊字符</a><li><a href="/story/14001.html">如何在Linux上使用管道</a><li><a href="/story/13779.html">如何在Linux上使用rev命令</a><li><a href="/story/13739.html">如何监控Linux命令的进度(使用pv和Progress)</a><li><a href="/story/13610.html">如何使用Linux type命令</a><li><a href="/story/13258.html">37个您应该知道的重要Linux命令</a><li><a href="/story/13196.html">如何更改默认的crontab编辑器</a><li><a href="/story/12887.html">Alexa、Siri和Google听不懂你说的话</a><li><a href="/story/11899.html">如何将命令输出保存到Bash中的文件(也称为Linux和MacOS终端)</a><li><a href="/story/11854.html">如何在Windows命令提示符下使用命令历史记录</a><li><a href="/story/11367.html">如何从Windows10的Bash Shell运行Windows程序</a><li><a href="/story/11359.html">Linux下如何用一条命令将一个文件复制到多个目录</a><li><a href="/story/11073.html">如何从Windows快捷方式运行命令提示符命令</a><li><a href="/story/11042.html">如何使用一个Linux命令删除多个子目录</a><li><a href="/story/10923.html">如何在Linux中用一条命令创建一个新目录并对其进行更改</a><li><a href="/story/10778.html">MacOS中的十大终端技巧</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>