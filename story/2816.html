<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在IIS 7 for Windows Server 2008上安装PHP</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在IIS 7 for Windows Server 2008上安装PHP</h2></div><div class="content"><p>网络上最流行的开发平台之一是PHP，它支持许多流行的应用程序和网站，如Facebook、WordPress和Joomla。虽然这些系统中的大多数“设计”在运行Apache Web Server的Linux系统上使用，但您可以在Windows Server 2008系统上通过IIS7部署PHP应用程序。</p><p>配置PHP</p><p>为了让Windows运行PHP代码，需要将PHP二进制文件复制到您的系统。不需要安装，但是必须进行一些配置才能正常运行。第一步是下载PHP Windows二进制文件并将其解压(即。‘c：php’)。对于IIS7，应该使用非线程安全的二进制文件。</p><img class="content_img" src="/image/2b/2b444b3663040b45bd55d652398c4302.png" /><p>从解压的文件中复制“php.ini-product”文件，将其粘贴到Windows目录中。在Windows目录中，将此文件重命名为“php.ini”。</p><img class="content_img" src="/image/b2/b2995bfb60da430180b15731676c5381.png" /><p>在记事本中打开‘php.ini’文件并根据需要进行配置。开箱即用，我们复制的生产配置是为PHP团队认为对生产服务器有利的配置而预先配置的。要为IIS 7系统配置PHP，您需要进行一些更改：</p><p>
取消注释并设置密钥cgi.force_redirect=0。
取消对键的注释，fast cgi.imPersonate=1。
取消注释，并将键EXTENSION_DIR设置为PHP解压缩到的路径中的‘ext’文件夹(即。‘c：PHPext’)。
将键date.timezone设置为服务器的时区(此键上方的URL列出了接受的值)。</p><p>此时，您的Windows系统可以使用“php.exe”工具从命令行运行PHP脚本。</p><p>配置IIS 7以运行FastCGI</p><p>Internet信息服务(IIS)7将FastCGI框架作为安装包的一部分。要确保在您的IIS7安装中启用它，请检查Server Manager&gt;Roles&gt;Web Server下的Role Services。</p><img class="content_img" src="/image/fc/fca2a085e0657a1ae5d04120159cee0b.png" /><p>确保“CGI”选项安装在“应用程序开发”部分下。如果不是，请启用此功能并更新您的IIS 7安装。</p><img class="content_img" src="/image/35/3595702583e54c34e468a0f8a5d0afad.png" /><p>设置IIS后，安装IIS 7管理包。如果您不使用“典型”设置，请确保已将“FastCGI”选项设置为要安装。此软件包在IIS管理器中安装FastCGI配置界面。</p><img class="content_img" src="/image/90/90abd61e8dec4d8b73dcd661d366e18c.png" /><p>配置IIS以通过FastCGI运行PHP</p><p>一旦IIS7安装了所有必需的功能，我们只需将其配置为运行PHP即可。首先，我们在“FastCGI Settings”选项下配置FastCGI以使用PHP(此功能是作为IIS7管理包的一部分安装的)。</p><img class="content_img" src="/image/8a/8a2bc4c6fdd54940fa717b492b255b19.png" /><p>在FastCGI设置屏幕中，添加一个应用程序。</p><img class="content_img" src="/image/cf/cfef979740ff7661e84a7ca99a61a1cf.png" /><p>设置位于解压PHP Windows二进制文件的文件夹中的‘php-cgi.exe’可执行文件的路径。此外，将“InstanceMaxRequests”更改为高于默认值(即5000)的值。在“Environment Variables”设置下，单击省略号按钮配置其他选项。</p><img class="content_img" src="/image/aa/aaab2c9fe1515610fc8bb3853dc38b71.png" /><p>添加一个名为“PHP_MAX_REQUESTS”的新变量，并将该值设置为与上面的“InstanceMaxRequests”设置相同的数量。</p><img class="content_img" src="/image/51/51d6d3dc903889f3e3bd19e4d87be89d.png" /><p>应用所有设置，直到您返回到主IIS管理器屏幕。</p><p>接下来，我们必须映射在“处理程序映射”中配置的IIS如何执行PHP脚本。</p><img class="content_img" src="/image/d7/d7454f79abf5013b0da6b649d5862a5f.png" /><p>在处理程序映射中，添加新的模块映射。</p><img class="content_img" src="/image/75/75612ab0a16b6269b36dfe72940e7131.png" /><p>使用模块接口“FastCgiModule”将模块的请求路径设置为PHP文件(*.php)。将可执行文件设置为与上述FastCGI设置中配置的文件相同的文件。为该映射指定一个友好名称，如PHP，然后单击OK。</p><img class="content_img" src="/image/18/18079d81bf65df8fc098747bb9dd0c71.png" /><p>当您得到确认提示时，回答“是”以确认您希望PHP作为FastCGI应用程序运行。</p><img class="content_img" src="/image/24/24d10f6917ad7ccc5a18619ccfb04ca8.png" /><p>应用所有更改，关闭并重新启动IIS以确保新设置生效。</p><img class="content_img" src="/image/fc/fca8f7fa7bd01c14bbc439f68ac529fe.png" /><p>完成此操作后，可以使用Microsoft修补程序(链接部分提供链接)来解决在IIS 7下运行时PHP的一些问题。这些修补程序应安装在您的Web服务器上，以确保PHP通过FastCGI正常运行。</p><p>测试PHP</p><p>此时，您的服务器已经准备就绪，但只是为了确保我们可以很容易地通过IIS确认您的PHP设置。在目录‘C：Inetpubwwwroot’中创建一个名为‘phpinfo.php’的文本文件，该文件只包含一行：</p><img class="content_img" src="/image/35/3507eac11129599542dad3d6ff8eedb4.png" /><p>最后，浏览到服务器上的地址‘php’，您应该会看到http://localhost/phpinfo.php信息页面。如果页面加载成功，则PHP现在已在您的计算机上启动并运行。</p><img class="content_img" src="/image/d0/d04fd72a94d4952aa58e75b99f56f08d.png" /><p>结束 / 结尾 / 结论 / 推论</p><p>一旦您在Windows系统上启动并运行了PHP，您就可以利用大量可用的基于PHP的应用程序，并开发和部署您自己的应用程序。</p><p>高尔夫球场 / 链接 / 沙地 / 沙丘</p><p>下载PHP Windows二进制文件(非线程安全)</p><p>下载IIS 7管理包</p><p>下载IIS 7 FastCGI(x86/x64)的PHP修补程序</p><div class="item_info"><span class="item_key"><a href="/tag/php/">php</a></span><span class="item_key"><a href="/tag/设置/">设置</a></span><span class="item_key"><a href="/tag/iis/">iis</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/11953.html">什么是PHP文件(以及如何打开PHP文件)？</a><li><a href="/story/2835.html">从命令行查找php.ini文件位置</a><li><a href="/story/2817.html">如何在IIS 6 for Windows Server 2003上安装PHP</a><li><a href="/story/145.html">在Ubuntu上安装MySQL Server 5</a><li><a href="/story/31.html">打印PHP数组的内容</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>