<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何从Linux终端列出您的计算机设备</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何从Linux终端列出您的计算机设备</h2></div><div class="content"><p>找出您的Linux计算机中包含或连接了哪些设备。我们将介绍列出已连接设备的12个命令。</p><p>为什么是12个命令？</p><p>不管有多少种方法可以剥猫的皮，我敢打赌还有更多的方法可以列出连接到Linux计算机或安装在Linux计算机中的设备。我们将向您展示其中的12个。这不是他们的全部！</p><p>不可避免的是，您可以从这些命令中获得的信息中有很多重叠，那么为什么要费心描述这么多呢？</p><p>嗯，首先，内容和细节的不同使它们有了很大的不同，以至于有些人会更喜欢一种方法而不是另一种方法。一个命令的输出格式可能特别适合特定的用例。另一个命令的格式可能非常适合通过grep或另一种进一步处理的方法进行管道传输。</p><p>不过，主要是让文章尽可能笼统。与其决定哪些命令会让我们的读者感兴趣或使用，我们宁愿提供一个可用命令的广泛样本，让我们的读者选择哪些命令他们将使用，哪些命令原封不动。</p><p>需要一些安装</p><p>默认情况下，这些命令中的大多数都包含在您的Linux发行版中。Ubuntu、Fedora和Manjaro被用作Debian、Red Hat和Arch家族主要分支发行版的代表性示例。</p><p>这三个发行版都需要安装提供lsdev命令的procinfo。lsscsi命令也需要安装在所有这三个位置上。</p><p>要安装lsdev和lsscsi，请使用以下命令。</p><p>Ubuntu：</p><code>sudo apt-get install procinf</code><code>sudo apt-get install lsscsi</code><img class="content_img" src="/image/9c/9c8669946c966257ec5abca3f3ffb515.png" /><img class="content_img" src="/image/61/6109c290c9417f6d2431e3048672ffb8.png" /><p>软帽：</p><code>sudo dnf install procinfo</code><code>sudo dnf install lsscsi</code><img class="content_img" src="/image/13/13fbada5fe0f798ce44bf854c81fb530.png" /><img class="content_img" src="/image/99/995b6b073820b8a62012d173a386e8f2.png" /><p>马扎罗</p><code>sudo pacman -Syu procinfo</code><code>sudo pacman -Syu lsscsi</code><img class="content_img" src="/image/e4/e478b9c8b4793580dfae8d049c5f84b8.png" /><img class="content_img" src="/image/b4/b484769983cfb06e942f87cbff85d332.png" /><p>令人惊讶的是，Manjaro-以基本的发行版类型而闻名-是预装了我们将看到的大多数命令的发行版。</p><p>Ubuntu和Fedora需要安装hwinfo，Fedora还需要安装lshw和hdparm。</p><p>Ubuntu：</p><code>sudo apt-get install hwinfo</code><img class="content_img" src="/image/08/0881dc6ba74a1c43b7f9b06d5f316b00.png" /><p>软帽：</p><code>sudo dnf install hwinfo</code><code>sudo dnf install lshw</code><code>sudo dnf install hdparm</code><img class="content_img" src="/image/a7/a7640c0ae3cd7d62f100406d6756b852.png" /><img class="content_img" src="/image/fc/fc289903ba259134c1f6c546c26bac87.png" /><img class="content_img" src="/image/4e/4e36b32aff0f70b18c72925164a31212.png" /><p>1.挂载命令</p><p>mount命令用于挂载文件系统。</p><p>但是发出不带参数的命令会导致它列出所有挂载的文件系统，以及它们所在的设备。所以我们可以用这个作为发现这些设备的一种手段。</p><code>mount</code><img class="content_img" src="/image/88/8883ab82e89d68bea1aa1c7aeaf667b9.png" /><p>mount的输出可能比您预期的要长，特别是在您使用snap方法安装软件的情况下。每次使用Snap时，您都会获得另一个伪文件系统，这些文件系统将通过mount列出。当然，这些设备没有关联的物理设备，所以它们只是模糊了真实情况。</p><img class="content_img" src="/image/0b/0ba6531b61dd363bee35f5b15cde2efb.png" /><p>如果您发现清单中的真实文件系统位于硬盘上，我们可以使用grep将其隔离。</p><p>硬盘按名称标识，通常称为“SD”，后跟字母“a”表示第一个驱动器，“b”表示第二个驱动器，依此类推。通过为第一个分区添加1和为第二个分区添加2来标识所有分区，依此类推。</p><p>因此，第一个硬盘将是sda，该驱动器上的第一个分区将称为sda1。硬盘通过/dev中的特殊设备文件(称为块文件)连接，然后挂载在文件系统树中的某个位置。</p><p>此命令使用grep筛选出任何以“sd”开头的驱动器的详细信息。</p><code>mount | grep /dev/sd</code><img class="content_img" src="/image/16/1678d5b6a84139810f16c52e91808981.png" /><p>输出包含用于研究本文的机器中的单个硬盘。</p><img class="content_img" src="/image/45/45eb102fcbd6f8f27f029485a2cfae2d.png" /><p>mount的响应告诉我们，驱动器/dev/sda未挂载在/(文件系统树的根)，并且它有一个ext4文件系统。“RW”表示它已在读写模式下挂载</p><p>Relatime是文件时间戳更新例程使用的方案。除非文件的修改时间(Mtime)或更改时间(Ctime)比上次访问时间晚，或者访问时间(Atime)早于系统定义的阈值，否则不会将访问时间写入磁盘。这极大地减少了频繁访问的文件需要进行的磁盘更新次数。</p><p>“error=remount-ro”表示如果出现足够严重的错误，文件系统将以只读模式重新挂载。</p><p>为了能够滚动mount的输出并更容易地发现设备上挂载的文件系统，可以将mount的输出通过Less管道传输。</p><code>mount | less</code><img class="content_img" src="/image/59/59d09d2bc83b701f7f4f97845a850a21.png" /><p>滚动浏览输出，直到看到连接到/dev特殊文件的文件系统。</p><img class="content_img" src="/image/ed/edfd7af7b5a01a44a8b96230cf868a1f.png" /><p>2.lsblk命令</p><p>lsblk命令列出块设备、它们的挂载点和其他信息。在命令行中键入lsblk：</p><code>lsblk</code><img class="content_img" src="/image/7a/7ababdf7c96b84bdc876a90d69e023fb.png" /><p>输出显示：</p><p>
名称：块设备的名称。
MAJ：MIN：主机号显示设备类型。最小数量是该类型设备列表中当前设备的数量。例如，7：4表示环路设备编号4。
RM：设备是否可以拆卸。0表示不是，1表示是。
大小是设备的容量。
RM：设备是否为只读。0表示不是，1表示是。
类型：设备的类型，例如，循环、目录、磁盘、ROM(CD ROM)等。
挂载点：挂载设备的文件系统的位置。</p><img class="content_img" src="/image/52/52aafe94859c44e7964336af53a5a250.png" /><p>要整理输出并删除循环设备，我们可以使用-e(排除)选项，并提供我们希望忽略的设备类型的数量。</p><p>此命令将导致lsblk忽略LOOP(7)和CD ROOM(11)设备。</p><code>lsblk -e 7,11</code><img class="content_img" src="/image/44/44ea16ee6244d28d664537c7f2590a31.png" /><p>结果现在仅包含硬盘SDA。</p><img class="content_img" src="/image/b3/b3d19881fbebd1a64f724a68e9d5e211.png" /><p>3.df命令</p><p>df命令报告驱动器容量以及已用空间和可用空间。</p><p>在命令行中键入df，然后按Enter键。</p><code>df</code><img class="content_img" src="/image/c9/c9fb3b5efa3747869ad62848a436c5dd.png" /><p>输出表显示：</p><p>
FileSystem：此文件系统的名称。
1K块：此文件系统上可用的1K块的数量。
已使用：此文件系统上已使用的1K块的数量。
可用：此文件系统上未使用的1K块的数量。
Use%：此文件系统中使用的空间量以百分比表示。
file：文件系统名称，如果在命令行上指定的话。
装入位置：文件系统的装入点。</p><img class="content_img" src="/image/f5/f555bb1afdf85af839491404d4fbbc50.png" /><p>要从输出中删除不需要的条目，请使用-x(排除)选项。此命令将阻止列出环路设备条目。</p><code>df -x squashfs</code><img class="content_img" src="/image/aa/aa8963949a7e50600e0de7e4a0656227.png" /><p>紧凑的输出更容易解析出重要信息。</p><img class="content_img" src="/image/4e/4e7a72b141240977d98ba70217dce05e.png" /><p>4.fdisk命令</p><p>fdisk命令是一个设计用来操作磁盘分区表的工具，但它也可以用来查看信息。当我们研究计算机中的设备时，可以利用这一点作为我们的优势。</p><p>我们将使用-l(列表)选项列出分区表。因为输出可能很长，所以我们将通过管道将fdisk的输出传递给LESS。因为fdisk有可能更改磁盘分区表，所以我们必须使用sudo。</p><code>sudo fdisk -l</code><img class="content_img" src="/image/1f/1f15544c22828c6a614cea80ab1e8856.png" /><p>通过滚动浏览LESS，您将能够识别硬件设备。这是硬盘SDA的条目。这是一个10 GB的普通物理硬盘。</p><img class="content_img" src="/image/f1/f1ce6f31183b6632ed55b132e5fa3258.png" /><p>现在我们知道了其中一个硬件设备的身份，我们可以要求fdisk只报告该项目。</p><code>sudo fdisk -l /dev/sda</code><img class="content_img" src="/image/1a/1a122088b0d7579046fa389d3d2ce2c9.png" /><p>我们得到的产量大大缩短了。</p><img class="content_img" src="/image/1a/1a668dbcfaa8aed797a933dbc3af40a8.png" /><p>5./proc文件</p><p>可以查看/proc中的伪文件以获取一些系统信息。我们将查看的文件是/proc/mount，它将为我们提供一些有关已挂载文件系统的信息。我们将使用比CAT更重要的工具来查看文件。</p><code>cat /proc/mounts</code><img class="content_img" src="/image/7a/7ad0c2fd02e984e80b156286dfb45164.png" /><p>清单显示了/dev中的特殊设备文件，该文件用于连接到设备和文件系统树上的挂载点。</p><img class="content_img" src="/image/ec/ecb2ee8a1fb52853d35bb847d53e53a7.png" /><p>我们可以通过使用grep查找其中包含/dev/sd的条目来优化清单。这将过滤掉实体驱动器。</p><code>cat /proc/mounts | grep /dev/sd</code><img class="content_img" src="/image/15/1501659ac4e481fa277803fd8e2bbed2.png" /><p>这给了我们一个更易于管理的报告。</p><img class="content_img" src="/image/48/481d17c93bab5ab52cecb97f42a60ab0.png" /><p>通过使用grep查找具有/dev/sd和/dev/sr特殊设备文件的设备，我们可以稍微提高包容性。这将包括本机的硬盘和CD ROM。</p><code>cat /proc/partitions | grep s[rd]</code><img class="content_img" src="/image/60/6089a53b29ee698883286c042aa6ab6a.png" /><p>现在输出中包括两个设备和一个分区。</p><img class="content_img" src="/image/4f/4f62ab36ccea13fce025d158aa586976.png" /><p>6.lspci命令</p><p>lspci命令列出计算机中的所有PCI设备。</p><code>lspci</code><img class="content_img" src="/image/3f/3f2c45536060fc4064294b2be7ea4ed3.png" /><p>提供的资料如下：</p><p>
插槽：PCI设备所在的插槽。
类别：设备的类别。
供应商名称：制造商的名称。
设备名称：设备的名称。
子系统：子系统供应商名称(如果设备有子系统)。
子系统名称：如果设备有子系统。
修订号：设备的版本号。
编程接口：如果设备提供编程接口，则为编程接口。</p><img class="content_img" src="/image/35/35ac4d5a28c1081a3a9ffa673bc940d4.png" /><p>7.lsusb命令</p><p>lsusb命令将列出连接到计算机上的USB端口的设备以及计算机中内置的支持USB的设备。</p><code>lsusb</code><img class="content_img" src="/image/01/01d8b79a4bc28f2d1a3d1a94dcec03e0.png" /><p>此测试计算机连接了佳能扫描仪(作为USB设备5)和外部USB驱动器(作为USB设备4)。设备3和1是内部USB接口处理程序。</p><img class="content_img" src="/image/40/40e8613c241dea4e080e56670d13b9e6.png" /><p>您可以使用-v(详细)选项接收更详细的清单，使用-vv甚至可以接收更详细的版本。</p><p>8.lsdev命令</p><p>lsdev命令显示所有已安装设备的信息。</p><p>此命令生成大量输出，因此我们将通过较少的管道传递它。</p><code>lsdev | less</code><img class="content_img" src="/image/3e/3eb5d88b3713795fd9b8e1e5e6babf5a.png" /><p>输出中列出了许多硬件设备。</p><img class="content_img" src="/image/d5/d512a2d76c77688d86c4449f36aeba62.png" /><p>9.lshw命令</p><p>lshw命令列出连接到您的计算机的设备。这是另一个具有大量输出的命令。在测试计算机上，生成了260多行信息。我们会再一次用更少的管道把它送过去。</p><p>请注意，您需要结合使用sudo和lshw来充分利用它。如果不这样做，它将无法访问所有设备。</p><code>sudo lshw | less</code><img class="content_img" src="/image/f6/f6d78ad38fb56de0145c96c1bc0b6ccb.png" /><p>以下是带有SCSI接口的CD ROM的条目。如您所见，为每个设备提供的信息都非常详细。lshw从/proc中的各种文件中读取其大部分信息。</p><img class="content_img" src="/image/1e/1e97ae973c3c3875c9e8a1cbd63cf644.png" /><p>如果您想要更短、更详细的输出，可以使用--Short选项。</p><p>10.lsscsi命令</p><p>正如您现在可以想象的那样，lsscsi命令列出了连接到您的计算机的SCSI设备。</p><code>lsscsi</code><img class="content_img" src="/image/96/961a4135ce1d17bfc32f690fa0ed4a9d.png" /><p>以下是连接到此测试机的SCSI设备。</p><img class="content_img" src="/image/e4/e4ffbb7254fca910cf6bb478a58a9568.png" /><p>11.dmidecode命令</p><p>dmidecode命令对桌面管理接口(DMI)表进行解码，并提取与连接到计算机和计算机内部的硬件相关的信息。</p><p>DMI有时也称为SMBIOS(系统管理基本输入/输出系统)，尽管它们实际上是两种不同的标准。</p><p>再说一次，我们会通过更少的管道。</p><code>dmidecode | less</code><img class="content_img" src="/image/9c/9c601c793647f3f0aec19336cc92f522.png" /><p>dmidecode命令可以报告40多种不同的硬件类型。</p><p>12.hwinfo命令</p><p>hwinfo命令是所有命令中最冗长的。当我们说您需要通过较少的管道来传输某些东西时，这一次它不是可选的。在测试计算机上，它生成了5850行输出！</p><p>通过包含--Short选项，您可以轻松地开始工作。</p><code>hwinfo --short</code><img class="content_img" src="/image/51/51877a5b1bd28bf1c578b8affa8356e3.png" /><p>如果您确实需要查看最细粒度的细节，请重复此操作并省略--Short选项。</p><img class="content_img" src="/image/9c/9c8e166573a125e9ac3c7f5e305ea4c2.png" /><p>把它包起来</p><p>因此，这里有十几种方法来调查您的计算机内或连接到您的计算机上的设备。</p><p>无论您对寻找这个硬件有什么特别的兴趣，这个列表中都有一种方法可以让您找到您需要的东西。</p><div class="item_info"><span class="item_key"><a href="/tag/设备/">设备</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14812.html">什么是蓝牙LE Audio，您为什么想要它？</a><li><a href="/story/14791.html">什么是环境计算，它将如何改变我们的生活？</a><li><a href="/story/14621.html">如何在Google Chrome中启用和使用剪贴板共享</a><li><a href="/story/14620.html">Wi-Fi 6E：它是什么，和Wi-Fi 6有什么不同？</a><li><a href="/story/14614.html">如何在Android上校准指南针以提高设备定位精度</a><li><a href="/story/14546.html">如何排除Apple AirPods的常见问题</a><li><a href="/story/14543.html">如何对Mac上的蓝牙问题进行故障排除</a><li><a href="/story/14489.html">什么是智能家居的“基于IP的项目互联家庭”？</a><li><a href="/story/14437.html">如何将任何智能设备连接到HomeKit(使用树莓PI)</a><li><a href="/story/14431.html">如何将Chrome中的内容投射到您的Google主页</a><li><a href="/story/14380.html">提高iPhone和iPad安全性的10个简单步骤</a><li><a href="/story/14354.html">如何在没有iTunes的情况下备份和恢复iPhone或iPad</a><li><a href="/story/14322.html">如何将Apple AirPods Pro与任何设备配对</a><li><a href="/story/14320.html">如何通过AirPods与他人共享音乐</a><li><a href="/story/14242.html">公共充电站有多安全？</a><li><a href="/story/14222.html">如何将您的Android手机降级到以前的版本</a><li><a href="/story/14192.html">如何将Android设备连接到投影仪</a><li><a href="/story/14138.html">新的无线标准：什么是亚马逊人行道？</a><li><a href="/story/14107.html">Wi-Fi与ZigBee和Z-Wave：哪个更好？</a><li><a href="/story/14081.html">如何将应用程序迁移到新的Android设备</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>