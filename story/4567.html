<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux上的“僵尸进程”是什么？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>Linux上的“僵尸进程”是什么？</h2></div><div class="content"><p>如果您是Linux用户，您可能看到过僵尸进程在您的进程列表中摇摇晃晃。您不能杀死僵尸进程，因为它已经死了-就像真正的僵尸一样。</p><p>僵尸基本上是死进程的残留物，没有得到适当的清理。创建僵尸进程的程序没有正确编程-程序不应该让僵尸进程停留在那里。</p><p>什么是僵尸进程？</p><p>要理解什么是僵尸进程以及是什么导致僵尸进程出现，您需要了解进程在Linux上的工作原理。</p><p>当Linux上的进程死亡时，不会立即将其全部从内存中删除-它的进程描述符留在内存中(进程描述符只占用很少的内存)。进程的状态变为EXIT_ZOMBIE，并通过SIGCHLD信号通知进程的父进程其子进程已死亡。然后，父进程应该执行wait()系统调用，以读取死进程的退出状态和其他信息。这允许父进程从死进程获取信息。在调用Wait()之后，僵尸进程将从内存中完全删除。</p><p>这通常发生得非常快，所以您不会看到僵尸进程在您的系统上累积。但是，如果父进程没有正确编程，并且从不调用wait()，那么它的僵尸子进程将留在内存中，直到它们被清除。</p><p>GNOME系统监视器、top命令和ps命令等实用程序显示僵尸进程。</p><img class="content_img" src="/image/90/909aeda26a173df3ed24dd6756bd49be.png" /><p>僵尸进程的危险</p><p>僵尸进程不会耗尽任何系统资源。(实际上，每个进程都使用非常少量的系统内存来存储其进程描述符。)。但是，每个僵尸进程都保留其进程ID(PID)。linux系统的进程ID数量有限-在32位系统上默认为32767。如果僵尸以非常快的速度积累-例如，如果错误编程的服务器软件在负载下创建僵尸进程-整个可用PID池最终将分配给僵尸进程，从而阻止其他进程启动。</p><p>但是，挂起的几个僵尸进程没有问题-尽管它们确实表明您的系统上的父进程有缺陷。</p><img class="content_img" src="/image/6d/6d4994cdd30851242713a421f7e5b76d.png" /><p>清除僵尸进程</p><p>您不能杀死僵尸进程，因为您可以用SIGKILL信号杀死正常进程-僵尸进程已经死了。请记住，除非您的系统上有大量的僵尸进程，否则您不需要清除僵尸进程-一些僵尸进程是无害的。但是，有几种方法可以消除僵尸进程。</p><p>一种方法是向父进程发送SIGCHLD信号。该信号告诉父进程执行wait()系统调用并清理其僵尸子进程。使用kill命令发送信号，将下面命令中的PID替换为父进程的PID：</p><p>但是，如果父进程没有正确编程并忽略SIGCHLD信号，这将没有任何帮助。您必须杀死或关闭僵尸的父进程。当创建僵尸的进程结束时，init继承僵尸进程并成为它们的新父进程。(init是引导时在Linux上启动的第一个进程，并被指定为PID 1。)。init定期执行wait()系统调用来清理其僵尸子对象，因此init将快速处理僵尸。您可以在关闭父进程后重新启动它。</p><p>如果父进程继续创建僵尸，则应该修复它，以便它正确调用Wait()来获取其僵尸子进程。如果您系统上的某个程序一直在创建僵尸，请提交错误报告。</p><div class="item_info"><span class="item_key"><a href="/tag/进程/">进程</a></span><span class="item_key"><a href="/tag/僵尸/">僵尸</a></span><span class="item_key"><a href="/tag/系统/">系统</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14091.html">如何在Linux上运行和控制后台进程</a><li><a href="/story/13312.html">如何从Linux终端杀死进程</a><li><a href="/story/13255.html">如何在Linux上使用NICE和RENICE设置进程优先级</a><li><a href="/story/13233.html">什么是“系统空闲进程”，为什么它使用这么多CPU？</a><li><a href="/story/12976.html">您可以在Mac上的Activity Monitor中安全退出哪些进程？</a><li><a href="/story/12936.html">Windows任务管理器：完整指南</a><li><a href="/story/12123.html">Windows Defender现在提供超级安全沙盒模式，以下是如何打开它</a><li><a href="/story/11538.html">如何辨别哪个应用程序正在使用Mac的网络摄像头</a><li><a href="/story/10731.html">这是什么进程？为什么要在我的PC上运行？</a><li><a href="/story/8062.html">如何在Linux上终止桌面应用程序或后台进程</a><li><a href="/story/7512.html">如何使用Process Explorer暂停或恢复Windows应用程序</a><li><a href="/story/7215.html">如何查看您的计算机正在秘密连接到哪些网站</a><li><a href="/story/6785.html">将工具打包并一起使用</a><li><a href="/story/6758.html">了解进程监视器</a><li><a href="/story/6756.html">了解Process Explorer</a><li><a href="/story/6476.html">如何结束进程并确定其优先级，以使您的Windows PC运行更顺畅</a><li><a href="/story/6156.html">如何在任务管理器失败时终止“无响应”程序</a><li><a href="/story/5980.html">初学者极客：关于使用Windows任务管理器，每个Windows用户都需要知道什么</a><li><a href="/story/5546.html">Android如何管理进程</a><li><a href="/story/5482.html">如何在Windows中从CLI终止进程</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>