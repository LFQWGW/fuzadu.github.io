<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>您家中的所有设备如何以及为什么共享一个IP地址</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>您家中的所有设备如何以及为什么共享一个IP地址</h2></div><div class="content"><img class="content_img" src="/image/41/41420ab444486b6aff2e4b7e8f45ca16.jpg" /><p>如果你像大多数人一样，你的互联网服务提供商给你一个单一的互联网协议地址，你的路由器会在你家里所有连接的设备之间共享它。</p><p>这实际上违反了端到端原则，而互联网正是围绕这一原则而设计的。然而，可以分配的IP地址只有这么多-我们快用完了。</p><p>公有IP地址是有限资源</p><p>可用的IPv4 IP地址不到42亿个。换句话说，地球上连接的设备比它们的唯一公共IP地址还多。互联网上的IPv4地址正在耗尽，尽管我们正在对它们进行配给。</p><p>您的ISP通常会为您分配单个IP地址，而不是您的Internet服务提供商为您家中的每台设备分配唯一的公共IP地址(您每次购买新计算机、平板电脑、智能手机、游戏机或任何其他设备时都需要额外的IP地址)。</p><img class="content_img" src="/image/11/1192f105a8b3e0ee5b93fdb18c0bf128.jpg" /><p>公有IP地址与私有IP地址</p><p>您的路由器直接连接到Internet，并且分配有您的公共IP地址(该地址可能会随着时间的推移而改变)。然后，您的路由器负责在您家中的其他计算机和连接的设备之间共享您的公用IP地址。</p><p>您的路由器为您连接的设备分配本地IP地址。这使得它们可以在您家里的路由器后面相互通信。但是，无法从Internet访问这些本地IP地址。换句话说，您的公共IP地址可能类似于23.24.35.63。Internet上的任何人都可以尝试连接到此地址，他们将访问您的路由器。您的计算机的专用IP地址可能类似于192.168.1.100。当Internet上的某人尝试连接到此地址时，他们的计算机将在其本地网络上查找地址192.168.1.100。</p><p>如果这有点让人困惑，试着想想写字楼。写字楼的地址可能是美国福克镇福克街500号。任何人都可以从世界任何地方向此地址发送邮件-此地址相当于公共地址。写字楼里的办公室可能是“203房间”。与本地IP地址一样，“203号房间”也不是全球唯一的地址--它在许多办公楼中使用。如果你住在世界的另一端，你不能把邮件直接写到203房间。你必须把邮件写在写字楼的地址上。</p><img class="content_img" src="/image/c5/c53278b328e665ebdbc9c7e07ea757c8.png" /><p>网络地址转换(NAT)和端口转发</p><p>当您连接到Internet上的某些内容(例如，网站)时，您的计算机通过您的路由器发送数据包。您的路由器修改数据包，并为路由器上的每个传出连接分配唯一的端口。当网站或其它服务器向您发回数据时，它会将数据发回该特定端口，而您的路由器知道它应该将数据发回发起原始连接的同一设备。这就是路由器如何使用单个IP地址同时处理多台计算机的互联网流量，并知道所有流量应该发往何处。</p><p>但是，在处理未请求的传入流量时，这可能会中断。例如，如果有人试图自行连接到您的路由器的IP地址，则您的路由器不知道应该将该流量发送到何处。您的路由器所能做的就是接收流量并将其丢弃。这实质上意味着您的路由器充当某种防火墙，丢弃未经请求的入站流量。</p><p>如果要接收此传入通信，可以在路由器上设置端口转发。例如，您可以告诉您的路由器，您正在端口25565上的特定本地IP地址上运行一台“我的世界”服务器。当您的路由器在端口25565上接收到连接时，它知道它应该将该流量传递到您指定的本地IP地址。这就是为什么用作服务器并从本地网络外部接收未经请求的入站流量的应用程序需要端口转发。</p><img class="content_img" src="/image/ae/aeb698c4dfc1eab5d64d6d4f53a0b855.jpg" /><p>两种可能的未来</p><p>正如我们上面提到的，尽管实行配给，我们的IPv4IP地址还是快用完了。从长远来看，每台设备都有望拥有自己的IP地址。在短期内，您甚至可能没有一个自己的公共IP地址。</p><p>
每台设备的IPv6地址：IPv4的地址不到42亿个，但IPv6可以提供2128个可能的IP地址。Wolfram Alpha可以帮助我们正确看待这个庞大的数字：即340282366920938463463374607431768211456个不同的IP地址，或者说地球上每个人大约501000000000000000000000000000000个唯一的IP地址。一旦IPv6变得更加普及并取代IPv4，我们就可以在Internet上为每个连接的设备分配一个唯一的IP地址。
运营商级NAT：短期内，一些ISP难以向客户提供IPv4地址。运营商级NAT是一些ISP正在研究的建议解决方案。使用运营商级NAT的ISP将为自己保留其公有IP地址。它将使用NAT(就像您的家庭路由器一样)将本地IP地址分发给其所有客户。客户在互联网上没有自己唯一的公共IP地址，也不能使用需要端口转发或直接连接的服务器软件。</p><img class="content_img" src="/image/77/7763920fad955edb54ba8e0f5c7a77ae.jpg" /><p>互联网从来不是为这么多连接的设备设计的，而采用NAT技术的家庭路由器是我们无需迁移到IPv6就可以连接这么多设备的唯一原因。</p><p>图片来源：Flickr上的马特·J·纽曼(Matt J Newman)，Flickr上的鲍勃·米奇(Bob Mical)，Flickr上的Web仓鼠，Flickr上的Jemimus</p><div class="item_info"><span class="item_key"><a href="/tag/路由器/">路由器</a></span><span class="item_key"><a href="/tag/地址/">地址</a></span><span class="item_key"><a href="/tag/连接/">连接</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14214.html">您的旧路由器是否仍在进行安全更新？</a><li><a href="/story/13847.html">如何保护您的Smarthome免受攻击</a><li><a href="/story/13787.html">如何出厂重置路由器</a><li><a href="/story/13755.html">如何重新启动路由器和调制解调器</a><li><a href="/story/13716.html">将路由器放置在何处以获得最佳Wi-Fi速度</a><li><a href="/story/13641.html">如何检查您的Wi-Fi信号强度</a><li><a href="/story/13493.html">为什么Windows10说您的Wi-Fi网络“不安全”</a><li><a href="/story/12708.html">为什么Wi-Fi频道12、13和14在美国是非法的</a><li><a href="/story/11786.html">解决Wi-Fi问题的最简单方法：(认真)移动路由器</a><li><a href="/story/11589.html">什么是网状Wi-Fi系统，它们是如何工作的？</a><li><a href="/story/11541.html">如何在网桥模式下使用EERO来保持路由器的高级功能</a><li><a href="/story/11532.html">如何按计划自动重启路由器，这是一种简单的方法</a><li><a href="/story/10153.html">如何同时使用您的路由器和ISP的调制解调器/路由器组合</a><li><a href="/story/10152.html">如何启用(和故障排除)对Plex Media Server的远程访问</a><li><a href="/story/9670.html">为什么您应该升级您的路由器(即使您有较旧的小工具)</a><li><a href="/story/9301.html">什么是802.11ac，我需要它吗？</a><li><a href="/story/9272.html">调制解调器和路由器有什么不同？</a><li><a href="/story/9257.html">如何在任何计算机、智能手机或平板电脑上查找路由器的IP地址</a><li><a href="/story/9230.html">如何更改Wi-Fi网络的名称和密码</a><li><a href="/story/9217.html">如何找到您的Wi-Fi密码</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>