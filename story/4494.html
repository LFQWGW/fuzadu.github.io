<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在Linux中“一切都是文件”是什么意思？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>在Linux中“一切都是文件”是什么意思？</h2></div><div class="content"><img class="content_img" src="/image/0e/0ea6e8908cd28a5fba69116714cf6acc.png" /><p>Linux和其他类UNIX操作系统的定义特性之一是“一切都是文件”。这是过于简单化了，但是理解它的含义将帮助您理解Linux是如何工作的。</p><p>Linux上的许多内容出现在您的文件系统中，但它们实际上并不是文件。它们是表示硬件设备、系统信息和其他内容的特殊文件-包括随机数生成器。</p><p>这些特殊文件可能位于伪或虚拟文件系统中，例如/dev和/proc，/dev包含表示设备的特殊文件，/proc包含表示系统和进程信息的特殊文件。</p><p>/进程</p><p>例如，假设您想要查找有关您的CPU的信息。/proc目录包含一个特殊文件/proc/cpuinfo，该文件包含此信息。</p><img class="content_img" src="/image/3f/3f6120b873a96db9ecd2b176f2f260dc.png" /><p>您不需要特殊的命令来告知您的CPU信息-您只需使用任何处理纯文本文件的标准命令即可读取该文件的内容。例如，您可以使用命令cat/proc/cpuinfo将该文件的内容打印到终端-将您的CPU信息打印到终端。您甚至可以在文本编辑器中打开/proc/cpuinfo来查看其内容。</p><p>请记住，/proc/cpuinfo实际上不是包含此信息的文本文件-Linux内核和proc文件系统将此信息作为文件公开给我们。这允许我们使用熟悉的工具来查看和处理信息。</p><img class="content_img" src="/image/46/46a2120b107153655561888272e063d3.png" /><p>/proc目录还包含其他类似的文件，例如：</p><p>
/proc/uptime-公开您的Linux内核的正常运行时间-换句话说，您的系统在没有关闭的情况下已经开启了多长时间。
/proc/version-显示Linux内核的版本。</p><p>/dev</p><p>在/dev目录中，您将找到表示设备的文件，以及表示其他特殊内容的文件。例如，/dev/cdrom是您的CD-ROM驱动器。/dev/sda表示您的第一个硬盘，而/dev/sda1表示您的第一个硬盘上的第一个分区。</p><p>想要挂载您的CD-ROM吗？运行mount命令并指定/dev/cdrom作为要挂载的设备。想要对您的第一个硬盘进行分区吗？运行磁盘分区实用程序，并指定/dev/sda作为要编辑的硬盘。要格式化第一个硬盘上的第一个分区吗？运行格式化命令并告诉它格式化/dev/sda1。</p><img class="content_img" src="/image/e0/e0cb832392c365b67aba6d592cf7c64c.png" /><p>如您所见，将这些设备公开为文件系统的一部分有其优势。文件系统提供一致的“名称空间”，所有应用程序都可以使用该空间来寻址和访问设备。</p><p>/dev/null、/dev/Random和/dev/零</p><p>dev文件系统不仅仅包含表示物理设备的文件。以下是它包含的三个最值得注意的特殊设备：</p><p>
/dev/null-丢弃写入其中的所有数据-将其视为垃圾桶或黑洞。如果您曾经看到一个注释告诉您要将投诉发送到/dev/null-这是一种“把它们扔进垃圾桶”的极客方式。
/dev/Random-使用环境噪波产生随机性。这是一个随机数字生成器，你可以点击它。
/dev/zero-生成零-一个恒定的零流。</p><p>如果您将这三个文件视为文件，您将看不到它们的用处。取而代之的是，把它们看作是工具。</p><p>例如，默认情况下，Linux命令会生成错误消息和其他输出，并将其打印到标准输出(通常是终端)。如果您想运行命令而不关心其输出，可以将该输出重定向到/dev/null。将命令的输出重定向到/dev/null会立即将其丢弃。您可以对任何命令使用此方法，而不是让每个命令实现自己的“安静模式”。</p><img class="content_img" src="/image/1e/1e02a107cd307c018f54a2b7b6e4f9d5.png" /><p>如果您想要一个随机性来源-比方说，用于生成加密密钥，则不需要编写您自己的随机数生成器-您可以使用/dev/Random。</p><p>要通过向硬盘写入0来擦除硬盘的内容，您不需要专门将驱动器清零的特殊实用程序-您可以使用标准实用程序和/dev/零。例如，dd命令从一个位置读取并写入另一个位置。下面的命令将从/dev/zer零读取零，并将它们直接写入系统上的第一个硬盘分区，从而完全擦除其内容。</p><p>(警告：如果您运行此命令，它将擦除第一个分区上的所有数据。仅当您要销毁数据时才运行此命令。)</p><p>澄清 / 净化</p><p>实际上，更准确的说法是“一切都是字节流”，而不是“一切都是文件”。/dev/Random不是文件，但它肯定是字节流。而且，尽管从技术上讲这些东西不是文件，但它们可以在文件系统中访问-文件系统是一个通用的“名称空间”，其中所有内容都是可以访问的。想要访问随机数生成器或直接从设备读取吗？您将在文件系统中找到这两者；不需要其他形式的寻址。</p><p>当然，有些东西实际上不是文件-系统上运行的进程不是文件系统的一部分。“一切都是文件”是不准确的，但很多东西确实表现得像文件。</p><div class="item_info"><span class="item_key"><a href="/tag/dev/">dev</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/11039.html">如何将树莓PI用作Mac的网络时光机驱动器</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>