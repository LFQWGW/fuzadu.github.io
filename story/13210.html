<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何退出Vi或Vim编辑器</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何退出Vi或Vim编辑器</h2></div><div class="content"><img class="content_img" src="/image/76/766d49a5b5ecd6494f9b141e76514b92.png" /><p>如果您不习惯vi编辑器，它会让您感到困惑。如果您无意中进入此应用程序，则需要秘密握手才能逃脱该应用程序。下面介绍如何在Linux、MacOS或任何其他类Unix系统上退出vi或vim。</p><p>快速回答</p><p>如果您在vi或vim中并且需要退出-无论是否保存更改-以下是方法：</p><p>
首先，按几次Esc键。这将确保vi退出插入模式而处于命令模式。
第二，输入：q！然后按回车键。这告诉vi退出而不保存任何更改。(如果您确实要保存更改，请改为键入：wq。)</p><p>如果您想学习Linux命令行，您需要知道更多。继续阅读，我们将向您展示vi是如何工作的，以及为什么退出说明如此不寻常。VI是一个重要而强大的工具，学习曲线是值得的。</p><p>VI，无处不在的编辑</p><p>因为vi无处不在，您很可能会遇到它。您甚至可以意外地发现自己在vi中。也许有人要求您为他们查看他们的Linux计算机。您发出像crontab-e这样的命令，vi就会弹出。令人惊讶的是，有人将crontab的默认编辑器配置为vi。</p><p>可能您正在管理的系统中，vi是唯一的编辑器，或者是唯一可以通过远程SSH会话工作的编辑器，并且您需要编辑用户的.bashrc文件。</p><p>启动vi并打开文件的命令非常简单。键入vi、空格，然后键入文件名。按Enter键。启动的程序可能是vi，也可能是vim，即“改进的vi”。这取决于您的Linux发行版-例如，Ubuntu使用vim。本文中的所有说明都同样适用于VIM。</p><code> vi .bashrc</code><img class="content_img" src="/image/0c/0c27b49397b2479dfb7f13384e808f59.png" /><p>vi和其他编辑器之间最明显的区别是，当vi启动时，您不能只开始输入文本。这是因为vi是一个模态编辑器。编辑在一种模式下执行，即插入模式，发出命令在命令模式下执行。Vii启动到命令模式。</p><p>如果您不熟悉插入模式和命令模式的概念，它可能会令人费解。在命令模式下可以发出的许多命令都会影响您键入的文件。如果您处于命令模式，但错误地尝试将文本键入文件中，则不会有好的结果。您发出的某些击键将被识别为命令。这些命令可能会删除或拆分行、四处移动光标或删除文本。</p><p>而且，无论您键入什么，都找不到退出或退出编辑器的方法。与此同时，您的文件被严重损坏，看似随机的嘟嘟声让您抓狂。</p><img class="content_img" src="/image/39/390e675f5c39a2a53da9666551a529dd.png" /><p>命令模式和插入模式</p><p>您需要将vvi切换到适当的模式，以完成您想要完成的任务。</p><p>命令模式是vi启动时的默认模式。除非你知道得更清楚，否则你会开始尝试打字。如果您碰巧按下‘I’键，或调用插入模式的其他10个键(a、A、c、C、I、O、O、R、S和S)中的任何一个，您会突然看到您正在键入的内容。您现在处于插入模式。</p><p>在您按下其中一个箭头键之前，这可能会让人感觉是在进步。如果这样做，A、B、C或D将显示为空白的新行上的唯一字母。在文件的顶部。</p><p>没事的，我们会支持你的。当您知道如何操作时，这会出人意料地容易。记住这两次击键：Esc带您进入Command模式，“i”带您进入Insert模式。</p><p>您需要处于命令模式，并输入正确的命令才能离开编辑器。</p><p>从指挥模式到安全模式</p><p>要进入命令模式，请按Esc键。任何可见的事情都不会发生。再打几下。如果您在按Esc键时听到嘟嘟声，则您处于命令模式。嘟嘟声告诉您“停止按Esc键，您已经处于命令模式。”如果你按Esc键时听到嘟嘟声，我们就没事了。</p><p>键入冒号、字母“Q”和感叹号，不带任何空格。这三个字符应该出现在终端底行的最左边。如果没有，请按Esc键，直到听到嘟嘟声，然后再试一次。当您可以看到它们时，按Enter键：</p><code>:q!</code><img class="content_img" src="/image/fd/fd4dce600c1c9e5a5c9c7212693654de.png" /><p>在此命令中，q是Quit的缩写。感叹号增加了强调，所以你就像是在喊“放弃！”在vi。这可能会让你感觉好一点。</p><p>感叹号还指示vi不要保存您可能对文件所做的任何更改。如果您一直在vi中笨手笨脚，并且不知道自己在做什么，那么您可能不想保存您造成的破坏。</p><p>一旦您返回到命令行，您可能需要再次检查以确保文件没有被更改。您可以使用以下命令执行此操作：</p><code>cat .bashrc | less</code><img class="content_img" src="/image/16/162000959ad2f7de63bcb72fab1a5f94.png" /><p>当您退出vi时，如果您看到一条消息说“自上次更改以来没有写入”，这意味着您错过了命令中的感叹号。为了防止您退出并丢失您希望保留的任何更改，vi将给您保存这些更改的机会。只需重新发布：Q！命令并放置感叹号以退出vi并放弃任何更改。</p><img class="content_img" src="/image/c4/c4d1c80326c939f0b9805b34fa2a7196.png" /><p>如果确定，请保存您的更改</p><p>如果您对对文件所做的更改感到满意，可以使用：wq(写入并退出)命令退出并保存更改。在继续之前，请确保您完全满意希望将屏幕编辑写入文件。</p><p>键入冒号、字母w(写入)和字母q(退出)。当您可以在终端的左下角看到它们时，按Enter键：</p><code>:wq</code><img class="content_img" src="/image/87/87fa7bf0f818f16e23886fd47f8b7c4e.png" /><p>学习曲线是值得的</p><p>使用vi有点像使用钢琴。你不能就这样坐下来用它，你必须进行一些练习。当你面临编辑某些内容的压力时，冷冰冰地坐下来，试图在匆忙中学习，这不是做这件事的方法。这就像你第一次坐到钢琴前一样有意义，就像你的首场音乐会拉开帷幕一样。</p><p>vi的大部分功能来自它的许多按键组合，每个按键组合执行一个常见的编辑任务。这很好，但是除非你记住它们，练习它们，而且它们是你肌肉记忆的一部分，否则你不会从中受益。</p><p>在此之前，如果您发现自己在vi中查看重要文件，只需：q！然后优雅地退场。你的重要文件会谢谢你的。</p><div class="item_info"><span class="item_key"><a href="/tag/vi/">vi</a></span><span class="item_key"><a href="/tag/模式/">模式</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/3868.html">使用Vi编辑文本文件的初学者指南</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>