<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Ubuntu上查看和写入系统日志文件</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Ubuntu上查看和写入系统日志文件</h2></div><div class="content"><img class="content_img" src="/image/f3/f3a40ed1b58f4243f5f6388e85e87fa8.png" /><p>Linux将大量事件记录到磁盘中，它们大多以纯文本形式存储在/var/log目录中。大多数日志条目都会通过系统日志记录守护进程syslogd，并写入系统日志。</p><p>Ubuntu包括许多查看这些日志的方式，可以是图形方式，也可以是命令行方式。您还可以将自己的日志消息写入系统日志-这在脚本中特别有用。</p><p>以图形方式查看日志</p><p>要使用易于使用的图形应用程序查看日志文件，请从仪表盘打开日志文件查看器应用程序。</p><img class="content_img" src="/image/9b/9b832cec924ce573d96b4d511da035f6.png" /><p>日志文件查看器默认显示许多日志，包括系统日志(Syslog)、包管理器日志(dpkg.log)、身份验证日志(auth.log)和图形服务器日志(Xorg.0.log)。您可以在单个窗口中查看所有日志-当添加新的日志事件时，它将自动出现在窗口中并以粗体显示。您还可以按Ctrl+F搜索日志消息，或使用Filters菜单过滤日志。</p><img class="content_img" src="/image/49/499520b518a0f7dd9fbeca1fc59103c1.png" /><p>如果您有其他要查看的日志文件(例如，特定应用程序的日志文件)，可以单击文件菜单，选择打开，然后打开该日志文件。它将与列表中的其他日志文件一起显示，并将像其他日志一样受到监视和自动更新。</p><img class="content_img" src="/image/eb/ebada58eec6d1f7f52e0d716364fc280.png" /><p>正在写入系统日志</p><p>记录器实用程序允许您使用单个简单的命令将消息快速写入系统日志。例如，要将消息Hello World写入系统日志，请使用以下命令：</p><img class="content_img" src="/image/67/679b744de8388c84c75619f48395f425.png" /><p>您可能还希望指定其他信息-例如，如果在脚本中使用LOGGER命令，则可能需要包括脚本的名称：</p><img class="content_img" src="/image/4f/4f22096efc506352f405e3124be5de03.png" /><p>查看终端中的日志</p><p>dmesg命令显示存储在内存中的Linux内核的消息缓冲区。运行此命令，您将获得大量输出。</p><img class="content_img" src="/image/1f/1f90fbeb0f14cb7a991f78cd9462e130.png" /><p>要过滤此输出并搜索您感兴趣的消息，可以通过管道将其传递给grep：</p><p>您还可以通过管道将dmesg命令的输出传递给LESS，这允许您以自己的速度滚动消息。要退出更少，请按Q键。</p><img class="content_img" src="/image/7c/7c13ec2f35ae21391519d2dc6af4f8b0.png" /><p>如果grep搜索生成大量结果，您也可以通过管道将其输出减少：</p><p>除了在任何文本编辑器中打开/var/log中的日志文件外，您还可以使用cat命令将日志(或任何其他文件)的内容打印到终端：</p><p>与上面的dmesg命令一样，这将产生大量输出。您可以使用grep和LESS命令来处理输出：</p><p>其他有用的命令包括HEAD和Tail命令。HEAD打印文件中的前n行，而Tail打印文件中的最后n行-如果您希望查看最近的日志消息，则Tail命令特别有用。</p><img class="content_img" src="/image/56/56253d2f7779251afa2824880b6a9309.png" /><p>有些应用程序可能不会写入系统日志，而可能会生成它们自己的日志文件，您可以用同样的方式操作这些文件-您通常也会在/var/log目录中找到它们。例如，Apache Web服务器创建一个包含其日志的/var/log/apache2目录。</p><div class="item_info"><span class="item_key"><a href="/tag/日志/">日志</a></span><span class="item_key"><a href="/tag/命令/">命令</a></span><span class="item_key"><a href="/tag/消息/">消息</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/5382.html">如何在装有PowerShell的Windows上实现类似尾巴的功能</a><li><a href="/story/3212.html">如何创建您自己的Windows事件日志通知系统</a><li><a href="/story/952.html">在查看系统日志时修复“事件查看器无法打开事件日志”</a><li><a href="/story/949.html">修复Windows XP上的“事件日志已满”错误</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>