<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用Wireshark识别网络滥用</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用Wireshark识别网络滥用</h2></div><div class="content"><img class="content_img" src="/image/0d/0d551e599b7634e45c5ab0dda7ffb35d.png" /><p>Wireshark是网络分析工具中的瑞士军刀。无论您是在寻找网络上的点对点流量，还是只想查看某个特定的IP地址正在访问哪些网站，Wireshark都可以为您工作。</p><p>我们之前已经介绍了Wireshark.)，这篇文章是在我们之前的文章的基础上发展起来的。请记住，您必须在网络上可以看到足够网络流量的位置进行捕获。如果您在本地工作站上进行捕获，则很可能看不到网络上的大部分流量。Wireshark可以从远程位置进行捕获-有关这方面的更多信息，请查看我们的Wireshark技巧帖子。</p><p>识别对等流量</p><p>Wireshark的协议列显示每个数据包的协议类型。如果您正在查看Wireshark捕获，您可能会看到BitTorrent或其他点对点流量潜伏在其中。</p><img class="content_img" src="/image/01/01e4cd40440a2271b4fb16d913774cd0.png" /><p>您可以从位于Statistics(统计信息)菜单下的Protocol Hierarchy(协议层次结构)工具中查看您的网络上正在使用哪些协议。</p><img class="content_img" src="/image/28/28ab794cbd15058ded3fe2dcb059b815.png" /><p>此窗口显示按协议划分的网络使用情况。从这里我们可以看到，网络上近5%的数据包都是BitTorrent数据包。这听起来不是很多，但BitTorrent也使用UDP数据包。归类为UDP数据包的近25%的数据包在这里也是BitTorrent流量。</p><img class="content_img" src="/image/2d/2d580f545eaab2af69d5a95f408c60b4.png" /><p>通过右键单击协议并将其作为过滤器应用，我们可以仅查看BitTorrent数据包。您可以对可能存在的其他类型的对等流量执行相同的操作，例如Gnutella、eDonkey或SoulSeek。</p><img class="content_img" src="/image/83/83e974ac1bd7f2891861c5c0d9e1bd35.png" /><p>使用应用过滤器选项应用过滤器“BitTorrent”。您可以跳过右键单击菜单，通过在过滤器框中直接键入协议的名称来查看协议的通信量。</p><p>从过滤后的流量中，我们可以看到本地IP地址192.168.1.64正在使用BitTorrent。</p><img class="content_img" src="/image/03/030561ec78a1e3c7ec887deb0cae1235.png" /><p>要使用BitTorrent查看所有IP地址，我们可以在“统计信息”菜单中选择“端点”。</p><img class="content_img" src="/image/d8/d82b5bf6d302b29c366abcb4fd8be9b0.png" /><p>单击IPv4选项卡并启用“Limit to display filter”复选框。您将看到与BitTorrent流量相关联的远程和本地IP地址。本地IP地址应显示在列表顶部。</p><img class="content_img" src="/image/e0/e025ba156170ae2b5ad90824f8cb0f79.png" /><p>如果要查看Wireshark支持的不同协议类型及其过滤器名称，请选择分析菜单下的启用协议。</p><img class="content_img" src="/image/61/617e5a13298f885aee905c6d43869460.png" /><p>您可以在已启用的协议窗口中开始键入协议进行搜索。</p><img class="content_img" src="/image/f3/f371448c4671dd584722b29576c8f0b0.png" /><p>监控网站访问</p><p>现在我们知道了如何按协议分解通信量，我们可以在过滤器框中键入“http”，以仅看到HTTP通信量。选中“启用网络名称解析”选项后，我们将看到网络上正在访问的主要网站的名称。</p><img class="content_img" src="/image/6d/6d081ae31f056c523625b6215f05db90.png" /><p>同样，我们可以使用“统计”菜单中的“端点”选项。</p><img class="content_img" src="/image/89/89d7507226cca11f790c806a68e72d75.png" /><p>单击IPv4选项卡并再次启用“Limit to display filter”复选框。您还应该确保启用了“名称解析”复选框，否则您将只能看到IP地址。</p><p>从这里，我们可以看到正在访问的网站。托管其他网站上使用的脚本的广告网络和第三方网站也将出现在名单中。</p><img class="content_img" src="/image/60/60683e38a17f019c2912526a345d5317.png" /><p>如果我们想要按特定的IP地址细分，以查看单个IP地址正在浏览什么，我们也可以这样做。使用组合筛选器http和ip.addr==[IP地址]查看与特定IP地址关联的HTTP流量。</p><img class="content_img" src="/image/c0/c0f5c09f341047ce3e9d1567d5e674cf.png" /><p>再次打开Endpoint对话框，您将看到该特定IP地址正在访问的所有网站的列表。</p><img class="content_img" src="/image/c8/c81c9f3195d1e5dd02b3d8b8c94f5b63.png" /><p>这一切都只是触及了使用Wireshark所能做的事情的皮毛。您可以构建更高级的过滤器，甚至可以使用我们的新Wireshark技巧帖子中的防火墙ACL规则工具轻松阻止您在此处找到的流量类型。</p><div class="item_info"><span class="item_key"><a href="/tag/协议/">协议</a></span><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/wireshark/">wireshark</a></span></div></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>