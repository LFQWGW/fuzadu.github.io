<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>计算机如何生成随机数</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>计算机如何生成随机数</h2></div><div class="content"><img class="content_img" src="/image/68/68b4a071a4dee24cf39c538ba213616e.jpg" /><p>从密码学到电子游戏和赌博，计算机都会生成随机数。有两类随机数--“真”随机数和伪随机数--差别对于加密系统的安全性很重要。</p><p>计算机可以通过观察一些外部数据，如鼠标移动或风扇噪音(这是不可预测的)，并根据这些数据创建数据，从而产生真正的随机数字。这就是所谓的熵。其他时候，他们使用一种算法生成“伪随机”数，这样结果就看起来是随机的，即使它们不是随机的。</p><p>这一话题最近变得更具争议性，许多人质疑英特尔内置的硬件随机数发生器芯片是否值得信赖。要理解为什么它可能不值得信任，您必须首先了解随机数是如何生成的，以及它们的用途。</p><p>随机数的用途是什么？</p><p>随机数已经被使用了几千年。无论是掷硬币还是掷骰子，目标都是把最终结果交由随机机会决定。计算机中的随机数生成器与此类似--它们试图实现不可预测的随机结果。</p><p>相关：什么是加密，它是如何工作的？</p><p>随机数生成器可用于许多不同的目的。除了明显的应用，比如为赌博目的生成随机数，或者在电脑游戏中产生不可预测的结果，随机性对于密码学来说很重要。</p><p>密码学需要攻击者猜不到的数字。我们不能一而再、再而三地使用相同的数字。我们希望以一种非常不可预测的方式生成这些数字，这样攻击者就无法猜到它们。这些随机数对于安全加密至关重要，无论您是在加密您自己的文件，还是仅仅使用Internet上的HTTPS网站。</p><img class="content_img" src="/image/21/21fdc666f8befed817881da63aa22f88.jpg" /><p>真随机数</p><p>您可能想知道计算机是如何实际生成随机数的。这种“随机性”从何而来？如果这只是一段计算机代码，难道计算机产生的数字不可能是可预测的吗？</p><p>我们通常将计算机生成的随机数分成两类，具体取决于它们是如何生成的：“真”随机数和伪随机数。</p><p>为了产生一个“真实的”随机数，计算机测量发生在计算机之外的某种物理现象。例如，计算机可以测量原子的放射性衰变。根据量子理论，没有办法确切知道何时会发生放射性衰变，所以这本质上是宇宙中的“纯粹随机性”。攻击者无法预测何时会发生放射性衰变，因此他们不会知道随机值。</p><p>举一个更日常的例子，计算机可以依赖于大气噪音，或者简单地使用你在键盘上按键的准确时间作为不可预测的数据或熵的来源。例如，您的计算机可能会注意到您在下午2点过后0.23423523秒正好按了一个键。抓取足够的与这些按键相关的特定时间，您就有了可以用来生成“真正的”随机数的熵源。您不是一台可预测的机器，所以攻击者无法猜测您按下这些键的确切时刻。Linux上生成随机数的/dev/Random设备会“阻塞”，直到它收集到足够的熵来返回一个真正的随机数时才返回结果。</p><img class="content_img" src="/image/22/229a1fc4e0dd24c32a1e10b9b07732d9.png" /><p>伪随机数</p><p>伪随机数是“真”随机数的替代。计算机可以使用种子值和算法来生成看似随机但实际上是可预测的数字。计算机不会从环境中收集任何随机数据。</p><p>这并不一定在所有情况下都是坏事。例如，如果您正在玩视频游戏，那么该游戏中发生的事件是由“真实”随机数还是伪随机数引起的并不重要。另一方面，如果您使用的是加密，则不希望使用攻击者可能猜到的伪随机数。</p><p>例如，假设攻击者知道伪随机数生成器使用的算法和种子值。假设加密算法从该算法获得一个伪随机数，并使用它来生成加密密钥，而不增加任何额外的随机性。如果攻击者知道的足够多，他们就可以向后工作，确定加密算法在这种情况下必须选择的伪随机数，从而破解加密。</p><img class="content_img" src="/image/87/87ee09dca1a22e50af32e053a672d6ab.jpg" /><p>美国国家安全局和英特尔的硬件随机数发生器</p><p>为了简化开发人员的工作，并帮助生成安全的随机数，英特尔芯片包括一个基于硬件的随机数生成器，称为RdRand。该芯片使用处理器上的熵源，并在软件请求随机数时将其提供给软件。</p><p>这里的问题是，随机数生成器本质上是一个黑匣子，我们不知道里面发生了什么。如果RdRand包含NSA后门，政府将能够破解仅使用该随机数生成器提供的数据生成的加密密钥。</p><p>这是一个严重的问题。2013年12月，FreeBSD的开发者取消了对直接使用RdRand作为随机性来源的支持，称他们不能信任它。[来源]RdRand设备的输出将被提供给另一个算法，该算法增加了额外的熵，确保随机数生成器中的任何后门都不会有问题。Linux已经以这种方式工作，进一步将来自RdRand的随机数据随机化，即使有后门也无法预测。[来源]在Reddit最近的一次AMA(“问我任何问题”)中，英特尔首席执行官Brian Krzanich没有回答有关这些担忧的问题。[来源]</p><p>当然，这可能不仅仅是英特尔芯片的问题。FreeBSD的开发者也点名说出了威盛的芯片。这场争论表明，为什么产生真正随机且不可预测的随机数是如此重要。</p><img class="content_img" src="/image/19/19e8fae225c16347d1045391178c5647.jpg" /><p>为了生成“真正的”随机数，随机数生成器从他们周围的物理世界收集“熵”，或看似随机的数据。对于不需要是随机的随机数，它们可能只使用算法和种子值。</p><p>图片来源：Flickr上的rekre89，Flickr上的丽莎·布鲁斯特(Lisa Brewster)，Flickr上的瑞安·索玛(Ryan Somma)，Flickr上的黄家辉</p><div class="item_info"><span class="item_key"><a href="/tag/随机数/">随机数</a></span><span class="item_key"><a href="/tag/生成/">生成</a></span><span class="item_key"><a href="/tag/计算机/">计算机</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14263.html">如何在Google Sheets中生成随机数</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>