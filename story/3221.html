<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>是什么导致了“从Internet下载的文件”警告？如何才能轻松地将其删除？</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>是什么导致了“从Internet下载的文件”警告？如何才能轻松地将其删除？</h2></div><div class="content"><img class="content_img" src="/image/3b/3b2080e4c6932146ac93ee0ea10c698a.png" /><p>每当您通过浏览器将任何文件下载到硬盘时，Windows都会自动将其标记为来自Internet并具有潜在危险。因此，当您打开相应的文件时，Windows会根据类型向您发出警告，或者在您将其标记为安全之前阻止该文件完全执行。</p><p>您是否想过Windows如何跟踪这些文件上的此标记，如何轻松(批量)删除您知道安全的文件上的此标记，和/或将此标记(以及它带来的保护)添加到任何文件中？</p><p>Windows在哪里跟踪从Internet下载的状态？</p><p>考虑以下两个文件，这两个文件都是下载的Microsoft XML记事本2007安装文件的副本。虽然每个中的名称不同(数字1和2附加在末尾)，但您可以看到它们完全相同，通过它们的MD5散列进行了验证。</p><img class="content_img" src="/image/bd/bd03bf0ae3542bc386766c234ecb77f6.png" /><p>但是，当运行以1结尾的文件时，我们会看到以下对话框，适当地警告我们运行从Internet下载的文件可能是危险的，而运行以2结尾的文件不会显示此警告，即使它也是从Internet下载的。正如我们在上面看到的，这些文件是相同的，那么为什么只有一个副本显示此警告呢？</p><img class="content_img" src="/image/c4/c431740f0427a28866e53962a810e406.png" /><p>这是因为文件1具有名为“Zone.Identifier”的备用数据流(ADS)，该数据流存储有关文件来自何处的信息，而文件2没有(因为该ADS已被删除，我们将在下面介绍)。</p><p>使用Sysinterals Streams实用程序(我们将其复制到C：\WINDOWS目录)，我们可以看到XmlNotepad1.msi包含具有26字节数据的单个ADS，而XmlNotepad2.msi没有任何ADS。基本上，Windows根据ADS中标题为“Zone.Identifier”的数据知道文件来自Internet。</p><img class="content_img" src="/image/b7/b70a701142ab9c87cd9f6c8a1dc081b0.png" /><p>或者，您可以使用以下命令标识ADS：</p><img class="content_img" src="/image/63/637a701cc0ced879490e17b1c48722ab.png" /><p>如何从Internet状态中删除下载的内容？</p><p>需要注意的是，这是一个适当的警告(原因很明显)，Windows会正确地“双重检查”或完全阻止具有此状态的文件。但是，如果您知道有问题的文件是安全的，有几种方法可以处理删除状态标志，您可以手动(逐个文件)或在目录中的每个文件上批量删除它。</p><p>手动删除</p><p>上面我们展示了如何使用命令行检测这个特殊的ADS标志，但是您可以通过查看各个文件的属性轻松地查看和删除此状态。当文件被标记为从Internet下载时，“常规”选项卡底部会出现安全警告。</p><p>单击取消阻止按钮将从Internet状态标志中删除已下载的内容(即删除“Zone.Identifier”广告)以及与其相关的任何警告和/或阻止。</p><img class="content_img" src="/image/ab/ab0bdd1c24a2b4c21d35d4b9c5a66250.png" /><p>批量删除</p><p>另一方面，如果您有很多想要删除此状态标志的文件，则可以使用上面使用的STREAMS实用程序轻松完成此操作(同样，我们将此文件复制到C：\WINDOWS目录)。</p><p>在文件所在的目录中打开命令提示符。一种快捷方式是按住Shift键，右键单击文件夹中的空白区域，然后选择“在此处打开命令窗口”。</p><img class="content_img" src="/image/79/799ddb90ea33b3062fb3ab796fc19898.png" /><p>在命令提示符下设置目录后，运行：</p><p>或者，如果要在当前命令提示符位置以外的文件夹中运行此命令，则可以输入完整的目录路径，而不是句点。</p><p>此命令将删除当前目录及其子文件夹中任何文件上的所有ADS(不仅仅是Zone.Identifier)。在我们的案例中，我们有2个包含ADS数据的文件，这两个文件都被删除了。如果您有很多想要删除此状态的文件，此命令确实可以为您节省一些时间。</p><img class="content_img" src="/image/f4/f46f611c271f5659e128be831ab41edd.png" /><p>如何将从Internet状态下载的内容添加到任何文件？</p><p>关于此标志的一个有趣事实是，存储在“Zone.Identifier”广告中的文本数据对于每个文件都是相同的。因此，您可以将带有此文本的名为“Zone.Identifier”的ADS添加到任何文件，Windows将自动应用附加的安全措施。</p><p>例如，如果要将从Internet状态下载的内容添加回XmlNotepad1.msi文件，则过程很简单。</p><p>运行命令：</p><img class="content_img" src="/image/a2/a26e149becf19fcbeb0d59d91a8f2171.png" /><p>因为此广告不存在，Windows将询问我们是否要创建它。回答是“是”。</p><img class="content_img" src="/image/b0/b0b9a355b480430d340bcad42bbaa879.png" /><p>在记事本中，输入完全相同的文本：</p><p>保存更改并关闭记事本。</p><img class="content_img" src="/image/db/dbb3d784825b2ab8fbb4e9e0367c175e.png" /><p>现在，每当您运行XmlNotepad1.msi或查看其属性时，前面的警告都会生效。</p><p>同样，您可以对任何文件执行此操作：MP3、DOC、CHM等，Windows会将其视为不受信任的文件，直到相应的标志被删除。</p><p></p><p>从Microsoft下载流</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/删除/">删除</a></span><span class="item_key"><a href="/tag/windows/">windows</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>