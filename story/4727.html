<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在VirtualBox或VMware中放大虚拟机磁盘</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在VirtualBox或VMware中放大虚拟机磁盘</h2></div><div class="content"><p>在VirtualBox或VMware中创建虚拟硬盘时，需要指定最大磁盘大小。如果您稍后需要虚拟机硬盘上的更多空间，则必须扩大虚拟硬盘和分区。</p><p>请注意，在执行这些操作之前，您可能希望备份虚拟硬盘文件--总有可能出现问题，因此最好有备份。然而，这个过程对我们来说运行得很好。</p><p>更新：使用VirtualBox中的虚拟媒体管理器</p><p>VirtualBox 6添加了用于扩大虚拟磁盘和调整虚拟磁盘大小的图形选项。要访问它，请在VirtualBox主窗口中单击文件&gt;虚拟媒体管理器。</p><img class="content_img" src="/image/f3/f3d942488fb22874305af64b58a2127a.png" /><p>在列表中选择一个虚拟硬盘，然后使用窗口底部的“大小”滑块更改其大小。完成后，单击“应用”。</p><p>您仍必须扩大磁盘上的分区才能利用额外空间。即使磁盘大小增加，分区也保持不变。有关扩大分区的详细信息，请参阅下面的说明。</p><img class="content_img" src="/image/af/afa78fe2bf4d9d286638e89999e69bf3.png" /><p>在VirtualBox中放大虚拟磁盘</p><p>要放大VirtualBox中的虚拟磁盘，您需要从命令提示符窗口使用VBoxManage命令。首先，关闭虚拟机-确保其状态设置为关闭，而不是保存。</p><p>(在继续之前，如果您使用VirtualBox中的快照功能，还应删除与虚拟机关联的所有快照。这将确保您修改的是正确的虚拟磁盘文件，并且之后一切都将正常工作。)</p><img class="content_img" src="/image/2d/2da364dc695d17b7fbeebcdbd7bd54f8.png" /><p>其次，从开始菜单打开命令提示符窗口，并切换到VirtualBox的程序文件文件夹，以便可以运行命令：</p><img class="content_img" src="/image/31/31b7d0a60b4df851a9203082d4c306fa.png" /><p>以下命令将在位于“C：\Users\Chris\VirtualBox VM\Windows 7\Windows 7.vdi”的VirtualBox虚拟磁盘上操作。它会将虚拟磁盘大小调整为81920 MB(80 GB)。</p><code>VBoxManage modifyhd “C:\Users\Chris\VirtualBox VMs\Windows 7\Windows 7.vdi” --resize 81920</code><p>(在上面的命令中调整大小之前使用两个破折号。)</p><p>将上面命令中的文件路径替换为要调整大小的VirtualBox磁盘的位置，以及要将映像放大到的大小(MB)的数字。</p><p>更新：在2019年发布的VirtualBox 6.0中，您可能需要使用以下命令：</p><code>VBoxManage modifymedium disk “C:\Users\Chris\VirtualBox VMs\Windows 7\Windows 7.vdi” --resize 81920</code><img class="content_img" src="/image/54/54e518b84d9367cf61e299c9e3acf7f3.png" /><p>请注意，此过程不会扩大虚拟硬盘上的分区，因此您还无法访问新空间-有关详细信息，请参阅下面的扩大虚拟机分区部分。</p><p>在VMware中放大虚拟磁盘</p><p>要在VMware中放大虚拟机的硬盘，请关闭虚拟机的电源，右键单击它，然后选择虚拟机设置。</p><img class="content_img" src="/image/38/38ee2049340bf882e9bd1d95420edbd4.png" /><p>在列表中选择虚拟硬盘设备，单击实用程序按钮，然后单击展开以展开硬盘。</p><img class="content_img" src="/image/f7/f73dd66e073962c50d4199cfc4ab1ffa.png" /><p>输入更大的最大磁盘大小，然后单击展开按钮。VMware将增加虚拟磁盘的大小，但其分区将保持不变-有关扩大分区的信息，请参阅下面的内容。</p><img class="content_img" src="/image/99/99b8af7fc8515b35ffd02d0b3970635e.png" /><p>扩大虚拟机的分区</p><p>现在您有了一个更大的虚拟硬盘。但是，您的虚拟硬盘上的操作系统分区大小相同，因此您还无法访问其中的任何空间。</p><img class="content_img" src="/image/e6/e63b6779d39fe995e24f6aac00431d4b.png" /><p>现在，您需要扩展来宾操作系统的分区，就像在物理计算机中的实际硬盘上扩大分区一样。不能在来宾操作系统运行时放大分区，就像在计算机上运行Windows时不能放大C：\分区一样。</p><p>您可以使用GParted live CD来调整虚拟机分区的大小-只需在虚拟机中引导GParted ISO映像，您就会进入活动Linux环境中的GParted分区编辑器。GParted将能够扩大虚拟硬盘上的分区。</p><p>首先，从这里下载GParted live CD的ISO文件。</p><p>通过进入虚拟机的设置窗口，选择虚拟光驱，然后浏览到计算机上的ISO文件，将ISO文件加载到虚拟机中。</p><img class="content_img" src="/image/29/292b22c75ff747a57c5d424b1e376693.png" /><p>插入ISO映像后启动(或重新启动)虚拟机，虚拟机将从ISO映像启动。GParted的live CD在引导时会问您几个问题-您可以按Enter键跳过默认选项。</p><p>引导GParted后，右键单击要放大的分区，然后选择调整大小/移动。</p><img class="content_img" src="/image/3a/3aa9a6bcbcc930cf5cd68ab0345898d5.png" /><p>指定分区的新大小-例如，将滑块一直拖到右侧以使用分区的所有可用空间。指定要使用的空间后，单击调整大小/移动按钮。</p><img class="content_img" src="/image/b9/b91efe7dbdf28aff40a9ef33e284bf35.png" /><p>最后，单击Apply按钮应用您的更改并放大分区。</p><img class="content_img" src="/image/db/db19ac75ba17f9fd53e85bc15bf8d050.png" /><p>调整大小操作完成后，重新启动虚拟机并删除GParted ISO文件。Windows将检查虚拟机中的文件系统以确保其正常工作-不要中断此检查。</p><img class="content_img" src="/image/a6/a6062edc7b321725b3bb5fffc17e0d4f.png" /><p>虚拟机的分区现在将占用整个虚拟硬盘，因此您可以访问额外的空间。</p><p>请注意，有更简单的方法可以获得更多存储空间-您可以从虚拟机的设置窗口向虚拟机添加第二个虚拟硬盘。您可以在单独的分区上访问其他硬盘的内容-例如，如果您使用的是Windows虚拟机，则可以在虚拟机内的不同驱动器号访问其他虚拟硬盘。</p><div class="item_info"><span class="item_key"><a href="/tag/分区/">分区</a></span><span class="item_key"><a href="/tag/virtualbox/">virtualbox</a></span><span class="item_key"><a href="/tag/虚拟/">虚拟</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14139.html">如何将Linux主目录移动到另一个驱动器</a><li><a href="/story/11098.html">如何对OneNote笔记本和分区进行密码保护</a><li><a href="/story/10801.html">如何通过重新对齐固态硬盘分区来加快其速度</a><li><a href="/story/10779.html">Android Nougat的“无缝更新”，解释</a><li><a href="/story/9775.html">如何检查磁盘使用的是GPT还是MBR，并在两者之间进行转换</a><li><a href="/story/9335.html">如何将多个分区合并为单个分区</a><li><a href="/story/8290.html">如何在Windows中从驱动器中删除EFI系统分区或GPT保护分区</a><li><a href="/story/8144.html">如何使用Mac的磁盘实用程序对驱动器进行分区、擦除、修复、恢复和复制</a><li><a href="/story/8096.html">如何在Ubuntu上使用LVM轻松调整分区大小和快照</a><li><a href="/story/7128.html">什么是系统保留分区，您能将其删除吗？</a><li><a href="/story/7126.html">Windows 8是否必须安装在NTFS分区上？</a><li><a href="/story/6944.html">如何通过Boot Camp在Mac OS X和Windows之间共享文件</a><li><a href="/story/6879.html">了解使用磁盘管理进行硬盘分区</a><li><a href="/story/6719.html">初学者极客：硬盘分区讲解</a><li><a href="/story/6483.html">如何双引导Windows和SteamOS</a><li><a href="/story/6113.html">如何为Windows创建单独的数据分区</a><li><a href="/story/6025.html">如何在Windows下回收Raspberg PI的SD卡的全部容量</a><li><a href="/story/5902.html">如何修复Linux上的“警告：重新读取分区表失败，错误22：无效参数”错误</a><li><a href="/story/5341.html">删除PC的恢复分区并控制硬盘</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>