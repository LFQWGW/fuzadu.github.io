<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何将树莓PI变成永远在线的BitTorrent Box</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何将树莓PI变成永远在线的BitTorrent Box</h2></div><div class="content"><img class="content_img" src="/image/87/87c727a362dbda817d3f10d159395c78.jpg" /><p>为你的BitTorrent客户端配备一台专用机器是理想的，这样你就可以全天候播种。但是，如此频繁地让一台完整的钻机通电并在线是一件非常耗能的事情。输入树莓PI。</p><p>相关：如何使用极客指南来测量您的能源使用</p><p>大多数智能台式PC都会消耗相当多的能源-例如，我们朴素的家庭办公室服务器每年消耗近200美元的电力。另一方面，红莓Pi则是围绕移动处理器建造的，像蜂鸟一样啜饮能量。核心的树莓派电路板每年消耗的能源不到3美元，即使加上几个外部硬盘驱动器，你每年的运营成本仍然不到一个汉堡和薯条。</p><p>此外，说到下载Torrent，永远开机的机器是王道。对于torrent，你监控的云越多，你在追踪器上的比例就越高(即使你是从公共追踪器那里获取信息，当那些稀有的文件出现时，一台始终在线的机器也能确保你在那里)。</p><p>如果这听起来不错，请继续阅读，我们将向您展示如何将PI转换为完全远程控制的下载机。</p><p>您需要什么？</p><img class="content_img" src="/image/1d/1dd43d1c9464874789959c584f37a7e2.jpg" /><p>对于本教程，我们假设您安装了一台安装了Raspbian的Raspberry PI设备，能够通过连接的显示器和键盘直接访问该设备，或者通过SSH和VNC远程访问该设备，并且您还连接了一个(或多个)外部USB驱动器。如果您需要了解这些领域的最新情况，我们强烈建议您按此处列出的顺序阅读以下指南：</p><p>
关于开始使用树莓派你需要知道的一切。
如何为远程外壳、桌面和文件传输配置Raspberry PI。
如何将树莓PI改造成低功耗的网络存储设备</p><p>第一个教程中的所有内容都是必需的。第二个教程是可选的(但是远程访问对于这个项目来说非常方便，因为下载盒是无头构建的完美候选者)，第三个教程最重要的部分只是设置硬盘驱动器并将其配置为在引导时自动挂载(如第三个指南中所述)。</p><p>相关：如何匿名和加密您的BitTorrent流量</p><p>此外，如果您不太熟悉设置匿名下载的BitTorrent客户端的细节，您应该仔细阅读一下。为了安全地使用BitTorrent，您绝对需要某种匿名代理或VPN系统。该指南中提到的代理既便宜又简单，但好的VPN通常更快、更多功能，所以如果您想要VPN，请查看本指南。</p><p>一旦您检查了所有材料并配置了PI，就可以开始着手将您的PI转换为静默和超低功耗的下载野兽了。</p><p>第一步：在Raspbian上安装Fulge</p><img class="content_img" src="/image/28/285c2b1fa9c8eb8718fea524b0119db7.jpg" /><p>有几个Linux的BitTorrent客户端值得考虑，但我们建议使用洪水。这正是功能和占用空间的恰当平衡，这样你就不会发现自己在一个月后希望自己安装了功能更强大的东西。</p><p>您可以通过多种方式配置Fulge，但并不是所有的配置都适合这个无头PI下载盒。虽然大多数人像任何其他应用程序一样在桌面上使用他们的Torrent客户端，但这并不能很好地满足我们的目的，因为这意味着每次你想要与Torrent互动时，你都必须通过远程桌面登录到框中，并摆弄桌面客户端。它浪费您的时间，浪费PI上的资源。</p><p>您可以运行Deluge WebUI，它允许您从另一台计算机上的浏览器访问Deluge客户端。这仍然不是我们的首选，尽管它确实为你打开了使用智能手机应用程序查看和控制洪水的潜力(稍后将详细介绍)。</p><p>我们建议在远程计算机上配置泛洪以接受ThinClient连接。通过这种方式，我们可以在另一台计算机(无论是Windows、Linux还是OS X机器)上使用实际的洪水桌面客户端来控制Raspberry PI洪水安装。您可以在实际桌面上获得桌面客户端的所有优势，而所有操作都发生在远程计算机上。</p><p>如果您不能在这两个选项中做出选择，您实际上可以同时使用这两个选项，尽管设置时间会稍长一些。只需按照下面两节中的说明操作即可。</p><p>选项一：为ThinClient访问设置泛洪</p><p>在您可以执行任何操作之前，请花点时间更新和升级您的存储库。打开终端并依次运行以下两个命令：</p><code>sudo apt-get update sudo apt-get upgrade</code><p>一旦完成，就可以开始安装ThinClient安装所需的组件了。输入以下命令：</p><code>sudo apt-get install deluged sudo apt-get install deluge-console</code><p>这将下载Deluge守护程序和控制台安装包并运行它们。当提示是否继续时，键入Y。在FREUGE完成安装后，您需要运行FREUGE守护程序。输入以下命令：</p><code>deluged sudo pkill deluged</code><p>这将启动deuge守护进程(创建一个配置文件)，然后关闭该守护进程。我们将编辑该配置文件，然后重新启动它。键入以下命令以首先备份原始配置文件，然后将其打开进行编辑：</p><code>cp ~/.config/deluge/auth ~/.config/deluge/auth.old nano ~/.config/deluge/auth</code><p>进入Nano文本编辑器后，您需要按照以下约定在配置文件的底部添加一行：</p><code>user:password:level</code><p>其中，USER是您想要用于FREUGE的用户名，PASSWORD是您想要的密码，级别是10(守护进程的完全访问/管理级别)。因此，出于我们的目的，我们使用了pi：raspberry：10。编辑完成后，按键盘上的Ctrl+X并在系统提示时保存更改。然后，再次启动守护进程和控制台：</p><code>deluged deluge-console</code><p>如果启动控制台时出现错误代码，而不是格式整洁的控制台界面，请键入“exit”，然后确保您已经启动了守护进程。</p><p>进入控制台后，您需要快速更改配置。输入以下内容：</p><code>config -s allow_remote True config allow_remote exit</code><p>命令和相应的输出将如下面的屏幕截图所示。</p><img class="content_img" src="/image/3a/3a022d43909ffbd7da65ff692546d23c.png" /><p>这将启用到您的洪水守护进程的远程连接，并双重检查是否设置了配置变量。现在是时候终止守护进程并再次重新启动它，以使配置更改生效：</p><code>sudo pkill deluged deluged</code><p>此时，您的洪水守护进程已准备好进行远程访问。转到您的普通PC(不是Raspberry PI)并安装Fulge桌面程序。你可以在洪流下载页面上找到适用于你的操作系统的安装程序。一旦您在PC上安装了Deluge，请第一次运行它；我们需要进行一些快速更改。</p><p>启动后，导航到首选项&gt;界面。在接口子菜单中，您将看到“经典模式”的复选框。默认情况下，该选项处于选中状态。取消选中它。</p><img class="content_img" src="/image/32/327721a425c48d0b19937df3549c960b.png" /><p>单击确定，然后重新启动Deluge桌面客户端。这一次，当Fulge启动时，它将向您显示连接管理器。单击“添加”按钮，然后输入网络中Raspberry PI的IP地址，以及您在早期配置过程中设置的用户名和密码。将端口保留为默认的58846。单击添加。</p><img class="content_img" src="/image/cd/cdb86be5d169b8921c9889c54e1f7f7c.png" /><p>回到连接管理器，您将看到Raspberry PI的条目；如果一切正常，指示灯将变成绿色，如下所示：</p><img class="content_img" src="/image/3e/3ecc6bb330e4fa8c140991103d78954d.png" /><p>点击[连接]，您将被踢入界面，连接到远程机器：</p><img class="content_img" src="/image/39/391ed6a5bfc74132bd77782d4afb85a1.png" /><p>这是全新安装，在站点中没有.torrent，但是我们远程机器和桌面客户端之间的连接是成功的！</p><p>现在继续配置WebUI(如果您希望这样做)，或者跳到本教程的下一步。</p><p>选项二：为WebUI访问设置泛洪</p><p>配置WebUI的速度要快得多，并且允许使用一些移动应用程序访问Fulge。但正如我们之前提到的，与完整的ThinClient体验相比，您可以访问的功能更少。例如，ThinClient不能将.torrent文件与洪水ThinClient相关联，以便自动传输到PI，但您不能使用WindowsWebUI执行此操作。</p><p>首先，花点时间更新和升级您的存储库。打开终端并依次运行以下两个命令：</p><code>sudo apt-get update sudo apt-get upgrade</code><p>然后，要安装WebUI，请运行以下命令。注意：如果您已经在本教程的ThinClient部分安装了deluge守护进程，请跳过此处的第一个命令。</p><code>sudo apt-get install deluged sudo apt-get install python-mako sudo apt-get install deluge-web deluge-web</code><p>此序列将安装deluge守护进程(如果您尚未在上一节中安装它)、Mako(WebUI需要的Python模板库)、WebUI本身，然后启动WebUI程序。</p><p>WebUI的默认端口为8112。如果要更改它，请运行以下命令：</p><code>sudo pkill deluge-web nano ~/.config/deluge/web.conf</code><p>这将停止WebUI并打开其配置文件。使用NANO编辑行：“port”：8112，并将8112替换为1000以上的任何端口号(因为1-1000由系统保留)。</p><p>一旦WebUI启动并运行，就可以使用Web浏览器连接到它了。如果需要，您可以在PI上使用浏览器，但这不是最愉快的用户体验，最好留到紧急情况下使用。在常规台式计算机上打开浏览器，将其指向您刚刚选择的端口(例如http://192.168.1.13:8112)的PI的IP地址。</p><p>系统会提示您密码(默认密码为“FREUGE”)，并在您第一次输入密码后立即鼓励您更改密码。之后，您将能够通过轻量级界面与Fulge进行交互。</p><img class="content_img" src="/image/20/204d29b0bb077c750cbe100e373039b1.jpg" /><p>它与ThinClient不太一样，但它足够健壮，可以轻量级使用，而且它还有一个额外的好处，就是可以作为许多Torrent控制移动应用的连接点。</p><p>第二步：配置您的代理或VPN</p><p>你可能想现在就开始下载Torrents，但是等等！现在还不要这样做。在没有首先通过代理服务器或VPN穿梭连接的情况下使用BitTorrent客户端是绝对鲁莽的。</p><p>相关：如何选择最适合您需求的VPN服务</p><p>如果您还没有阅读如何匿名和加密您的BitTorrent流量，现在是时候这样做了。阅读第一部分(更好地理解为什么保护您的BitTorrent连接很重要)，然后注册代理服务，或者更好的是，在继续之前注册一个好的VPN。</p><p>如果您使用的是VPN，则非常简单：只需选择提供Linux客户端的VPN即可。然后，在您的PI上下载并安装Linux客户端，启动它，并连接到所需的服务器。(您甚至可能希望将其设置为在Raspberry PI启动时启动，以便它始终连接到VPN。)</p><p>如果您使用的是代理，您可以在Preferences&gt;Proxy下将其信息插入到Fulge中。您需要像这样填写Peer、Web Seed、Tracker和DHT部分，并将代理用户名和密码放在适当的位置。您的代理服务的类型、主机和端口可能不同，因此请务必查看其文档。</p><img class="content_img" src="/image/c5/c5caf9823dfe4d1a9797e52498f4cd78.png" /><p>为了使代理设置生效，您需要重新启动泛洪守护进程。从终端输入以下命令：</p><code>sudo pkill deluged deluged</code><p>在那之后，你应该都准备好了。</p><p>测试您是否正在积极使用代理或VPN的最好方法是下载一个专门为报告其IP地址而设计的Torrent文件。你可以在网上找到很多这样的种子，包括来自BTGuard的这条和来自TorGuard的这条。将任意一个或两个洪流加载到洪水中，并等待片刻。</p><img class="content_img" src="/image/82/82ba13b15255f2849488ec47c144f6d9.png" /><p>在Torrent有机会连接到它们各自的跟踪器之后，在洪水客户端中选择Torrents并检查“Tracker Status”条目，如上所示。两者都将报告它们从您的客户端检测到的IP地址。如果该IP地址与您的公有IP地址匹配，则代理或VPN配置不正确，您应该返回上一节检查您的配置。如果配置正确，您将看到代理或VPN的IP地址，而不是您自己的IP地址。</p><p>第三步：配置下载位置</p><p>接下来，您需要重新配置Flowge才能使用您的外置硬盘驱动器。如果您按照前面提到的指南中的硬盘挂载说明进行操作，那么您就已经准备好在引导时自动挂载硬盘了。</p><p>从那里，您需要做的就是更改洪水中的默认位置。导航到Fluge的首选项，然后转到下载选项卡。默认情况下，fluge将所有内容定向到/home/pi。然而，那张小小的SD卡很快就会装满，所以我们需要更换它。</p><p>首先，我们将在/media/USBHDD1/Shares中创建一些新文件夹，这是我们在低功耗网络存储教程中已经设置的共享文件夹。这样，我们就可以很容易地通过网络访问我们下载的Torrent，并有一个网络可访问的监视文件夹来自动加载Torrent文件。使用以下命令创建文件夹集(如果您使用的PI设置与上一教程中的设置不同，请根据您所在的位置相应调整路径名)：</p><code>sudo mkdir /media/USBHDD1/shares/torrents/downloading
 sudo mkdir /media/USBHDD1/shares/torrents/completed
 sudo mkdir /media/USBHDD1/shares/torrents/watch
 sudo mkdir /media/USBHDD1/shares/torrents/torrent-backups</code><p>然后，我们右转，将这四个新目录插入洪水中。</p><img class="content_img" src="/image/3d/3db122b25cbb50b246a5a6fcff0645e8.png" /><p>单击确定设置目录。不需要重新启动，就像您对代理设置所做的那样。</p><p>第四步：测试您的连接</p><p>现在是时候下载一个足够大的洪流了，我们可以真正看到系统是否运行顺畅。在我们的测试中，我们抓取了当前Linux Mint发行版的.torrent文件-它的大小为1.7 GB，非常适合监控连接速度。</p><img class="content_img" src="/image/56/564dbc397377957a3a42467518d2cc94.png" /><p>一旦确认连接稳定并且Linux Torrent运行良好，就可以开始下一步了：自动启动客户端。</p><p>第五步：将Foluge配置为在启动时运行</p><p>在我们离开洪水设置之前，还有最后一个细节需要注意。我们需要设置Deluge守护进程和WebUI，使其在Raspberry PI引导时自动运行。要简单地完成此操作，而不需要编辑更复杂的初始化文件和设置，我们将简单地注释rc.local文件。要执行此操作，请在终端中运行以下命令。</p><code>sudo nano /etc/rc.local</code><p>加载rc.local文件后，将以下行添加到文件末尾。注意：如果您不使用WebGUI，则不需要添加以“deluge-web”结尾的第二个命令。如果您正在使用VPN程序，这里也可能是添加VPN程序的好地方。</p><code># Start Deluge on boot:
 sudo -u pi /usr/bin/python /usr/bin/deluged

sudo -u pi /usr/bin/python /usr/bin/deluge-web</code><p>完成后，您的rc.local文件应该如下所示(可能添加了该VPN)：</p><img class="content_img" src="/image/06/06ac845a82185f19bc406dd027477ade.png" /><p>按Ctrl+X退出并保存您的工作。</p><p>此时，我们建议重新启动Raspberry PI，因此在命令行启动“sudo reboot”。一旦PI完成重启，请转到您的另一台PC，并尝试连接到ThinClient和/或WebUI，以确保它们都能正常工作。</p><p>这里可能会遇到两个主要错误。首先，连接完全失败意味着初始化脚本无法工作。在您的PI上打开终端，并使用我们在本教程前面学到的命令手动启动守护进程和WebUI。如果是，请返回并修复您的rc.local脚本。</p><p>其次，如果您可以打开客户端，但它显示了现有Torrent的权限错误(就像我们之前用来测试的Linux Torrent)，这表明您的外部硬盘驱动器没有安装，或者安装不正确。请查看我们最新的低功耗网络存储指南中有关安装外部驱动器并将其设置为引导时自动挂载的章节。</p><p>增强您的Torrent体验</p><p>现在，您已经配置了Torrent Box并准备好了，下面有一些额外的工具和修改可以真正增强您的用户体验。这些提示和技巧都不是必要的，但它们确实让你的覆盆子PI变成了Torrent Box更容易使用。</p><p>增加移动接入：考虑下载Transdroid和Transdrone for Android等移动控制应用程序。不幸的是，我们没有给iOS用户任何可靠的建议，因为苹果对App Store中与Torrent相关的应用采取了非常激进的立场(并禁止任何通过提交过程的应用)。</p><p>Fruge目前还没有针对WebUI的移动优化模板，但它在iPad和Kindle Fire等平板电脑上的功能更强大。</p><p>设置一个共享的Drop文件夹：尽管我们在本教程前面简要提到过，但请确保您创建的/torrents/watch/文件夹在您的网络上是可访问的。能够将一堆.torrent文件转储到文件夹中，并让Fruge自动加载它们，这真的很方便。</p><p>安装浏览器插件：Chrome和Firefox有几个以Fulge为中心的插件可以改善用户体验，包括：</p><p>
铬：

DelugeSiphon：启用从WebUI添加.torrent。
洪水遥控器：对当前洪灾及其进展的简单看法。


Firefox：

BitTorrent WebUI+：启用从WebUI添加.Torrent。
WebUI Quick add Torrent：这是一个Gresemonkey脚本，可以在网页上添加可点击的图标，以便轻松添加Torrent</p><p>激活洪水插件：洪水中已经包含了很多很棒的插件，甚至还有更多的第三方插件。您可能希望利用的一些附带插件包括：</p><p>
通知：您会收到来自洪水的有关Torrent完成和其他事件的电子邮件警报。
调度器：根据一天中的时间限制带宽</p><p>您可以在首选项&gt;插件中找到这些。选中您想要的条目，新条目将出现在首选项菜单中(例如，首选项&gt;通知)。</p><p>有关第三方插件以及如何安装它们的更多信息，请查看Deluge Wiki中的插件页面。</p><p>在配置、测试和调整增强功能和插件之后，您就拥有了一个功能强大的Torrent Box，每天的操作成本只有几分钱。找一个安静的、偏僻的地方插上电源，装上洪流，让它为你做下载播种的重担。</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/pi/">pi</a></span><span class="item_key"><a href="/tag/torrent/">torrent</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14706.html">如何在Linux上使用uniq命令</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14585.html">如何在Microsoft Excel中兑换货币</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14570.html">如何在Linux上使用grep命令</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14542.html">如何从MacOS Catalina向iPhone添加自定义铃声</a><li><a href="/story/14508.html">如何使用键盘快捷键简化流媒体Netflix</a><li><a href="/story/14507.html">如何在Linux上使用HISTORY命令</a><li><a href="/story/14499.html">如何在Linux上使用免费命令</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14466.html">如何在Linux上使用at和Batch来调度命令</a><li><a href="/story/14461.html">如何设置您的新Mac</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14434.html">Chrome 79的新特性，现已推出</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14424.html">如何向Outlook会议请求添加默认签名</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>