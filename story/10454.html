<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Windows 10上创建和运行Bash Shell脚本</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Windows 10上创建和运行Bash Shell脚本</h2></div><div class="content"><img class="content_img" src="/image/f2/f2eb61b2c9ab2bafa01a8fd2d1c802c0.png" /><p>随着Windows 10的Bash shell的推出，您现在可以在Windows 10上创建和运行Bash shell脚本。您还可以将Bash命令合并到Windows批处理文件或PowerShell脚本中。</p><p>即使你知道自己在做什么，这也不一定像看起来那么简单。Windows和UNIX使用不同的行尾字符，并且可以在Bash环境中的不同位置访问Windows文件系统。</p><p>如何在Windows 10上编写Bash脚本</p><p>相关：如何在Windows 10上安装和使用Linux Bash Shell</p><p>在Windows上编写shell脚本时，请记住Windows和类似UNIX的系统(如Linux)在shell脚本的文本文件中使用不同的“行尾”字符。</p><p>换句话说，这意味着您不能简单地用记事本编写shell脚本。将文件保存在记事本中，Bash将无法正确解释该文件。但是，您可以使用更高级的文本编辑器-例如，Notepad++允许您通过单击编辑&gt;EOL转换&gt;UNIX/OSX格式为文件指定UNIX行尾字符。</p><img class="content_img" src="/image/c5/c57283c4e30dd183b0d6b849845ca0ab.png" /><p>但是，最好只在Bash环境本身中编写shell脚本。基于Ubuntu的Bash环境附带vi和Nano文本编辑器。vi编辑器功能更强大，但是如果您以前从未使用过它，那么您可能想从Nano开始。如果你是新手，它会更容易使用。</p><p>例如，要在Nano中创建一个bash脚本，您可以在bash中运行以下命令：</p><code>nano ~/myscript.sh</code><p>这将打开Nano文本编辑器，指向用户帐户主目录中名为“myscript.sh”的文件。(“~”字符表示您的主目录，因此完整路径为/home/username/myscript.sh。)</p><img class="content_img" src="/image/66/66a3460a4d6cb1292d45bdd96623c853.png" /><p>您的shell脚本以该行开始：</p><code>#!/bin/bash</code><p>相关：Shell脚本初学者指南：基础知识</p><p>输入要运行的命令，每个命令都在自己的行上。该脚本将依次运行每个命令。在一行之前添加一个“#”字符，将其视为“注释”，它可以帮助您和其他人理解脚本，但不会作为命令运行。有关更高级的技巧，请参阅更详细的Linux上Bash脚本指南。同样的技术也适用于Windows上的Ubuntu上的Bash。</p><p>请注意，无法从Bash环境中运行Windows程序。您只能使用Linux终端命令和实用程序，就像在典型的Linux系统上一样。</p><p>例如，让我们在这里使用一个基本的“hello world”脚本作为示例：</p><code>#!/bin/bash
# set the STRING variable
STRING="Hello World!"
# print the contents of the variable on screen
echo $STRING</code><p>如果您使用的是Nano文本编辑器，则可以通过按Ctrl+O，然后按Enter来保存文件。按Ctrl+X关闭编辑器。</p><img class="content_img" src="/image/be/be9a3bbc6b5d4dd90a33bd3880d4e957.png" /><p>使脚本可执行，然后运行它</p><p>您可能希望将脚本设为可执行文件，这样您就可以更轻松地运行它。在Linux上，这意味着您需要赋予脚本文件可执行权限。为此，请在终端中运行以下命令，并将其指向您的脚本：</p><code>chmod +x ~/myscript.sh</code><img class="content_img" src="/image/09/0967def73be8ca6ba5e74f939bec52a5.png" /><p>要运行该脚本，您现在可以通过键入其路径在终端中运行它。以后要启动脚本时，只需打开Bash shell并键入脚本路径即可。</p><code>~/myscript.sh</code><p>(如果脚本在当前目录中，您可以使用./myscript.sh运行它)</p><img class="content_img" src="/image/35/35a8b066fc392ec64f70cfca7ba41d0d.png" /><p>如何在Bash脚本中使用所有Windows文件</p><p>相关：如何在Windows中访问Ubuntu Bash文件(以及在Bash中访问Windows系统驱动器)</p><p>要访问脚本中的Windows文件，您需要在/mnt/c下指定它们的路径，而不是它们的Windows路径。例如，如果要指定C：\Users\Bob\Downloads\test.txt文件，则需要指定/mnt/c/Users/Bob/downloads/test.txt路径。有关更多详细信息，请参阅我们在Windows 10的Bash shell中的文件位置指南。</p><p>如何将Bash命令合并到批处理脚本或PowerShell脚本中</p><p>相关：如何在Windows 10上设置默认Linux分发</p><p>最后，如果您有要将命令合并到其中的现有批处理文件或PowerShell脚本，则可以直接使用bash-c命令运行Bash命令。</p><p>例如，要在命令提示符或PowerShell窗口中运行Linux命令，可以运行以下命令：</p><code>bash -c "command"</code><p>此技巧允许您将Bash命令添加到批处理文件或PowerShell脚本中。当Bash命令正在运行时，将出现*Bash shell窗口。</p><p>更新：如果安装了多个Linux环境，可以使用wslconfig命令选择运行bash-c命令时使用的默认Linux环境。</p><img class="content_img" src="/image/a9/a9c1a022b7eaa4644241dd0e6279a9af.png" /><p>要从Windows中创建指向Bash脚本的快捷方式，只需像正常一样创建快捷方式即可。对于快捷方式的目标，使用上面概述的bash-c命令，并将其指向您创建的Bash脚本。</p><p>例如，您可以将快捷方式指向“bash-c”~/myscript.sh“”来运行上面的示例脚本。您也可以只从命令提示符或PowerShell窗口运行此命令。</p><div class="item_info"><span class="item_key"><a href="/tag/脚本/">脚本</a></span><span class="item_key"><a href="/tag/bash/">bash</a></span><span class="item_key"><a href="/tag/windows/">windows</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14323.html">如何在Windows上将Caps Lock用作修改键</a><li><a href="/story/14159.html">如何在Bash中使用变量</a><li><a href="/story/13819.html">如何将GUI添加到Linux Shell脚本</a><li><a href="/story/13415.html">如何在Linux上使用yes命令</a><li><a href="/story/13180.html">如何使用脚本编辑器为Google应用程序增压</a><li><a href="/story/13172.html">如何使用Linux睡眠命令暂停Bash脚本</a><li><a href="/story/13147.html">如何在进程退出时自动关闭MacOS终端</a><li><a href="/story/13134.html">如何编写自动热键脚本</a><li><a href="/story/12894.html">如何从Bash脚本获取系统的地理位置</a><li><a href="/story/11595.html">如何使用自动热键创建自定义键盘快捷键</a><li><a href="/story/11555.html">如何在Windows中自动键入带双空格的句点</a><li><a href="/story/11135.html">如何恢复Chromebook的原始BIOS和软件(如果已擦除)</a><li><a href="/story/9334.html">如何使用Geektool自定义您的Mac桌面</a><li><a href="/story/7708.html">如何配置Windows以更轻松地使用PowerShell脚本</a><li><a href="/story/7704.html">如何使用批处理文件使PowerShell脚本更易于运行</a><li><a href="/story/7689.html">作用域如何影响PowerShell脚本</a><li><a href="/story/7581.html">使用Google Sheet和Google Apps脚本可以做的8件非常有用的事情</a><li><a href="/story/7410.html">愚蠢的极客小把戏：如何让你的电脑与你对话</a><li><a href="/story/7370.html">在Windows上使窗口始终在最上面的3种最佳方法</a><li><a href="/story/6987.html">如何用PowerShell生成随机姓名和电话号码</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>