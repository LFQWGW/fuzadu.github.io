<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>当您关闭或注销Windows时，究竟会发生什么情况？</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>当您关闭或注销Windows时，究竟会发生什么情况？</h2></div><div class="content"><img class="content_img" src="/image/b4/b44ede2dfd57eb9d6a7f2b2eb5588255.png" /><p>当您关闭、重新启动或注销PC时，Windows会在后台执行大量工作。该过程可确保在硬件断电之前保存所有工作和应用程序数据。</p><p>Windows检查登录用户(关闭时)</p><img class="content_img" src="/image/ac/ac2d8faa585bdaabc172c471b2da3af7.jpg" /><p>当您通知电脑关机或重新启动时，Windows会首先检查是否有任何其他Windows用户帐户有活动会话。当您锁定Windows会话并在首次注销之前使用另一个用户帐户登录时，就会发生这种情况。</p><p>如果Windows确实注意到另一个用户尚未正确注销，您将看到一条“其他人仍在使用这台PC”的消息。如果您强制重新启动，其他用户可能会丢失打开的应用程序中任何未保存的数据。通常，最好停在这里，让其他用户登录，保存他们的工作，然后在关闭之前注销。</p><p>如果您确定其他用户没有任何打开的工作要保存，Windows允许您单击“仍然关闭”。“这将强制注销其他用户帐户，关闭他们所有打开的应用程序。”任何未保存的数据都将丢失。</p><p>如果您是唯一登录的用户，您将不会看到此消息，Windows将直接转到下一步。</p><p>Windows通知程序保存其工作并关闭</p><img class="content_img" src="/image/30/30ffd16b746230385ead339ee1ebbad8.png" /><p>在您实际注销PC之前，Windows会通知您所有打开的程序保存它们的工作并关闭。关机或重新启动PC时也会发生这种情况，因为注销是关机过程的必要部分。</p><p>具体地说，Windows向每个打开的窗口发送WM_QUERYENDSESSION消息。它不会强制关闭任何打开的程序。程序被告知要保存它们的工作并关闭，它们可能需要一段时间才能这样做。这就是为什么有时可能需要一点时间才能关闭或注销您的PC。</p><p>程序可以通过说它们需要您的用户输入来“阻止”这个过程。例如，某个程序可能有您需要保存的打开文件。如果应用程序要求输入，您将看到“此应用程序正在阻止关机”消息。此外，应用程序还可以使用ShutdownBlockReasonCreate函数在此处显示自定义消息。</p><p>如果您看到此消息，您应该单击“取消”，检查应用程序，保存您的数据，然后自己关闭它。如果您不介意丢弃数据，您可以通过单击“无论如何关闭”或“无论如何注销”来继续。</p><p>请注意，Windows会在其他应用程序准备就绪时将其关闭。因此，如果您打开了10个应用程序，但只有一个阻止您关闭，则如果您单击此处的“取消”，您将只看到该应用程序。Windows已经关闭了其他九个应用程序。</p><p>在Windows 10上，Windows还会记住您打开了哪些应用程序窗口，并在您下次登录PC时尝试重新打开它们。</p><p>相关：如何在启动时停止Windows 10重新打开上次打开的应用程序</p><p>Windows将您注销</p><img class="content_img" src="/image/92/926ff27fea56e4f8e90a64fb2140a35d.png" /><p>在通知所有打开的程序保存数据并关闭后，Windows会将您注销。属于您的用户帐户的整个Windows“会话”已结束，任何打开的程序都不会继续以您的用户帐户运行。</p><p>要干净利落地注销Windows，需要执行很多单独的操作。例如，您的用户帐户的Windows注册表配置单元的内容通常存储在内存中。当您注销时，它们将保存到磁盘。它们将在您下次登录时重新加载到内存中。</p><p>如果您刚刚注销，Windows会将您返回到登录屏幕，以便您可以以其他用户身份登录。如果您正在关闭或重新启动，Windows将继续关闭过程</p><p>相关：Windows注册表揭开神秘面纱：您可以使用它做些什么</p><p>Windows自动关闭</p><img class="content_img" src="/image/d8/d8fbbf6849eed4ee8190c636037750ab.jpg" /><p>在Windows完成注销任何用户后，它只有自己需要关闭。Windows通知所有系统服务及其自己的进程完全关闭，并将所有必要的数据保存到磁盘。具体地说，它向任何正在运行的服务发送SERVICE_ACCEPT_PRESHUTDOWN消息。在警告服务之后，它们会收到一条新的SERVICE_ACCEPT_SHUTDOWN消息。然后，在Windows强制关闭该服务之前，该服务有20秒的时间进行清理和关闭。</p><p>Windows10还会将Windows内核的状态保存到磁盘。就像是部分冬眠。下次启动PC时，Windows可以重新加载保存的内核并更快地启动，从而跳过较慢的硬件初始化过程。这项功能被称为“快速启动”。</p><p>Windows还将在关机过程的最后部分应用任何可用的Windows更新。Windows在关机时、电脑启动前和运行时在后台执行不同的更新任务。</p><p>当一切都完成后，Windows将彻底卸载您的固态驱动器或硬盘驱动器，等待一个“全部清除”信号，该信号指示系统的所有数据已保存到物理磁盘。所有软件都已完全关闭，您的所有数据都将保存到磁盘。</p><p>相关：关机并不能完全关闭Windows 10(但重启可以)</p><p>Windows关闭您的PC</p><img class="content_img" src="/image/ff/ff5d5bd0823bcc24477ab5299dc7254a.png" /><p>最后，Windows会向您的PC发送ACPI关机信号。这会告诉您的PC在物理上关闭自身的电源。关闭过程已完成。</p><p>如果你使用过Windows95，你会记得ACPI关闭信号之前的日子。Windows在此步骤中显示了一条“现在可以安全关闭计算机”的消息，您必须自己按下物理电源按钮。ACPI(高级配置和电源接口)标准于1996年首次发布，允许Windows关闭PC电源。</p><p>相关：是的，可以使用电源按钮关闭计算机</p><p>这与使用睡眠或休眠的工作方式不同。在休眠状态下，您的PC将在非常低的功耗模式下保持通电。使用Hibernate，您的PC会将其整个系统状态保存到磁盘，并在您再次开机时将其恢复。</p><div class="item_info"><span class="item_key"><a href="/tag/windows/">windows</a></span><span class="item_key"><a href="/tag/关闭/">关闭</a></span><span class="item_key"><a href="/tag/用户/">用户</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14581.html">如何使用命令提示符关闭Windows 10 PC</a><li><a href="/story/14529.html">翻开Windows7：我们会想念你的</a><li><a href="/story/14528.html">Windows7今日寿终正寝：以下是你需要知道的</a><li><a href="/story/14447.html">Windows 10可以在我的计算机上运行吗？</a><li><a href="/story/14402.html">假期的12条家庭技术支持小贴士</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14243.html">如何在硬件更改后重新激活Windows 10</a><li><a href="/story/14221.html">Windows10的“重置这台电脑”是如何变得更加强大的</a><li><a href="/story/14210.html">Windows7的“扩展安全更新”将如何工作</a><li><a href="/story/14193.html">如何启用或禁用Windows 10的安全登录</a><li><a href="/story/14180.html">什么是Windows 10X，它有什么不同？</a><li><a href="/story/14129.html">微软解释“云下载”如何重装Windows 10</a><li><a href="/story/14108.html">你的电脑有病毒吗？下面是如何检查</a><li><a href="/story/14058.html">所有最佳Google Sheet键盘快捷键</a><li><a href="/story/14005.html">Windows 10的平板电脑模式可能会被台式机取代</a><li><a href="/story/13999.html">Windows10 20H1更新的新特性将于2020年春季发布</a><li><a href="/story/13965.html">微软应该删除的所有无用的Windows 10功能</a><li><a href="/story/13954.html">新的Microsoft Edge现在可以“日常使用”了</a><li><a href="/story/13935.html">微软将通过Windows 10商店更新记事本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>