<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何调整Microsoft虚拟硬盘(VHD)文件的大小</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何调整Microsoft虚拟硬盘(VHD)文件的大小</h2></div><div class="content"><p>当您通过虚拟PC或虚拟服务器创建Microsoft虚拟硬盘时，您必须预先指定文件的最大大小。虽然您可以将VHD设置为固定大小或动态大小的文件，但VHD的总大小将在创建时确定。但是，随着时间的推移，您可能希望随着系统要求的变化而增加VHD文件的总大小，以便为已安装的程序和数据文件留出更多空间。</p><p>增加VHD文件的大小</p><p>在免费提供的VHD Resizer工具的帮助下，您可以使用VHD的简单向导界面来扩展VHD的大小。打开VHD Resizer时，向导会提示您调整源VHD文件的大小。</p><img class="content_img" src="/image/ba/bafd33bd8a6a5115057f6453b89198a6.png" /><p>选择源后，将目标VHD设置为新文件。</p><img class="content_img" src="/image/4e/4ec970a3a5fcd652a5e90e772fed473d.png" /><p>这个新文件将是源文件的精确副本，只是更大一些。</p><img class="content_img" src="/image/e0/e02e328150f581f6f84d6912619079e8.png" /><p>选择后，设置目标VHD文件的新大小。这将是新VHD的容量。设置好后，开始调整大小的过程。</p><img class="content_img" src="/image/34/34b865802f01e05086c4ac4401c20e77.png" /><p>根据源文件和目标文件的大小，这可能需要一些时间。</p><img class="content_img" src="/image/36/3649924a8b8527ce1f77388fcccc11be.png" /><p>对任何其他VHD文件重复该过程。</p><img class="content_img" src="/image/0c/0ccdeafeb9a346fe8473695b6433e843.png" /><p>调整VHD驱动器的分区大小</p><p>调整VHD文件大小后，相应的Windows安装会将额外空间识别为未分配的分区。为了将这一额外空间分配给系统驱动器，我们必须将新的VHD文件链接到现有的VHD文件，并在虚拟机中调整其大小。</p><p>在现有的VHD文件(如源)中，将新的VHD文件链接为第二个硬盘。这是通过虚拟机的属性完成的。</p><img class="content_img" src="/image/ab/ab8f902496051978122eb5c64dc3d6e3.png" /><img class="content_img" src="/image/56/56629b2e67c9e0c0139d595ec589a116.png" /><img class="content_img" src="/image/bb/bb90a879c257ce2049d75fd19bec039c.png" /><p>将新的VHD链接为辅助驱动器后，启动相应的虚拟机。</p><p>当您查看磁盘管理时，您可以看到额外的空间是未分配的。</p><img class="content_img" src="/image/49/492ec276ec3fa71ecacddb085aa175bc.png" /><p>为了调整新VHD文件上系统驱动器的大小，您可以使用Windows工具Diskpart。</p><p>在Diskpart中，设置磁盘(通常是磁盘1)和各自的分区(通常只有一个分区)，然后发出‘EXTEND’命令。</p><img class="content_img" src="/image/8d/8d37126da28fadb6dee10b7228825f01.png" /><p>在Diskpart的EXTEND命令运行后，先前未分配的空间已与系统驱动器合并，以形成单个较大的驱动器。</p><img class="content_img" src="/image/8d/8dda45e8139ad1b938a9a87850641c3f.png" /><p>调整新驱动器的大小后，请关闭用于调整新驱动器大小的虚拟机，然后删除作为辅助驱动器的新VHD文件。</p><img class="content_img" src="/image/5c/5c95fa1c32d94f3218385b071851511f.png" /><p>新的VHD文件已准备好用作其自己的虚拟机，因此请根据新创建的文件创建新的VM。</p><img class="content_img" src="/image/77/77522d066d1a2287e39a6075c1513d23.png" /><p>创建后，启动新虚拟机。</p><img class="content_img" src="/image/ae/ae5e988fc29835364b5b1a07f144d905.png" /><p>新的VHD文件现在将有一个驱动器，其中包含可根据需要使用的新空间。</p><img class="content_img" src="/image/7e/7e6d22e3f0913497ed5e01dcbf84a4a7.png" /><img class="content_img" src="/image/0b/0b2cf138ef3c83dc4506ac6496da12eb.png" /><p>结束 / 结尾 / 结论 / 推论</p><p>调整VHD文件大小的功能非常有用。因为您永远无法预测将来可能需要什么，所以您可以构建知道需要的大小的VHD文件，然后根据需要简单地扩展大小。</p><p>高尔夫球场 / 链接 / 沙地 / 沙丘</p><p>从VM工具包下载VHD Resizer(需要注册)</p><p>有关Diskpart的Microsoft文档</p><div class="item_info"><span class="item_key"><a href="/tag/vhd/">vhd</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/需要/">需要</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/7140.html">如何在Windows上使用BitLocker创建加密容器文件</a><li><a href="/story/2845.html">在Windows资源管理器中通过右键单击装载和卸载VHD文件</a><li><a href="/story/2540.html">如何从Windows系统映像恢复特定文件</a><li><a href="/story/2078.html">如何在Windows 7中将数据备份到虚拟硬盘</a><li><a href="/story/1466.html">如何使用Disk2vhd将物理计算机转变为虚拟机</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>