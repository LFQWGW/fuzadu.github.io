<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>UPnP是否存在安全风险？</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>UPnP是否存在安全风险？</h2></div><div class="content"><img class="content_img" src="/image/14/145f41c4a38372a796c1cb656503b928.png" /><p>许多新路由器默认启用UPnP。出于安全原因，联邦调查局和其他安全专家一度建议禁用UPnP。但是今天的UPnP有多安全呢？当我们使用UPnP时，我们是否为了方便而交易安全？</p><p>UPnP代表“通用即插即用”。使用UPnP，应用程序可以自动转发路由器上的端口，省去了手动转发端口的麻烦。我们将看看人们建议禁用UPnP的原因，这样我们就可以对安全风险有一个清晰的了解。</p><p>图片来源：Flickr上的喜剧鼻</p><p>您网络中的恶意软件可以使用UPnP</p><p>设法感染本地网络上的计算机的病毒、特洛伊木马、蠕虫或其他恶意程序可以使用UPnP，就像合法程序一样。虽然路由器通常会阻止传入的连接，以防止一些恶意访问，但UPnP可能会允许恶意程序完全绕过防火墙。例如，特洛伊木马可以在您的计算机上安装远程控制程序，并在路由器的防火墙中为其打开一个漏洞，从而允许从Internet全天候访问您的计算机。如果UPnP被禁用，程序就无法打开端口-尽管它可以通过其他方式绕过防火墙，然后给家里打电话。</p><p>这有什么问题吗？是。这是绕不开的--UPnP假定本地程序是可信的，并允许它们转发端口。如果恶意软件无法转发端口对您来说很重要，则需要禁用UPnP。</p><p>联邦调查局告诉人们禁用UPnP</p><p>2001年底，联邦调查局的国家基础设施保护中心建议所有用户禁用UPnP，因为Windows XP中存在缓冲区溢出。此错误已通过安全补丁修复。NIPC在意识到问题不在UPnP本身后，实际上后来对这一建议进行了更正。(来源)</p><p>这有什么问题吗？不是的。虽然有些人可能还记得NIPC的建议，对UPnP持负面看法，但这个建议在当时是被误导的，十多年前Windows XP的补丁解决了这个具体问题。</p><img class="content_img" src="/image/6b/6bdcdc5c853e6a428f01c351b8c1c885.jpg" /><p>图片来源：Flickr上的卡斯滕·洛伦岑(Carsten Lorentzen)</p><p>Flash UPnP攻击</p><p>UPnP不需要来自用户的任何类型的认证。您计算机上运行的任何应用程序都可以要求路由器通过UPnP转发端口，这就是上面的恶意软件可以滥用UPnP的原因。您可能认为只要没有恶意软件在任何本地设备上运行，您就是安全的-但您可能错了。</p><p>闪存UPnP攻击是在2008年发现的。在您的Web浏览器内的网页上运行的巧尽心思构建的Flash小程序可以向您的路由器发送UPnP请求，并要求其转发端口。例如，小程序可以要求路由器将端口1-65535转发到您的计算机，从而有效地将其暴露给整个互联网。不过，在这样做之后，攻击者将不得不利用您计算机上运行的网络服务中的漏洞进行攻击-在您的计算机上使用防火墙将有助于保护您。</p><p>不幸的是，情况变得更糟-在某些路由器上，Flash小程序可能会通过UPnP请求更改主DNS服务器。端口转发是您最不需要担心的问题--恶意DNS服务器可能会将流量重定向到其他网站。例如，它可以将Facebook.com完全指向另一个IP地址--您的网页浏览器的地址栏将显示为Facebook.com，但您使用的是一个由恶意组织创建的网站。</p><p>这有什么问题吗？是。我找不到任何迹象表明这个问题曾经被修复过。即使它被修复(这将是困难的，因为这是UPnP协议本身的问题)，许多仍在使用的较旧的路由器将是易受攻击的。</p><p>路由器上错误的UPnP实施</p><p>UPnP黑客网站包含不同路由器实施UPnP方式的安全问题的详细列表。这些不一定是UPnP本身的问题；它们通常是UPnP实现的问题。例如，许多路由器的UPnP实现不能正确检查输入。恶意应用程序可能会要求路由器将网络流量重定向到Internet上的远程IP地址(而不是本地IP地址)，路由器会照办。在一些基于Linux的路由器上，可以利用UPnP在路由器上运行命令。(来源)该网站列出了许多其他类似的问题。</p><p>这有什么问题吗？是!。野外数以百万计的路由器都是易受攻击的。许多路由器制造商在保护他们的UPnP实现方面做得并不好。</p><img class="content_img" src="/image/94/94b83ace7f8a6e02cc6762157385e46f.jpg" /><p>图片来源：Flickr上的本·梅森(Ben Mason)</p><p>您应该禁用UPnP吗？</p><p>当我开始写这篇文章时，我希望得出结论，UPnP的缺陷相当小，只是为了一些方便而牺牲一点安全的简单问题。不幸的是，UPnP似乎确实有很多问题。如果您不使用需要端口转发的应用程序，如点对点应用程序、游戏服务器和许多VoIP程序，最好完全禁用UPnP。这些应用程序的重度用户将需要考虑他们是否准备为了方便而放弃一些安全性。您仍然可以在没有UPnP的情况下转发端口；这只是增加了一点工作。请查看我们的端口转发指南。</p><p>另一方面，这些路由器缺陷并没有被广泛使用，因此您遇到利用路由器UPnP实现中的缺陷的恶意软件的实际机会相当低。有些恶意软件确实使用UPnP转发端口(例如，Conficker蠕虫)，但我还没有遇到过利用这些路由器缺陷的恶意软件的例子。</p><p>我如何禁用它？如果您的路由器支持UPnP，您可以在其Web界面中找到禁用UPnP的选项。有关详细信息，请参阅您的路由器手册。</p><img class="content_img" src="/image/eb/eb6011a66d35c9959f36b08d9aca6d6e.png" /><p>您对UPnP的安全有异议吗？请留言！</p><div class="item_info"><span class="item_key"><a href="/tag/upnp/">upnp</a></span><span class="item_key"><a href="/tag/路由器/">路由器</a></span><span class="item_key"><a href="/tag/安全/">安全</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/6191.html">保护您的无线路由器：您现在可以做的8件事</a><li><a href="/story/5179.html">Wi-Fi路由器发现新安全漏洞：禁用UPnP以保护自己</a><li><a href="/story/4655.html">如何从桌面应用程序快速转发路由器上的端口</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>