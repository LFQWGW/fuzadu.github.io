<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何创建具有永久存储的Live Ubuntu USB驱动器</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何创建具有永久存储的Live Ubuntu USB驱动器</h2></div><div class="content"><img class="content_img" src="/image/d9/d90f14181b2807ad859a17c1e0e55efd.png" /><p>Linux live USB驱动器通常在您每次引导时都是一张白板。您可以启动它、安装程序、保存文件和更改设置。但是，一旦重新启动，您所做的所有更改就会被抹去，您就会回到一个全新的系统。这可能很有用，但是如果您想要一个能够从您停止的地方重新开始的系统，您可以创建一个具有持久存储的活动USB。</p><p>持久存储的工作原理</p><p>当您创建具有持久性的USB驱动器时，您将为持久性覆盖文件分配最多4 GB的USB驱动器。您对系统所做的任何更改(例如，将文件保存到桌面、更改应用程序中的设置或安装程序)都将存储在覆盖文件中。无论何时在任何计算机上启动USB驱动器，您的文件、设置和安装的程序都会在那里。</p><p>如果您希望将实时Linux系统保存在USB驱动器上并在不同的PC上使用，这是一个理想的功能。您不必在每次引导时从头开始设置系统。如果你只是使用USB驱动器安装Ubuntu，然后从硬盘上运行，那么你就不需要坚持了。</p><p>有几个限制。您不能修改系统文件，就像内核一样。您不能执行重大系统升级。您也不能安装硬件驱动程序。但是，您可以安装大多数应用程序。您甚至可以更新大多数已安装的应用程序，因此您可以确保您的永久USB驱动器安装了您喜欢的Web浏览器的最新版本。</p><p>持久性并不适用于每个Linux发行版。我们已经用最新版本的Ubuntu进行了测试--Ubuntu18.04LTS和Ubuntu19.04--并且运行正常。它还应该可以与基于Ubuntu的Linux发行版一起使用。在过去，我们与费多拉的合作也很幸运。只需下载相应的ISO文件并按照下面的说明操作即可。</p><p>更新：我们推荐的Rufus是为了在Windows上轻松创建活动USB驱动器，在其最新版本中现在支持持久存储。以前的版本没有，因此需要执行以下过程。如果您使用的是Windows，并且希望避免下面的Linux命令行进程，请尝试使用Rufus。</p><p>相关：如何创建可引导的Linux USB闪存驱动器，简单方法</p><p>如何在Ubuntu上制作永久Ubuntu USB驱动器</p><p>您需要一台已经运行Ubuntu的计算机才能执行此过程。您还需要一个具有足够存储容量的USB驱动器来设置持久性。我们使用的是16 GB的驱动器，但8 GB的驱动器也可以。驱动器越大，您可以拥有的持久存储就越多。</p><p>GRUB、BOOT和Ubuntu分区占用的空间不到2 GB。USB驱动器上的剩余空间将用于Casper-RW和usbdata分区。</p><p>CASPER-RW分区用于持久存储。例如，您安装的软件和设置文件将存储在此。</p><p>usbdata分区将使用NTFS文件系统格式化。Linux、Windows和MacOS都可以访问它。该分区也可以从USB驱动器上的活动Ubuntu中获得。这意味着您的实时Ubuntu可以访问从另一台计算机复制到usbdata分区的任何文件。</p><p>换句话说，usbdata分区在您的活动Ubuntu和您插入USB驱动器的任何其他计算机之间充当“共享文件夹”。那真是太酷了。</p><p>下面的屏幕截图显示了结果分区在我们的16 GB驱动器上的外观。</p><img class="content_img" src="/image/e1/e17c421e078efb94f63e1d9ef3222431.png" /><p>虽然本文使用的是16 GB的USB驱动器，但8 GB的驱动器也同样适用。它只会有更少的存储空间。</p><p>首先，您必须下载要放在USB驱动器上的Ubuntu ISO文件。</p><p>注意：如果您要从活动磁盘创建活动USB驱动器，请确保在继续之前Ubuntu的宇宙存储库已启用。您可以通过运行以下命令来执行此操作：</p><code>sudo add-apt-repository universe</code><p>其次，您要使用的工具称为mkusb。它不是标准Ubuntu安装的一部分。您将需要安装它。要执行此操作，请输入以下三个命令。第一个命令添加了mkusb存储库，以便Ubuntu知道从哪里安装mkusb。</p><code>sudo add-apt-repository ppa:mkusb/ppa</code><img class="content_img" src="/image/40/40fc54dce0052eee34c80a3bd0c14e40.png" /><p>下一个命令强制Ubuntu刷新其已注册存储库的包列表。</p><code>sudo apt-get update</code><img class="content_img" src="/image/a3/a327dd311604078b2d19ec12fabac1ad.png" /><p>现在，我们可以使用以下命令继续安装mkusb软件包：</p><code>sudo apt install --install-recommends mkusb mkusb-nox usb-pack-efi</code><img class="content_img" src="/image/1b/1b570872e4b3fde1a6659a15de99655c.png" /><p>mkusb程序在识别USB驱动器方面做得非常出色。那太好了，但是没有什么比自己知道更好的了。当mkusb告诉您它将完全擦除某个特定驱动器时，您可以确定您计划使用的是USB驱动器，而不是系统上的其他设备。</p><p>在终端窗口中，键入以下命令。lsblk命令列出计算机上的块设备。每个驱动器都有一个与其关联的数据块设备。</p><code>lsblk</code><img class="content_img" src="/image/61/6159dc9336d1bebcd20aea2a006c0446.png" /><p>lsblk的输出将显示当前连接到您的计算机的驱动器。这台机器上有一个名为sda的内部硬盘驱动器，上面有一个名为sda1的分区。</p><img class="content_img" src="/image/e8/e89cac6d59e69f8788df7cb94a3ade2c.png" /><p>插入USB驱动器并再次使用lsblk命令。lsblk的输出将会更改。USB驱动器现在将列在输出中。</p><img class="content_img" src="/image/c6/c60c94365d6a1846aeb8470efc5bb771.png" /><p>列表中有一个名为SDB的新条目。它有一个名为sdb1的分区。那是U盘。</p><p>如果您的计算机中已有多个驱动器，则USB驱动器的名称将有所不同。无论如何命名，不在先前lsblk列表中的设备必须不是USB驱动器。</p><p>一旦您知道您的USB驱动器是哪个设备，您就可以启动mkusb了。按超级(Windows)键并键入“mkusb”。将出现mkusb图标。单击图标或按Enter键。</p><img class="content_img" src="/image/29/292c939c25b54da714e5782aab49a5fb.png" /><p>一个对话框将询问您是否希望运行mkusb的DU(做USB内容)版本。单击“是”按钮。</p><img class="content_img" src="/image/8e/8ef23acf40550fdd7edfef304e6208c7.png" /><p>将出现一个黑色背景的终端窗口，并出现一个对话框，提示您输入密码。输入您的密码，然后单击“确定”按钮。</p><img class="content_img" src="/image/f8/f8a74bef74dfb8b18598c317e7d800a7.png" /><p>警告：此过程将擦除USB驱动器的内容！</p><p>在警告对话框中单击“确定”以确认您理解这一点。</p><img class="content_img" src="/image/11/1196fa82f6f689596477c49628e83eab.png" /><p>单击列表中的“Install(Make A Boot Device)”条目，然后单击“OK”按钮。</p><img class="content_img" src="/image/b4/b4ae080c6aea1e03832fff21835dda2d.png" /><p>在列表中选择“‘Persistent live’-only Debian and Ubuntu”条目，然后单击“OK”按钮。</p><img class="content_img" src="/image/69/69fc504118af93fb49056ceccfea0636.png" /><p>将出现一个文件浏览器对话框。浏览到您下载的Ubuntu ISO文件，选择它，然后单击绿色的“OK”按钮。</p><p>在下面的屏幕截图中，我们从Downloads文件夹中选择了Ubuntu19.04ISO映像。</p><img class="content_img" src="/image/10/1018ebe5550411379c0c9a1117bb3b2d.png" /><p>您将看到连接到计算机的USB驱动器列表。这允许您选择适当的USB驱动器。</p><p>本文使用的测试机只连接了一个USB驱动器。正如我们上面确认的那样，它被称为SDB。我们已确认这就是我们要使用的USB驱动器，因此我们可以放心地继续操作。单击“确定”按钮。</p><img class="content_img" src="/image/e3/e3c40afa459a07083610e9a1c067046d.png" /><p>当下面显示的对话框出现时，在列表中选择“usb-pack-efi(来自ISO文件的默认GRUB)”条目，然后单击“OK”按钮。</p><img class="content_img" src="/image/af/af0a4214e328d6d61cacf041b02dddf6.png" /><p>你还有一个选择。您可以选择Casper-RW分区中用于持久存储的存储空间的百分比。其余部分将用于Susbdata分区，该分区具有NTFS文件系统，也可以从Windows PC和Mac访问。</p><p>如果您希望在这两个分区之间平均共享USB驱动器上的可用空间，请将滑块保留为默认值，然后单击“OK”按钮。</p><img class="content_img" src="/image/87/87e3774ee494849df5e4ebe879bf14f3.png" /><p>现在，我们只需要告诉Mmkusb，我们对我们所有的选择都很满意，应该继续下去。</p><p>需要说明的是，这是您可以退出的最后一点。如果您确定要继续，请选择“Go”单选按钮，然后单击“Go”按钮。</p><img class="content_img" src="/image/fd/fd747a2ce639096bd818c3de37b4064d.png" /><p>进度条显示创建过程接近完成的程度。</p><img class="content_img" src="/image/2e/2e09394539cc78608ef8b3b4d8a79767.png" /><p>创建的最后阶段是将文件系统缓冲区刷新到USB驱动器。我们还建议您等到看到“工作完成”这句话时再做。这将表明该过程已经完成。</p><img class="content_img" src="/image/44/4473400ed8297b1648d172730101acb4.png" /><p>当该过程完成时，您将看到一个对话框，其中“Work Done”以绿色突出显示。单击“确定”按钮。如果出现任何其他对话框，请单击“退出”按钮将其关闭。</p><img class="content_img" src="/image/12/12fa75e13df31b7be7b0d21f63f2fb3c.png" /><p>另外几行输出将在终端窗口中滚动。当您准备好时，系统将提示您按“Enter”键。</p><img class="content_img" src="/image/86/86236c77386d485e834538ba3e73d505.png" /><p>当您按“Enter”键时，终端窗口将关闭。现在，您可以重新启动计算机并从USB驱动器引导，或者拔下USB驱动器，将其带到另一台计算机，然后在那里引导。</p><p>相关：如何从光盘或USB驱动器启动计算机</p><p>如何在Windows上制作永久Ubuntu USB驱动器</p><p>更新：我们被告知以下方法(使用Linux Live USB Creator)不再适用于最新版本的Ubuntu。您需要改用上面的方法。</p><p>您需要足够大的USB驱动器才能设置持久性。Ubuntu自己声称它的USB驱动器需要2 GB的存储空间，你还需要额外的空间来存储持久存储。因此，如果您有一个4 GB的USB驱动器，那么您只能有2 GB的永久存储空间。要获得最大的持久存储容量，您需要一个大小至少为6 GB的USB驱动器。</p><p>不幸的是，Ubuntu官方推荐的用于在Windows上创建活动Ubuntu USB驱动器的Rufus工具不支持创建具有持久存储的系统。虽然我们推荐使用Rufus来创建大多数Ubuntu live USB驱动器，但是我们必须使用不同的工具来完成这项特定的工作。(更新：最新版本的Rufus现在支持持久存储！)</p><p>下载要放在USB驱动器和Linux Live USB Creator应用程序上的Ubuntu ISO文件。</p><p>将您要使用的USB驱动器插入计算机的USB端口，然后启动您刚刚安装的“Lili USB Creator”应用程序。</p><p>在“Step 1：Choose Your Key”框中选择要使用的USB驱动器。</p><img class="content_img" src="/image/9d/9d485aa7d32b87584daed6425157b0eb.jpg" /><p>提供您下载的Ubuntu ISO文件。单击“步骤2：选择源”下的“ISO/img/ZIP”按钮，浏览到计算机上的.ISO文件，然后双击它。</p><img class="content_img" src="/image/e3/e32d4bd3aff2e1285ed45c1a69300521.jpg" /><p>使用“Step 3：Persistence”部分中的选项选择要在USB驱动器上用于永久存储的空间大小。将滑块一直向右拖动以选择最大存储量。</p><img class="content_img" src="/image/12/125b4da357c2a9401ba3126d2704ac8a.png" /><p>现在，您已经配置了需要配置的所有设置。要创建具有永久存储的活动USB驱动器，请单击“步骤5：创建”下的闪电图标。</p><img class="content_img" src="/image/a5/a5cab6c35b7ebd89d889ee0acb93544d.jpg" /><p>给工具一些时间来创建驱动器。当该过程完成时，您将看到一个“您的LinuxLive密钥现在已就绪！”留言。现在，您可以重新启动计算机并从USB驱动器引导，或者拔下USB驱动器，将其带到另一台计算机上，然后在那里引导。</p><img class="content_img" src="/image/7d/7df2da1c388f0fe7507a1629cec7b9d3.jpg" /><p>要确认永久存储正常工作，请启动USB驱动器并在桌面上创建文件夹，或将文件保存到桌面。然后，关闭系统并再次启动活动USB驱动器。您应该会看到放置在桌面上的文件夹或文件。</p><div class="item_info"><span class="item_key"><a href="/tag/usb/">usb</a></span><span class="item_key"><a href="/tag/ubuntu/">ubuntu</a></span><span class="item_key"><a href="/tag/驱动器/">驱动器</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14557.html">理智回归：USB4的新标识将如何简化购物</a><li><a href="/story/14341.html">USB4：有什么不同，为什么很重要</a><li><a href="/story/14022.html">为什么USB一定要这么复杂？</a><li><a href="/story/13765.html">鼠标和键盘的USB-RF和蓝牙：哪个更好？</a><li><a href="/story/13637.html">DisplayPort 2：有什么不同，为什么重要</a><li><a href="/story/13372.html">如何在Linux中将ISO文件刻录到USB驱动器</a><li><a href="/story/13188.html">如何使用新MacBook Pro为iPhone充电</a><li><a href="/story/12982.html">USB4将以更低的价格带来迅雷速度</a><li><a href="/story/12959.html">什么是USB第1代第2代和第2代×2？</a><li><a href="/story/12605.html">USB-C将变得更加安全</a><li><a href="/story/12602.html">即将推出的Chrome OS功能可在设备锁定时保护USB端口</a><li><a href="/story/12133.html">苹果公司明天将发布新产品：以下是我们可以期待的</a><li><a href="/story/11810.html">如何停止Windows关闭USB设备的电源</a><li><a href="/story/11157.html">如何使用最少的加密狗将内容连接到您的新MacBook</a><li><a href="/story/9725.html">如何升级您的插座以进行USB充电</a><li><a href="/story/9575.html">小心：如何购买不会损坏设备的USB C型电缆</a><li><a href="/story/8093.html">USB Type-C解释：什么是USB-C？为什么需要它</a><li><a href="/story/7932.html">是否有真正的USB通信协议？</a><li><a href="/story/7661.html">不要惊慌，但所有USB设备都存在严重的安全问题</a><li><a href="/story/7583.html">我可以将USB设备直接插入我的主板吗？</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>