<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Windows 7和Vista中安排磁盘清理</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Windows 7和Vista中安排磁盘清理</h2></div><div class="content"><p>在您的Windows计算机上运行定期维护任务(如磁盘清理)始终是个好主意，以帮助保持其平稳运行。今天，我们来看看如何安排基本的磁盘清理任务，以及如何使用命令行开关进行更高级的设置。</p><p>排定磁盘清理基本计划</p><p>Windows包括一些方便的工具，可帮助您的计算机保持平稳运行。其中一个这样的工具是磁盘清理，它可以删除临时和旧文件，帮助您回收一些硬盘空间。您可能希望将其设置为每周或每月运行，具体取决于最适合您的方式。要计划定期运行磁盘清理，我们需要计划一项任务。在本例中，我们使用的是Windows7，但步骤在Vista中也基本相同。</p><p>单击开始菜单，在搜索框中输入任务计划程序，然后按Enter。</p><img class="content_img" src="/image/71/710f1cbf866e1245bbb2df9343982fd1.png" /><p>将打开Task Scheduler，您需要单击Action，然后选择Create Basic Task。</p><img class="content_img" src="/image/bd/bd5b88ab1ba35369d95e92eb0a47bbc8.png" /><p>此时将出现Create Basic Task Wizard(创建基本任务向导)，并在此处键入任务名称和描述，然后单击Next(下一步)。</p><img class="content_img" src="/image/f5/f5903ceb6680014a337423d090c447a4.png" /><p>现在选择您希望磁盘清理运行…的频率。每周、每日、每月、一次性…。等等。关于你多久运行一次，没有正确或错误的答案。这完全取决于你，你可能想尝试一些不同的时间表。在本例中，我们将选择每周。</p><img class="content_img" src="/image/5b/5b8a8af4657f01590dce8efc0c57aa85.png" /><p>由于我们将其设置为每周运行一次，因此我们需要安排它何时启动、重复出现的频率以及在一周中的哪一天运行它。</p><img class="content_img" src="/image/84/845207c241c9b74f02f83773bcd046a8.png" /><p>下一步，在操作下选择Start a Program…</p><img class="content_img" src="/image/c7/c7ab2160872760e40d3e87951711a7dc.png" /><p>在Program/Script字段中键入leanmgr.exe</p><img class="content_img" src="/image/72/726bfb0eb0dcefc99035c290b9b85f56.png" /><p>或者，您也可以点击浏览并选择位于C：\Windows|system32\leanmgr.exe中的Disk Cleanup</p><img class="content_img" src="/image/89/89a4a3bba4f72df5d6a0c6b73e497c68.png" /><p>在Program/Script下，您将看到磁盘清理的路径为C：\WINDOWS\SYSTEM32\CLEAN mgr.exe</p><img class="content_img" src="/image/03/036b7cf6a3fe8a8ac6489b8ed00edfa6.png" /><p>然后，您将看到计划任务的摘要，如果一切正常，请单击Finish。</p><img class="content_img" src="/image/72/726ac4a1003b4e55f57f2c727bfaa154.png" /><p>对于此基本设置，我们将其安排在知道计算机将会使用的时间。当计划任务发生时，它将弹出，您可以通过选择要清理的驱动器来运行它。</p><img class="content_img" src="/image/b2/b279959ae6e2436c6e89e2f1f8a7fbd0.png" /><p>Disk Cleanup开始其计算…</p><img class="content_img" src="/image/c8/c8d5090ce005e9926d03ec3a42ee9767.png" /><p>现在查看结果，您可以选择要删除的文件。</p><img class="content_img" src="/image/ca/ca83dfdebe64188875409f75d02920a3.png" /><p>高级命令行开关</p><p>虽然上述方法很有效，但您可能根本不想与磁盘清理实用程序交互。运行几个命令行开关将允许您选择要清理的内容，并自动运行所有内容。要打开命令提示符，请在“开始”菜单的“搜索”框中键入cmd，然后按Enter键。</p><img class="content_img" src="/image/13/13a20421e558e0f4961cac1b93afd420.png" /><p>在命令提示符下打开以下内容：</p><p>这将打开“磁盘清理设置”对话框，您可以在其中选择要删除的项目。您会注意到，与通过GUI清理文件相比，这里有更多的选项。</p><img class="content_img" src="/image/17/176e1db2e9be003ab7f0940f32914255.png" /><p>在“磁盘清理设置”中选择要删除的文件后，单击“确定”关闭屏幕。/sageset：1命令创建保存您输入的设置的注册表项。</p><p>现在进入并创建您的Scheduled Task，就像我们前面展示的那样，但这一次您需要将/sagerun：1添加到Add Argument字段中。</p><img class="content_img" src="/image/cb/cb661cf31dec30791761ff0c8fb09107.png" /><p>现在，当磁盘清理运行时，它将检索您使用/sageset：1创建的那些保存的设置，并且您根本不需要与磁盘清理交互。它将自动运行并清除您在“磁盘清理设置”中选择的文件。</p><p>任务计划程序错误</p><p>在Windows7中启动任务管理器时，您可能会收到以下错误消息。它告诉您点击刷新，但错误不断出现。这似乎不会对你的日程安排产生负面影响，但却相当烦人。</p><img class="content_img" src="/image/2d/2de029fa8502565473d4cd1095670011.png" /><p>从我对这个错误所做的研究来看，有几种不同的解决方案对不同的人有效。在我们的系统上，磁盘碎片整理计划已关闭，因此我们将其重新打开并解决了问题。在另一个单独的Windows7系统上，磁盘碎片整理计划已经打开(这是默认的)，关闭它可以修复错误。在另一台机器上，我必须先将其关闭，然后再重新打开以修复错误消息。</p><img class="content_img" src="/image/1c/1c550bf7ece692f9a373a847a3b0f3d7.png" /><p>结束 / 结尾 / 结论 / 推论</p><p>如果您使用高级开关来运行磁盘清理，那么它实际上提供了更多的选择。在/sageset：1开关中，“1”只是一个任意数字。您可以输入任何想要的数字，但要确保/sagerun：“x”与您在/sageset：“x”中使用的数字相对应。因此，您可以在“磁盘清理设置”中为要清理的不同类型的文件自定义开关。</p><p>例如，您可能只想在清理会话期间清理临时Internet文件，那么您可以为此执行/sageset：1和/sagerun：1。然后，如果您想清理所有文件，可以使用/sageset：10和/sagerun：10。开关使您可以更灵活地选择在磁盘清理会话期间删除的文件类型。无论您使用哪种方法，或者如果您只想手动运行，运行磁盘清理将使您的驱动器清除不需要的文件。</p><div class="item_info"><span class="item_key"><a href="/tag/磁盘清理/">磁盘清理</a></span><span class="item_key"><a href="/tag/选择/">选择</a></span><span class="item_key"><a href="/tag/任务/">任务</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/2807.html">Server 2008中的磁盘清理，第2部分：计划清理</a><li><a href="/story/1375.html">$inplace.~TR和$WINDOWS.~Q文件夹是什么，我可以删除它们吗？</a><li><a href="/story/1227.html">修复所有缩略图图标显示相同或错误图像的问题</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>