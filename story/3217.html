<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何使用E4rate将Linux PC的引导时间减半</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何使用E4rate将Linux PC的引导时间减半</h2></div><div class="content"><img class="content_img" src="/image/24/24623aaee341bd3dec687d4a988465e3.png" /><p>Linux在现代计算机上的启动速度相当快，但为什么不进一步削减它呢？如果你因为缺少固态硬盘而苦恼，或者只是想更快地开机，E4rat可以很容易地缩短你的开机时间。</p><p>注意：这篇文章是为Ubuntu 11.04编写的，所以很有可能它不再工作了。</p><p>E4rat和您的Linux PC</p><p>E4rat是一个旨在大幅缩短Linux引导时间的实用程序。基本上，您可以向它显示您正常启动计算机时所做的事情，并且它会分析您访问和使用的文件。然后，它会将它们移到硬盘的开头，这样在引导过程中找到它们所需的时间就会更短。</p><p>E4RAT仅设计为使用Ext4分区。如果您使用的是另一个文件系统，那么这不适合您。有关于它与LVM一起工作的报道，但您的使用里程可能会有所不同，所以如果您有敏感数据，请小心。</p><p>此外，如果您有SSD，您应该远离这一点。因为E4RAT为了更好的查找时间而移动文件，所以SSD用户不会看到任何好处，因为他们的“查找”时间不受此影响。通过移动文件和执行扩展写入，您甚至可能最终损坏已经非常快的硬盘。</p><p>在Ubuntu上安装E4RAT</p><p>对于Ubuntu用户，E4rat以.deb包的形式提供。如果您运行的是另一个Linux发行版，则必须从源代码编译E4rat，但是事情应该运行得很好，并且您仍然可以在很大程度上遵循本指南。唯一真正的例外是那些使用Debian的人--在继续之前先看一下这个注释。对于我们的分步指南，我们假设您运行的是Ubuntu Natty(11.04)。</p><p>点击此处访问E4rat的Sourceforge页面。</p><img class="content_img" src="/image/b1/b1016c51be14542f34bff9c6e6c3ab20.png" /><p>单击最新版本，然后下载适合您的架构的文件。</p><img class="content_img" src="/image/21/21c74de3423fa80cba443fa1e449f1fa.png" /><p>我运行的是Ubuntu Natty的64位安装，所以我选择了“AMD64”版本。</p><p>现在，如果您尝试现在安装它，您会得到一个错误，因为Ubuntu的默认“ureadhead”包与E4RAT冲突。</p><img class="content_img" src="/image/fa/fa05705459da9049916f64fd93c9344c.png" /><p>Ureadhead在概念上是相似的，但是没有E4rat那么好用，所以让我们把它去掉吧。打开终端并输入以下命令。</p><img class="content_img" src="/image/73/73e13dd1c1a0a8a1134e6b981353c2a8.png" /><p>输入您的密码，让它自行操作。接下来，让我们确保E4rat的适当依赖项存在。</p><img class="content_img" src="/image/04/042de0c92c3c7391ccdc5cbf50fb2f9e.png" /><p>默认情况下，您应该已经安装了它们，但如果没有，此命令将安装/升级到最新版本。</p><p>现在，当您双击下载的.deb文件时，您将不会看到该错误，您只需单击Install按钮即可。</p><img class="content_img" src="/image/8c/8cd6484d90999711f1f566f170c2f728.png" /><p>我在这一点上碰巧得到了一个错误，但是如果你得到了它，你可以点击忽略(Ignore)。完成所有操作后，重新启动计算机，但请停留在GRUB菜单。</p><p>正在收集数据</p><p>安装了E4rat后，我们需要确保它正确地收集数据。为此，我们可以编辑下次引导的参数。确保你在GRUB菜单中。</p><img class="content_img" src="/image/30/30ec0022ac67ed737eff227195b71bf9.jpg" /><p>突出显示通常用于引导进入Linux的选项，然后按“e”键。查找以以下字符开头的行：</p><img class="content_img" src="/image/1e/1e8924d4663bcfd0fd1de1ef6ca9c33a.jpg" /><p>这是上图中倒数第二行(点击图片查看大图)。此行告诉Linux内核要加载。在该行末尾添加以下内容：</p><img class="content_img" src="/image/7b/7ba67604b6056b17ee7b1d906b3b1581.jpg" /><p>然后，只需按Ctrl+X继续引导。这将告诉E4rat的Collect程序在引导后开始运行。让您的计算机做它自己的事情，然后登录。在接下来的两分钟内，您应该做您登录后通常要做的事情。对我来说，这需要加载Chrome和Firefox，打开终端并运行Screen/Byobu，打开鹦鹉螺和快门，这样我就可以检查我的文件并截图了。</p><img class="content_img" src="/image/f3/f330108adb4f486aa988fb5ffe80dea4.png" /><p>如你所见，前两分钟非常关键。我点击了E4rat使用的两分钟窗口内的所有内容，但直到几分钟后才加载所有内容。不过，没关系，只要您开始加载应用程序，就不会有问题。</p><p>让我们检查以确保创建了正确的日志文件。打开航站楼。</p><img class="content_img" src="/image/7e/7e31a420adc18185c14097bc6045fc8c.png" /><p>您应该会看到显示的文件a，它的名称是“Startup.log”。如果未创建此文件，则需要重新启动该进程。</p><p>移动启动文件</p><p>验证日志文件存在后，重新启动计算机并在GRUB屏幕停止。选择您的引导选项，然后再次按“e”。</p><p>这一次，我们将在同一行的末尾添加一些不同的内容：</p><img class="content_img" src="/image/50/50a25fc4df36574d35628294cbdf605f.jpg" /><p>按Ctrl+X进行引导，但这一次，我们将直接进入命令行。我的机器花了一段时间，然后给了我一个有几个选项的屏幕。如果发生这种情况，只需选择“恢复正常引导”选项即可。</p><img class="content_img" src="/image/6d/6def4e01e2d80e13617e7e3331560797.jpg" /><p>然后，如果没有进入命令提示符，请按Ctrl+Alt+F1。您现在应该会看到登录提示。</p><img class="content_img" src="/image/36/36e95f112eaf6351f5a9a8e1b748b6ac.jpg" /><p>输入您的用户名和密码，然后输入以下命令：</p><img class="content_img" src="/image/b7/b72c5654690168622d6d72663f675574.jpg" /><p>输入您的密码，E4RAT将开始移动您硬盘上的文件。</p><img class="content_img" src="/image/7e/7e2d16899400e78c08ad1edb74794524.jpg" /><p>这可能需要相当长的时间，具体取决于磁盘的杂乱程度。只要看着硬盘指示灯闪烁，耐心地等待事情完成。</p><img class="content_img" src="/image/e6/e6eb3eed6aeb297904a1637427c8b2f7.jpg" /><p>官方网站建议您再运行该命令几次，直到其他任何东西都无法移动。我的电脑马上给了我这条信息，所以你的里程数可能会有所不同。</p><img class="content_img" src="/image/fd/fd690caf9d88867c77d6fbbf3c5bf0f7.jpg" /><p>并正常登录以完成最后一个阶段。</p><p>将GRUB配置为在每次引导时运行E4RAT</p><p>打开终端，输入：</p><p>Ubuntu的文本编辑器应该会弹出。查找以“GRUB_CMDLINE_LINUX_DEFAULT=”开头的行</p><img class="content_img" src="/image/c2/c2daa0a3789c35093f65e7adc18153e2.png" /><p>我们将在这些引号内和任何选项之前添加一行。</p><p>您的文件应该如下所示：</p><img class="content_img" src="/image/e9/e989ca1e3f150797379a65ea6b76adda.png" /><p>点击保存按钮并关闭Gedit。现在，返回终端并运行最后一条命令：</p><img class="content_img" src="/image/0f/0fb10b16224cdd435d939687aed7458e.png" /><p>以这种方式配置GRUB(而不是通过编辑/boot/GRUB/grub.cfg)将确保这种情况在两个更新之间持续，尽管如果将来在不同版本之间升级，您可能必须重做这一点。但是，到那时，您可能希望重做整个过程，以便将正确的文件放在正确的位置。</p><p>下次重新启动时，您会注意到启动和打开通常直接打开的应用程序的时间差相当大。我的上网本启动时间现在大约是10秒！</p><p>你知道还有没有其他方法可以让你的开机时间缩短几秒钟呢？在评论中分享你所知道的吧！</p><p></p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/e4rat/">e4rat</a></span><span class="item_key"><a href="/tag/引导/">引导</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>