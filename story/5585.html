<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>IT极客：如何使用PXElinux v5和Wimboot网络引导(PXE)WinPE恢复盘</title><link rel="stylesheet" href="/css.css"></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>IT极客：如何使用PXElinux v5和Wimboot网络引导(PXE)WinPE恢复盘</h2></div><div class="content"><img class="content_img" src="/image/85/858773c1e9a86029ca8fa8b4304782c7.jpg" /><p>您是否曾希望能够针对您想要使用的维护程序或程序运行“Windows故障恢复控制台”，而不必记住CD中忘记的位置？以下是HTG介绍如何从PXE启动WinPE。</p><p>图片来源：阿尔弗雷德·赫米达(Alfred Hermida)通过Compight cc</p><p>Windows预执行环境(WinPE)是大多数人都知道的从安装CD启动的Windows版本。多年来，整个项目的创建都是为了让人们有能力拥有一种像许多Linux发行版一样的“Windows Live”环境。在本指南中，我们将使用从PXE安装CD引导的Windows PE，以便我们可以使用它来运行戴尔BIOS更新实用程序。我们鼓励您继续探索这个极客善良的无底深渊…</p><p>概述 / 综述</p><p>我们已经向你展示了什么是PXE，以及如何使用FOG轻松地为它安装服务器(以及更多)，今天我们将为FOG添加另一个新的扩展。通常今天的程序是：</p><p>
如果尚未安装，请将PXElinux更新到v5.01或更高版本。
添加wimboot模块。
从Windows安装CD复制WIM映像和支持文件。
添加菜单项。
使用启动的WinPE获得工作正常的“Windows Windows恢复控制台”。</p><p>我们将执行上述操作，因为使用“常规”Windows Automated Installation Kit(WAIK)的方式最多只能迫使您将其安装在您的计算机上，并经历一个不那么简单的过程，将WIM文件及其支持文件破坏为它们的WDS/RIS形式。虽然Linux不存在替代方案，但就像UDA项目的那个(这是我在雾出现之前使用的PXE服务器)一样，使用这种方式，您只需替换PXE服务器上的一些文件一次(无论如何，您可能最终都不会这样做)，并将未经更改的WIM文件和支持文件直接从Windows CD复制到PXE服务器中。</p><p>需要注意的一件事是，虽然看起来你可以用这种方式开始Windows安装过程，但实际上你无法完成它，而实现这一点可能超出了本指南的范围。</p><p>让我们开始行动吧：)</p><p>将PXElinux更新到V5.01</p><p>截至撰写本文时，Ubuntu存储库中的Syslinux版本仍为4.05。我猜这是因为Syslinux团队已经决定与V5分支进行重组，并改变了他们的核心COM32模块的工作方式(现在基于ELF)，并更改了“核心”，以需要一个引擎库(ldlinux.c32)来支持“纯引导”以外的任何东西。这使得很有可能遇到破损，对于任何习惯了“老方法”的人来说。不要着急，我们会手动下载所需的文件，并进行制作，这样您的雾安装就不会有丝毫松懈。</p><p>我们将使用版本5.01，因为它是撰写本文时来自V5分支的最新稳定版本，也是Syslinux团队与Wimboot团队合作的版本，以使这一特定的测试过程能够正常工作。</p><p>注意：最新版本还不是Ubuntu存储库(IMHO)的另一个原因是，至少在Citrix-Xen上，HVM来宾不能引导PXE菜单以外的任何东西。其他虚拟机管理程序，如VMware，Hyper-V和VirtualBox，以及物理虚拟机都可以使用新的虚拟机版本。</p><p>如果上面的说明对您没有影响，您可以继续。</p><p>直接从Kernel.org获取PXElinux 5.01版，通过以下方式解压到雾服务器上：</p><p>创建存放新需要的库的目录：</p><p>将所需的库文件复制到此目录，以便客户端在运行时可以使用它们：</p><p>通过编辑此目录或发出以下命令，将此目录的“路径”附加到已有的“默认”配置文件：</p><p>执行以下命令，将新需要的ldlinux.c32复制到TFTP服务器的根目录：</p><p>更新新图形引擎(vesamenu.c32)，使其与此新版本相对应：</p><p>恭喜您，您的PXE服务器现在已更新到v5.01，并且所有已经在工作的内容(除非您从本部分开始就受到“注意事项”的影响)应该会继续这样做。</p><p>WIMboot</p><p>这个引导加载程序是iPXE项目的一部分，他们会这样描述它：</p><p>从他们的官方网站下载最新版本：</p><p>如果缺少解压缩包，请在您的FOG服务器上安装：</p><p>解压缩wimboot软件包：</p><p>将wimboot模块复制到我们在上一段中创建的“libs”目录：</p><p>仅此而已。可以调用wimboot引导加载程序了。</p><p>Windows CD文件</p><p>在FOG服务器上创建一个新目录来保存我们要复制的文件：</p><p>将原始Windows 7安装CD放入CDROM驱动器，并将下面列出的文件复制到此目录中：</p><p>是的，就是这么简单，您不需要将目录和结构保存在CD上就可以工作。</p><p>注：为了使戴尔BIOS更新正常工作，我发现有必要使用32位版本的Windows。</p><p>添加菜单项</p><p>通过编辑“Utils”菜单创建PXE菜单项：</p><p>在其后面附加以下内容：</p><p>恭喜您，现在您的PXE服务器上已经安装了WindowsPE。：)</p><p>注：它看起来可能像它挂在“WIM”文件上的文件，但事实并非如此，它实际上是在通过TFTP将140MB的文件传输到客户端，这比通常通过这种方式传输的小文件需要更长的时间。</p><p>这是证明它确实发生过的屏幕截图。</p><img class="content_img" src="/image/ea/ead14cf62fa744746a104e382413d06d.png" /><p>上面的VM是使用VMware-Player运行的，它在硬盘上安装了Ubuntu，并将PXE引导到WinPE中。</p><p>Windows恢复控制台</p><p>同样，正如概述中提到的，虽然看起来您可以通过这种方式启动Windows安装过程，但实际上您无法完成它，而实现这一点可能超出了本指南的范围。</p><p>话虽如此，仅举一个例子来说明为什么这将非常有用，我们将使用此虚拟环境来执行戴尔BIOS更新。</p><p>从戴尔网站获取需要执行的更新，并将其存储在闪存盘上。将磁盘放在Key上，然后PXE引导客户端。</p><p>要进入故障恢复控制台，请在上面截图所示的主窗口中，单击“下一步”。</p><img class="content_img" src="/image/ff/ff02ef1ebab2793be5a6959c21951a43.png" /><p>单击“修复您的计算机”。</p><img class="content_img" src="/image/cb/cb60901851edbd5dc2dff1576e02c926.png" /><p>选择“使用恢复工具”，然后单击“下一步”。</p><img class="content_img" src="/image/fb/fb20c9c121ff7abf6db651a295e18de1.png" /><p>点击“命令提示符”。</p><p>进入命令提示符后，您必须找出WinPE决定为您的盘上密钥指定什么“驱动器号”。要执行此操作，请通过以下命令让系统枚举当前分配的所有驱动器号：</p><p>现在，排除字母A：和X：，甚至可能包括C：(尽管这不是给定的)，循环使用驱动器号，并通过以下命令查找密钥上的磁盘：</p><p>找到正确的驱动器后，执行该文件，您应该会看到类似以下内容：</p><img class="content_img" src="/image/1c/1c3237d51b2d1564dc86c38f1950ef7e.jpg" /><p>祝贺您，您可以升级了：)</p><p>我知道功夫…</p><div class="item_info"><span class="item_key"><a href="/tag/使用/">使用</a></span><span class="item_key"><a href="/tag/windows/">windows</a></span><span class="item_key"><a href="/tag/文件/">文件</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14584.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14577.html">如何检查Linux上安装了哪个GPU</a><li><a href="/story/14572.html">如何使用Jouralctl读取Linux系统日志</a><li><a href="/story/14555.html">2020年CES最佳：我们今年看到的所有最好的东西</a><li><a href="/story/14467.html">如何在Windows 10上切换到本地用户帐户</a><li><a href="/story/14450.html">如何在Excel中将一长列变为多列</a><li><a href="/story/14438.html">如何在iPhone上创建和使用Memoji和Animoji</a><li><a href="/story/14426.html">如何使用Google Sheets中的查询功能</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14377.html">如何在Google Sheets中使用AND和OR函数</a><li><a href="/story/14353.html">如何使用触摸板、鼠标或键盘右键单击任何Mac</a><li><a href="/story/14296.html">如果您的Windows 10键盘或鼠标无法工作，该怎么办</a><li><a href="/story/14262.html">iPhone11上的Deep Fusion摄像头是什么？</a><li><a href="/story/14257.html">如何在Linux上编写fstab文件</a><li><a href="/story/14202.html">什么是利特语，你是如何使用它的？</a><li><a href="/story/14168.html">刚刚更新到iOS 13吗？立即更改这八个设置</a><li><a href="/story/14142.html">为什么您应该登录Google、Facebook或Apple</a><li><a href="/story/14130.html">如何在Windows 10中的每个显示器上设置不同的墙纸</a><li><a href="/story/14121.html">如何在Linux上使用chroot命令</a><li><a href="/story/14036.html">如何在Chrome中从图像中抓取文本</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>