<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何在Linux上从.tar.gz或.tar.bz2文件中提取文件</title><link rel="stylesheet" href="/css.css"><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f75329719d379998b2421a4cc2396366";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="header"><a class="site_title" href="http://www.fuzadu.com">复杂度</a></div><div><div><h2>如何在Linux上从.tar.gz或.tar.bz2文件中提取文件</h2></div><div class="content"><p>TAR文件是压缩的归档文件。在使用像Ubuntu这样的Linux发行版时，甚至在MacOS上使用终端时，您会经常遇到它们。下面介绍如何提取(或解压)tar文件(也称为tarball)的内容。</p><p>.tar.gz和.tar.bz2是什么意思？</p><p>扩展名为.tar.gz或.tar.bz2的文件是压缩存档文件。仅具有.tar扩展名的文件是解压缩的，但这种情况非常少见。</p><p>文件扩展名的.tar部分代表磁带存档，这也是这两种文件类型都称为tar文件的原因。tar文件可以一直追溯到1979年，当时创建tar命令是为了允许系统管理员将文件存档到磁带上。40年后，我们仍然在使用tar命令将tar文件解压到硬盘上。可能某个地方的人还在用胶带涂焦油。</p><p>.gz或.bz2扩展名后缀表示存档已使用gzip或bzip2压缩算法进行压缩。*tar命令可以很好地处理这两种类型的文件，因此使用哪种压缩方法并不重要-而且它应该在您拥有Bash shell的任何地方都可用。您只需使用适当的tar命令行选项即可。</p><p>从Tar文件中提取文件</p><p>假设您下载了两个乐谱文件。一个文件名为ukulele_songs.tar.gz，另一个文件名为giitar_songs.tar.bz2。这些文件位于下载目录中。</p><img class="content_img" src="/image/a8/a8c83aca766bbdf4699aa914e4c174b1.png" /><p>让我们摘录尤克里里的歌曲：</p><code>tar -xvzf ukulele_songs.tar.gz
</code><p>解压文件时，它们会在终端窗口中列出。</p><img class="content_img" src="/image/6f/6f0fca75a0cc3c04ef7dcc3ab84f1fb3.png" /><p>我们使用的命令行选项包括：</p><p>
-x：从tar文件中提取、检索文件。
-v：Verbose，在提取文件时列出这些文件。
-z：gzip，使用gzip解压tar文件。
-f：file，我们希望tar使用的tar文件的名称。此选项后面必须跟TAR文件的名称。</p><p>使用ls列出目录中的文件，您将看到已经创建了一个名为Ukulele sones的目录。解压缩的文件位于该目录中。这个目录是从哪里来的？它包含在tar文件中，并与文件一起解压。</p><img class="content_img" src="/image/4f/4fff27c07f9824e189aaa3687578a60d.png" /><p>现在让我们摘录吉他歌曲。为此，我们将使用与前面几乎完全相同的命令，但有一个重要的区别。.bz2扩展名后缀告诉我们它已使用bzip2命令压缩。我们将不使用-z(Gzip)选项，而使用-j(Bzip2)选项。</p><code>tar -xvjf guitar_songs.tar.bz2</code><img class="content_img" src="/image/73/732d472b405e778d0322e7aa2d23d992.png" /><p>同样，在提取文件时，会将文件列出到终端。需要明确的是，我们与.tar.bz2文件的tar一起使用的命令行选项是：</p><p>
-x：从tar文件中提取、检索文件。
-v：Verbose，在提取文件时列出这些文件。
-j：bzip2，使用bzip2解压tar文件。
-f：file，我们希望tar使用的tar文件的名称。</p><p>如果我们列出下载目录中的文件，我们将看到已经创建了另一个名为Guitar歌曲的目录。</p><img class="content_img" src="/image/28/28f189df99ff1aa655160ba8720953dd.png" /><p>选择将文件解压缩到的位置</p><p>如果我们希望将文件解压缩到当前目录以外的位置，可以使用-C(指定目录)选项指定目标目录。</p><code>tar -xvjf guitar_songs.tar.gz -C ~/Documents/Songs/</code><p>查看我们的文档/歌曲目录，我们会看到已经创建了Guitar歌曲目录。</p><img class="content_img" src="/image/93/9318dda84d6d738ffdd2f86bad74d716.png" /><p>请注意，目标目录必须已经存在，如果不存在，tar将不会创建它。如果您需要创建一个目录，并让tar在一个命令中将所有文件解压缩到其中，您可以执行以下操作：</p><code>mkdir -p ~/Documents/Songs/Downloaded && tar -xvjf guitar_songs.tar.gz -C ~/Documents/Songs/Downloaded/</code><p>p目录(父目录)选项使mkdir创建所需的任何父目录，从而确保创建了目标目录。</p><p>在解压缩之前查看焦油文件内部</p><p>到目前为止，我们刚刚冒了一次险，提取了看不见的文件。你最好三思而后行。在解压tar文件之前，您可以使用-t(List)选项查看它的内容。通过less命令通过管道输出通常很方便。</p><code>tar -tf ukulele_songs.tar.gz | less</code><p>注意，我们不需要使用-z选项来列出文件。我们只需要在从.tar.gz文件提取文件时添加-z选项。同样，我们不需要-j选项来列出tar.bz2文件中的文件。</p><img class="content_img" src="/image/e6/e6f44961e797081f564b0c260685a9bf.png" /><p>滚动查看输出，我们可以看到tar文件中的所有内容都保存在一个名为Ukulele歌曲的目录中，并且在该目录中有文件和其他目录。</p><img class="content_img" src="/image/df/df9ec4ecfecd28c0aa32d2cbc4e45de1.png" /><p>我们可以看到，Ukulele歌曲目录包含称为随机歌曲、雷蒙斯和Possible的目录。</p><p>要从tar文件中的目录中提取所有文件，请使用以下命令。请注意，路径用引号括起来，因为路径中有空格。</p><code>tar -xvzf ukulele_songs.tar.gz "Ukulele Songs/Ramones/"</code><img class="content_img" src="/image/65/658b683e57d4f99fca4662c3572b7f63.png" /><p>要解压缩单个文件，请提供文件的路径和名称。</p><code>tar -xvzf ukulele_songs.tar.gz "Ukulele Songs/023 - My Babe.odt"</code><img class="content_img" src="/image/d6/d6ee8e3a13c57160da56cf9ce8fd59ca.png" /><p>您可以使用通配符提取选定的文件，其中*表示任意字符串，？表示任何单个字符。使用通配符需要使用--通配符选项。</p><code>tar -xvz --wildcards -f ukulele_songs.tar.gz "Ukulele Songs/Possibles/B*"</code><img class="content_img" src="/image/22/2203a501147bca2e5131e71b8136edb3.png" /><p>在不解压缩目录的情况下解压缩文件</p><p>如果不希望在硬盘上重新创建tar文件中的目录结构，请使用--strie-component选项。--strie-component选项需要数字参数。该数字表示要忽略的目录级数。仍会提取忽略目录中的文件，但不会将目录结构复制到硬盘上。</p><p>如果我们在示例tar文件中指定--strie-component=1，则不会在硬盘上创建tar文件中最顶层的Ukulele歌曲目录。本应解压到该目录的文件和目录将在目标目录中解压。</p><code>tar -xvzf ukulele_songs.tar.gz --strip-components=1</code><img class="content_img" src="/image/66/6628424c0d8d0a1fa5db8687158bbaf5.png" /><p>我们的示例tar文件中只有两级目录嵌套。因此，如果我们使用--strie-component=2，那么所有文件都会被解压到目标目录中，并且不会创建任何其他目录。</p><code>tar -xvzf ukulele_songs.tar.gz --strip-components=2</code><img class="content_img" src="/image/0b/0b146510b068c1820c8dd35346945949.png" /><p>如果您查看Linux的手册页，您会发现tar肯定是标题“具有最多命令行选项的命令”的一个很好的候选者。值得庆幸的是，要允许我们从.tar.gz和tar.bz2文件中提取文件并进行良好的粒度控制，我们只需要记住这些选项中的一小部分。</p><div class="item_info"><span class="item_key"><a href="/tag/文件/">文件</a></span><span class="item_key"><a href="/tag/目录/">目录</a></span><span class="item_key"><a href="/tag/tar/">tar</a></span></div></div><div class="relate_story"><div><h3>相关文章</h3></div><ul><li><a href="/story/14796.html">如何在Linux上使用JOIN命令</a><li><a href="/story/14712.html">如何使用Google Drive Progative Web App</a><li><a href="/story/14624.html">解释的Linux文件时间戳：atime、mtime和ctime</a><li><a href="/story/14550.html">如何在Linux上使用Tail命令</a><li><a href="/story/14514.html">您想知道的关于Linux上的inode的所有信息</a><li><a href="/story/14471.html">如何在Google Drive中更改文件所有者</a><li><a href="/story/14454.html">如何在Linux上使用stat命令</a><li><a href="/story/14419.html">如何在Linux中获取文件或目录的大小</a><li><a href="/story/14347.html">如何使用cURL从Linux命令行下载文件</a><li><a href="/story/14315.html">免费下载：Microsoft批量重命名PowerToy</a><li><a href="/story/14306.html">如何创建USB驱动器的映像</a><li><a href="/story/14240.html">如何在Linux上使用LESS命令</a><li><a href="/story/14209.html">如何在Google Drive中分配任务</a><li><a href="/story/14188.html">如何最终确定和撤销对共享Google文件的访问</a><li><a href="/story/14167.html">如何共享指向您的Google文件的“复制”链接</a><li><a href="/story/14164.html">如何将Google文档、工作表或幻灯片文件共享为网页</a><li><a href="/story/14127.html">如何在iPhone和iPad上将文件复制和备份到外部存储</a><li><a href="/story/14088.html">如何在iPhone或iPad上使用Safari下载文件</a><li><a href="/story/14037.html">如何在Linux上创建别名和Shell函数</a><li><a href="/story/14026.html">如何在Linux上使用chgrp命令</a></ul></div></div><div id="footer">&copy 2020 fuzadu.com</div></body></html>